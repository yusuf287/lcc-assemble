import{r as j,a as Er,b as se}from"./vendor-Gm9i_4Ku.js";import{u as Ke,L as We,a as Sr,b as Ma,B as Ar,R as Pr,c as Ce,N as Xt}from"./router-C8Drx-ap.js";import{g as Tr,i as Ir,a as Lr,b as Vr,c as Rr,o as Fr,d as we,u as Qe,s as Or,e as bs,f as Ft,h as ea,E as Dr,r as Mr,j as $r,k as Ur,l as zr,m as Br,n as ws,q as me,p as Le,t as Ze,v as dt,w as ut,x as cs,z as Vt,T as Zr,A as qr,B as Wr,C as Yr}from"./firebase-D2Fwv8ty.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();var $a={exports:{}},ds={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=j,Hr=Symbol.for("react.element"),Qr=Symbol.for("react.fragment"),Jr=Object.prototype.hasOwnProperty,Kr=Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xr={key:!0,ref:!0,__self:!0,__source:!0};function Ua(s,t,a){var r,i={},n=null,l=null;a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Jr.call(t,r)&&!Xr.hasOwnProperty(r)&&(i[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Hr,type:s,key:n,ref:l,props:i,_owner:Kr.current}}ds.Fragment=Qr;ds.jsx=Ua;ds.jsxs=Ua;$a.exports=ds;var e=$a.exports,_s={},ta=Er;_s.createRoot=ta.createRoot,_s.hydrateRoot=ta.hydrateRoot;const ei={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_ENV:"development",VITE_APP_TITLE:"LCC Assemble",VITE_APP_VERSION:"1.0.0",VITE_FIREBASE_API_KEY:"AIzaSyCg1TwctyoWuTijSYrZAhXJ3IAj47HGPPM",VITE_FIREBASE_APP_ID:"1:203524932489:web:0db75b2a40c9ba86061758",VITE_FIREBASE_AUTH_DOMAIN:"lcc-assemble-49d97.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-BYZGHSG9RP",VITE_FIREBASE_MESSAGING_SENDER_ID:"203524932489",VITE_FIREBASE_PROJECT_ID:"lcc-assemble-49d97",VITE_FIREBASE_STORAGE_BUCKET:"lcc-assemble-49d97.firebasestorage.app",VITE_SKIP_EMAIL_VERIFICATION:"true"},ti={apiKey:"AIzaSyCg1TwctyoWuTijSYrZAhXJ3IAj47HGPPM",authDomain:"lcc-assemble-49d97.firebaseapp.com",projectId:"lcc-assemble-49d97",storageBucket:"lcc-assemble-49d97.firebasestorage.app",messagingSenderId:"203524932489",appId:"1:203524932489:web:0db75b2a40c9ba86061758"},si=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],vs=si.filter(s=>!ei[s]);if(vs.length>0)throw console.error("Missing Firebase environment variables:",vs),new Error(`Missing Firebase configuration: ${vs.join(", ")}`);let $t;const sa=Tr();sa.length>0?($t=sa[0],console.log("ðŸ”¥ Using existing Firebase app instance")):($t=Ir(ti),console.log("ðŸ”¥ Created new Firebase app instance"));const Ne=Lr($t),oe=Vr($t),ai=Rr($t),za=j.createContext(void 0),_e=()=>{const s=j.useContext(za);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},ri=({children:s})=>{const[t,a]=j.useState(null),[r,i]=j.useState(!0),[n,l]=j.useState(null),o=async p=>{var k;const Z=we(oe,"users",p.uid),O=await Ft(Z);if(O.exists()){const y=O.data();return{uid:p.uid,...y}}else{const y={uid:p.uid,email:p.email||"",displayName:p.displayName||((k=p.email)==null?void 0:k.split("@")[0])||"User",interests:[],dietaryPreferences:[],privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1},role:"member",status:"pending",defaultAvailability:{weekdays:!1,evenings:!1,weekends:!1},createdAt:new Date,updatedAt:new Date};return await ws(Z,y),y}};j.useEffect(()=>{const p=Fr(Ne,async Z=>{try{if(Z){const O=await o(Z);a(O)}else a(null)}catch(O){console.error("Error in auth state change:",O),a(null)}finally{i(!1)}});return()=>p()},[]);const c=async(p,Z)=>{try{l(null);const O=await Or(Ne,p,Z);if(!O.user.emailVerified)throw await bs(Ne),new Error("Please verify your email before logging in. Check your inbox for the verification link.");const k=await Ft(we(oe,"users",O.user.uid));if(k.exists()&&k.data().status==="suspended")throw await bs(Ne),new Error("Your account has been suspended. Please contact an administrator.")}catch(O){console.error("Login error:",O);const k=O.code==="auth/user-not-found"?"No account found with this email address. Please check your email or sign up for a new account.":O.code==="auth/wrong-password"?"Incorrect password. Please try again or reset your password.":O.code==="auth/invalid-credential"?"Invalid email or password. Please check your credentials and try again.":O.code==="auth/invalid-email"?"Please enter a valid email address.":O.code==="auth/user-disabled"?"This account has been disabled. Please contact an administrator.":O.code==="auth/too-many-requests"?"Too many failed login attempts. Please wait a few minutes before trying again.":O.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":O.code==="auth/operation-not-allowed"?"This sign-in method is not enabled. Please contact support.":O.message||"Login failed. Please try again.";throw l(k),new Error(k)}},d=async(p,Z,O,k)=>{try{l(null),console.log("ðŸ”¥ Starting registration process..."),console.log("ðŸ“§ Email:",p),console.log("ðŸ‘¤ Display Name:",O),console.log("ðŸ”¥ Creating Firebase Auth user...");const y=await zr(Ne,p,Z);console.log("âœ… Firebase Auth user created:",y.user.uid),console.log("ðŸ”¥ Updating Firebase Auth profile..."),await Br(y.user,{displayName:O}),console.log("âœ… Firebase Auth profile updated"),console.log("ðŸ”¥ Creating Firestore user document...");const C=we(oe,"users",y.user.uid),D={uid:y.user.uid,email:p,displayName:O,phoneNumber:(k==null?void 0:k.phoneNumber)||"",whatsappNumber:(k==null?void 0:k.whatsappNumber)||"",bio:(k==null?void 0:k.bio)||"",interests:(k==null?void 0:k.interests)||[],dietaryPreferences:(k==null?void 0:k.dietaryPreferences)||[],address:(k==null?void 0:k.address)||{street:"",city:"",postalCode:""},privacy:(k==null?void 0:k.privacy)||{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1},role:"member",status:"pending",defaultAvailability:{weekdays:!1,evenings:!1,weekends:!1},createdAt:new Date,updatedAt:new Date};console.log("ðŸ”¥ User data to save:",D),await ws(C,D),console.log("âœ… Firestore user document created"),console.log("ðŸ”¥ Sending email verification...");try{await ea(y.user),console.log("âœ… Email verification sent successfully")}catch(B){console.error("âŒ Email verification failed:",B),console.error("âŒ Email error code:",B.code),console.error("âŒ Email error message:",B.message),console.warn("âš ï¸ Registration completed but email verification failed. User may need to verify manually.")}console.log("ðŸŽ‰ Registration completed successfully!")}catch(y){console.error("âŒ Registration error:",y),console.error("âŒ Error code:",y.code),console.error("âŒ Error message:",y.message);const C=y.code==="auth/email-already-in-use"?"This email is already registered. Please try logging in instead.":y.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password (at least 6 characters).":y.code==="auth/invalid-email"?"Please enter a valid email address.":y.code==="auth/operation-not-allowed"?"Email/password registration is not enabled. Please contact support.":y.code==="auth/too-many-requests"?"Too many registration attempts. Please wait a few minutes before trying again.":y.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":y.code==="permission-denied"?"Registration is currently disabled. Please contact an administrator.":y.code==="unavailable"?"Service temporarily unavailable. Please try again later.":y.message||"Registration failed. Please try again.";throw l(C),new Error(C)}},u=async()=>{try{await bs(Ne)}catch(p){throw console.error("Logout error:",p),new Error(p.message||"Logout failed")}},x=async p=>{try{await Ur(Ne,p)}catch(Z){console.error("Password reset error:",Z),console.error("Error code:",Z.code),console.error("Error message:",Z.message);const O=Z.code==="auth/user-not-found"?"No account found with this email address.":Z.code==="auth/invalid-email"?"Please enter a valid email address.":Z.code==="auth/too-many-requests"?"Too many password reset requests. Please wait before trying again.":Z.code==="auth/network-request-failed"?"Network error. Please check your internet connection and try again.":Z.message||"Password reset failed. Please try again.";throw new Error(O)}},h=async p=>{if(!t)throw new Error("No user logged in");try{const Z=we(oe,"users",t.uid),O={...p,updatedAt:new Date};await Qe(Z,O),a(k=>k?{...k,...p}:null)}catch(Z){throw console.error("Profile update error:",Z),new Error(Z.message||"Profile update failed")}},v={user:t,loading:r,login:c,register:d,logout:u,resetPassword:x,updateProfile:h,changePassword:async(p,Z)=>{if(!Ne.currentUser)throw new Error("No user logged in");if(!Ne.currentUser.email)throw new Error("User email not available");try{const O=Dr.credential(Ne.currentUser.email,p);await Mr(Ne.currentUser,O),await $r(Ne.currentUser,Z),console.log("âœ… Password changed successfully")}catch(O){console.error("âŒ Password change error:",O),console.error("âŒ Error code:",O.code),console.error("âŒ Error message:",O.message);const k=O.code==="auth/wrong-password"?"Current password is incorrect":O.code==="auth/weak-password"?"New password is too weak. Please choose a stronger password.":O.code==="auth/requires-recent-login"?"Please log out and log back in before changing your password.":O.message||"Failed to change password";throw new Error(k)}},resendEmailVerification:async()=>{if(!Ne.currentUser)throw new Error("No user logged in");try{console.log("ðŸ”„ Resending email verification..."),await ea(Ne.currentUser),console.log("âœ… Email verification resent successfully")}catch(p){console.error("âŒ Resend email verification failed:",p),console.error("âŒ Error code:",p.code),console.error("âŒ Error message:",p.message);const Z=p.code==="auth/too-many-requests"?"Too many requests. Please wait before requesting another verification email.":p.code==="auth/user-token-expired"?"Your session has expired. Please log in again.":p.message||"Failed to resend verification email";throw new Error(Z)}},checkEmailVerificationStatus:async()=>{if(!Ne.currentUser)return!1;try{await Ne.currentUser.reload();const p=Ne.currentUser.emailVerified;console.log("ðŸ“§ Email verification status:",p);const Z=await Ft(we(oe,"users",Ne.currentUser.uid));if(Z.exists()){const k=Z.data().emailVerified||!1;return console.log("ðŸ“§ Database email verification status:",k),k}return p}catch(p){return console.error("âŒ Error checking email verification status:",p),!1}},verifyEmailManually:async p=>{try{console.log("ðŸ”§ Manually verifying email for user:",p);const Z=we(oe,"users",p);await Qe(Z,{emailVerified:!0,updatedAt:new Date}),console.log("âœ… Email manually verified for testing")}catch(Z){throw console.error("Manual verification error:",Z),new Error("Manual verification failed")}},signIn:c,isLoading:r,error:n,clearError:()=>l(null),userProfile:t,updateUserProfile:h};return e.jsx(za.Provider,{value:v,children:s})};let ii={data:""},ni=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||ii,li=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oi=/\/\*[^]*?\*\/|  +/g,aa=/\n+/g,ot=(s,t)=>{let a="",r="",i="";for(let n in s){let l=s[n];n[0]=="@"?n[1]=="i"?a=n+" "+l+";":r+=n[1]=="f"?ot(l,n):n+"{"+ot(l,n[1]=="k"?"":t)+"}":typeof l=="object"?r+=ot(l,t?t.replace(/([^,])+/g,o=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):n):l!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ot.p?ot.p(n,l):n+":"+l+";")}return a+(t&&i?t+"{"+i+"}":i)+r},Xe={},Ba=s=>{if(typeof s=="object"){let t="";for(let a in s)t+=a+Ba(s[a]);return t}return s},ci=(s,t,a,r,i)=>{let n=Ba(s),l=Xe[n]||(Xe[n]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(n));if(!Xe[l]){let c=n!==s?s:(d=>{let u,x,h=[{}];for(;u=li.exec(d.replace(oi,""));)u[4]?h.shift():u[3]?(x=u[3].replace(aa," ").trim(),h.unshift(h[0][x]=h[0][x]||{})):h[0][u[1]]=u[2].replace(aa," ").trim();return h[0]})(s);Xe[l]=ot(i?{["@keyframes "+l]:c}:c,a?"":"."+l)}let o=a&&Xe.g?Xe.g:null;return a&&(Xe.g=Xe[l]),((c,d,u,x)=>{x?d.data=d.data.replace(x,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Xe[l],t,r,o),l},di=(s,t,a)=>s.reduce((r,i,n)=>{let l=t[n];if(l&&l.call){let o=l(a),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":ot(o,""):o===!1?"":o}return r+i+(l??"")},"");function us(s){let t=this||{},a=s.call?s(t.p):s;return ci(a.unshift?a.raw?di(a,[].slice.call(arguments,1),t.p):a.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):a,ni(t.target),t.g,t.o,t.k)}let Za,ks,Cs;us.bind({g:1});let at=us.bind({k:1});function ui(s,t,a,r){ot.p=t,Za=s,ks=a,Cs=r}function ft(s,t){let a=this||{};return function(){let r=arguments;function i(n,l){let o=Object.assign({},n),c=o.className||i.className;a.p=Object.assign({theme:ks&&ks()},o),a.o=/ *go\d+/.test(c),o.className=us.apply(a,r)+(c?" "+c:"");let d=s;return s[0]&&(d=o.as||s,delete o.as),Cs&&d[0]&&Cs(o),Za(d,o)}return i}}var mi=s=>typeof s=="function",es=(s,t)=>mi(s)?s(t):s,hi=(()=>{let s=0;return()=>(++s).toString()})(),qa=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),xi=20,Os="default",Wa=(s,t)=>{let{toastLimit:a}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,a)};case 1:return{...s,toasts:s.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:r}=t;return Wa(s,{type:s.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...s,toasts:s.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let n=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+n}))}}},Kt=[],Ya={toasts:[],pausedAt:void 0,settings:{toastLimit:xi}},qe={},Ga=(s,t=Os)=>{qe[t]=Wa(qe[t]||Ya,s),Kt.forEach(([a,r])=>{a===t&&r(qe[t])})},Ha=s=>Object.keys(qe).forEach(t=>Ga(s,t)),fi=s=>Object.keys(qe).find(t=>qe[t].toasts.some(a=>a.id===s)),ms=(s=Os)=>t=>{Ga(t,s)},gi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pi=(s={},t=Os)=>{let[a,r]=j.useState(qe[t]||Ya),i=j.useRef(qe[t]);j.useEffect(()=>(i.current!==qe[t]&&r(qe[t]),Kt.push([t,r]),()=>{let l=Kt.findIndex(([o])=>o===t);l>-1&&Kt.splice(l,1)}),[t]);let n=a.toasts.map(l=>{var o,c,d;return{...s,...s[l.type],...l,removeDelay:l.removeDelay||((o=s[l.type])==null?void 0:o.removeDelay)||(s==null?void 0:s.removeDelay),duration:l.duration||((c=s[l.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||gi[l.type],style:{...s.style,...(d=s[l.type])==null?void 0:d.style,...l.style}}});return{...a,toasts:n}},yi=(s,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...a,id:(a==null?void 0:a.id)||hi()}),Zt=s=>(t,a)=>{let r=yi(t,s,a);return ms(r.toasterId||fi(r.id))({type:2,toast:r}),r.id},je=(s,t)=>Zt("blank")(s,t);je.error=Zt("error");je.success=Zt("success");je.loading=Zt("loading");je.custom=Zt("custom");je.dismiss=(s,t)=>{let a={type:3,toastId:s};t?ms(t)(a):Ha(a)};je.dismissAll=s=>je.dismiss(void 0,s);je.remove=(s,t)=>{let a={type:4,toastId:s};t?ms(t)(a):Ha(a)};je.removeAll=s=>je.remove(void 0,s);je.promise=(s,t,a)=>{let r=je.loading(t.loading,{...a,...a==null?void 0:a.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let n=t.success?es(t.success,i):void 0;return n?je.success(n,{id:r,...a,...a==null?void 0:a.success}):je.dismiss(r),i}).catch(i=>{let n=t.error?es(t.error,i):void 0;n?je.error(n,{id:r,...a,...a==null?void 0:a.error}):je.dismiss(r)}),s};var bi=1e3,vi=(s,t="default")=>{let{toasts:a,pausedAt:r}=pi(s,t),i=j.useRef(new Map).current,n=j.useCallback((x,h=bi)=>{if(i.has(x))return;let b=setTimeout(()=>{i.delete(x),l({type:4,toastId:x})},h);i.set(x,b)},[]);j.useEffect(()=>{if(r)return;let x=Date.now(),h=a.map(b=>{if(b.duration===1/0)return;let w=(b.duration||0)+b.pauseDuration-(x-b.createdAt);if(w<0){b.visible&&je.dismiss(b.id);return}return setTimeout(()=>je.dismiss(b.id,t),w)});return()=>{h.forEach(b=>b&&clearTimeout(b))}},[a,r,t]);let l=j.useCallback(ms(t),[t]),o=j.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=j.useCallback((x,h)=>{l({type:1,toast:{id:x,height:h}})},[l]),d=j.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),u=j.useCallback((x,h)=>{let{reverseOrder:b=!1,gutter:w=8,defaultPosition:T}=h||{},g=a.filter(L=>(L.position||T)===(x.position||T)&&L.height),I=g.findIndex(L=>L.id===x.id),S=g.filter((L,_)=>_<I&&L.visible).length;return g.filter(L=>L.visible).slice(...b?[S+1]:[0,S]).reduce((L,_)=>L+(_.height||0)+w,0)},[a]);return j.useEffect(()=>{a.forEach(x=>{if(x.dismissed)n(x.id,x.removeDelay);else{let h=i.get(x.id);h&&(clearTimeout(h),i.delete(x.id))}})},[a,n]),{toasts:a,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},ji=at`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ni=at`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wi=at`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_i=ft("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ji} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ni} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ki=at`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ci=ft("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${ki} 1s linear infinite;
`,Ei=at`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Si=at`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ai=ft("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ei} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Si} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Pi=ft("div")`
  position: absolute;
`,Ti=ft("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ii=at`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Li=ft("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ii} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vi=({toast:s})=>{let{icon:t,type:a,iconTheme:r}=s;return t!==void 0?typeof t=="string"?j.createElement(Li,null,t):t:a==="blank"?null:j.createElement(Ti,null,j.createElement(Ci,{...r}),a!=="loading"&&j.createElement(Pi,null,a==="error"?j.createElement(_i,{...r}):j.createElement(Ai,{...r})))},Ri=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Fi=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Oi="0%{opacity:0;} 100%{opacity:1;}",Di="0%{opacity:1;} 100%{opacity:0;}",Mi=ft("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$i=ft("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ui=(s,t)=>{let a=s.includes("top")?1:-1,[r,i]=qa()?[Oi,Di]:[Ri(a),Fi(a)];return{animation:t?`${at(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${at(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zi=j.memo(({toast:s,position:t,style:a,children:r})=>{let i=s.height?Ui(s.position||t||"top-center",s.visible):{opacity:0},n=j.createElement(Vi,{toast:s}),l=j.createElement($i,{...s.ariaProps},es(s.message,s));return j.createElement(Mi,{className:s.className,style:{...i,...a,...s.style}},typeof r=="function"?r({icon:n,message:l}):j.createElement(j.Fragment,null,n,l))});ui(j.createElement);var Bi=({id:s,className:t,style:a,onHeightUpdate:r,children:i})=>{let n=j.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;r(s,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return j.createElement("div",{ref:n,className:t,style:a},i)},Zi=(s,t)=>{let a=s.includes("top"),r=a?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qa()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...r,...i}},qi=us`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qt=16,Wi=({reverseOrder:s,position:t="top-center",toastOptions:a,gutter:r,children:i,toasterId:n,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:d}=vi(a,n);return j.createElement("div",{"data-rht-toaster":n||"",style:{position:"fixed",zIndex:9999,top:Qt,left:Qt,right:Qt,bottom:Qt,pointerEvents:"none",...l},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let x=u.position||t,h=d.calculateOffset(u,{reverseOrder:s,gutter:r,defaultPosition:t}),b=Zi(x,h);return j.createElement(Bi,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?qi:"",style:b},u.type==="custom"?es(u.message,u):i?i(u):j.createElement(zi,{toast:u,position:x}))}))},Q=je;const F=({variant:s="primary",size:t="md",isLoading:a=!1,disabled:r,className:i,children:n,...l})=>{const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},d={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},u=[o,c[s],d[t],a&&"cursor-wait",i].filter(Boolean).join(" ");return e.jsxs("button",{className:u,disabled:r||a,...l,children:[a&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Loading...":n]})},te=({type:s="text",name:t,value:a,onChange:r,placeholder:i,required:n=!1,disabled:l=!1,error:o,label:c,helperText:d,className:u=""})=>{const w=`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${o?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""} ${u}`.trim();return e.jsxs("div",{className:"space-y-1",children:[c&&e.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:c}),e.jsx("input",{type:s,name:t,id:t,value:a,onChange:r,placeholder:i,required:n,disabled:l,className:w}),o&&e.jsx("p",{className:"text-sm text-red-600",children:o}),d&&!o&&e.jsx("p",{className:"text-sm text-gray-500",children:d})]})},J=({children:s,className:t="",padding:a="md",shadow:r="md"})=>{const i="bg-white rounded-lg border border-gray-200",n={none:"",sm:"p-4",md:"p-6",lg:"p-8"},l={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},o=[i,n[a],l[r],t].filter(Boolean).join(" ");return e.jsx("div",{className:o,children:s})},Ye=({variant:s="info",type:t,message:a,children:r,className:i=""})=>{const c=`p-4 rounded-md ${{success:"bg-green-50 border border-green-200 text-green-800",error:"bg-red-50 border border-red-200 text-red-800",warning:"bg-yellow-50 border border-yellow-200 text-yellow-800",info:"bg-blue-50 border border-blue-200 text-blue-800"}[t||s]} ${i}`.trim();return e.jsx("div",{className:c,role:"alert",children:a||r})},Yi=()=>{const[s,t]=j.useState(""),[a,r]=j.useState(""),[i,n]=j.useState(!1),[l,o]=j.useState(""),{login:c}=_e(),d=Ke(),u=async x=>{x.preventDefault(),o(""),n(!0);try{await c(s,a),Q.success("Login successful!"),d("/dashboard")}catch(h){console.error("Login error:",h);const b=h.message||"Login failed. Please try again.";o(b),Q.error(b)}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to LCC Assemble"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Connect with your community"})]}),e.jsx(J,{className:"p-8",children:e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[l&&e.jsx(Ye,{variant:"error",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx(te,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:x=>t(x.target.value),placeholder:"Enter your email"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx(te,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>r(x.target.value),placeholder:"Enter your password"})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"text-sm",children:e.jsx(We,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Don't have an account? Sign up"})})}),e.jsx("div",{children:e.jsx(F,{type:"submit",className:"w-full",disabled:i,isLoading:i,children:i?"Signing in...":"Sign in"})})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["By signing in, you agree to our"," ",e.jsx(We,{to:"/terms",className:"font-medium text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",e.jsx(We,{to:"/privacy",className:"font-medium text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})})]})})};var qt=s=>s.type==="checkbox",gt=s=>s instanceof Date,Ee=s=>s==null;const Qa=s=>typeof s=="object";var ye=s=>!Ee(s)&&!Array.isArray(s)&&Qa(s)&&!gt(s),Ja=s=>ye(s)&&s.target?qt(s.target)?s.target.checked:s.target.value:s,Gi=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Ka=(s,t)=>s.has(Gi(t)),Hi=s=>{const t=s.constructor&&s.constructor.prototype;return ye(t)&&t.hasOwnProperty("isPrototypeOf")},Ds=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function be(s){let t;const a=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!(Ds&&(s instanceof Blob||r))&&(a||ye(s)))if(t=a?[]:Object.create(Object.getPrototypeOf(s)),!a&&!Hi(s))t=s;else for(const i in s)s.hasOwnProperty(i)&&(t[i]=be(s[i]));else return s;return t}var hs=s=>/^\w*$/.test(s),fe=s=>s===void 0,Ms=s=>Array.isArray(s)?s.filter(Boolean):[],$s=s=>Ms(s.replace(/["|']|\]/g,"").split(/\.|\[/)),R=(s,t,a)=>{if(!t||!ye(s))return a;const r=(hs(t)?[t]:$s(t)).reduce((i,n)=>Ee(i)?i:i[n],s);return fe(r)||r===s?fe(s[t])?a:s[t]:r},Te=s=>typeof s=="boolean",de=(s,t,a)=>{let r=-1;const i=hs(t)?[t]:$s(t),n=i.length,l=n-1;for(;++r<n;){const o=i[r];let c=a;if(r!==l){const d=s[o];c=ye(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;s[o]=c,s=s[o]}};const ts={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ue={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},et={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Xa=se.createContext(null);Xa.displayName="HookFormContext";const Us=()=>se.useContext(Xa);var er=(s,t,a,r=!0)=>{const i={defaultValues:t._defaultValues};for(const n in s)Object.defineProperty(i,n,{get:()=>{const l=n;return t._proxyFormState[l]!==Ue.all&&(t._proxyFormState[l]=!r||Ue.all),a&&(a[l]=!0),s[l]}});return i};const zs=typeof window<"u"?se.useLayoutEffect:se.useEffect;function Qi(s){const t=Us(),{control:a=t.control,disabled:r,name:i,exact:n}=s||{},[l,o]=se.useState(a._formState),c=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return zs(()=>a._subscribe({name:i,formState:c.current,exact:n,callback:d=>{!r&&o({...a._formState,...d})}}),[i,r,n]),se.useEffect(()=>{c.current.isValid&&a._setValid(!0)},[a]),se.useMemo(()=>er(l,a,c.current,!1),[l,a])}var Ie=s=>typeof s=="string",tr=(s,t,a,r,i)=>Ie(s)?(r&&t.watch.add(s),R(a,s,i)):Array.isArray(s)?s.map(n=>(r&&t.watch.add(n),R(a,n))):(r&&(t.watchAll=!0),a),Es=s=>Ee(s)||!Qa(s);function tt(s,t,a=new WeakSet){if(Es(s)||Es(t))return s===t;if(gt(s)&&gt(t))return s.getTime()===t.getTime();const r=Object.keys(s),i=Object.keys(t);if(r.length!==i.length)return!1;if(a.has(s)||a.has(t))return!0;a.add(s),a.add(t);for(const n of r){const l=s[n];if(!i.includes(n))return!1;if(n!=="ref"){const o=t[n];if(gt(l)&&gt(o)||ye(l)&&ye(o)||Array.isArray(l)&&Array.isArray(o)?!tt(l,o,a):l!==o)return!1}}return!0}function Ji(s){const t=Us(),{control:a=t.control,name:r,defaultValue:i,disabled:n,exact:l,compute:o}=s||{},c=se.useRef(i),d=se.useRef(o),u=se.useRef(void 0);d.current=o;const x=se.useMemo(()=>a._getWatch(r,c.current),[a,r]),[h,b]=se.useState(d.current?d.current(x):x);return zs(()=>a._subscribe({name:r,formState:{values:!0},exact:l,callback:w=>{if(!n){const T=tr(r,a._names,w.values||a._formValues,!1,c.current);if(d.current){const g=d.current(T);tt(g,u.current)||(b(g),u.current=g)}else b(T)}}}),[a,n,r,l]),se.useEffect(()=>a._removeUnmounted()),h}function Ki(s){const t=Us(),{name:a,disabled:r,control:i=t.control,shouldUnregister:n,defaultValue:l}=s,o=Ka(i._names.array,a),c=se.useMemo(()=>R(i._formValues,a,R(i._defaultValues,a,l)),[i,a,l]),d=Ji({control:i,name:a,defaultValue:c,exact:!0}),u=Qi({control:i,name:a,exact:!0}),x=se.useRef(s),h=se.useRef(void 0),b=se.useRef(i.register(a,{...s.rules,value:d,...Te(s.disabled)?{disabled:s.disabled}:{}}));x.current=s;const w=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!R(u.errors,a)},isDirty:{enumerable:!0,get:()=>!!R(u.dirtyFields,a)},isTouched:{enumerable:!0,get:()=>!!R(u.touchedFields,a)},isValidating:{enumerable:!0,get:()=>!!R(u.validatingFields,a)},error:{enumerable:!0,get:()=>R(u.errors,a)}}),[u,a]),T=se.useCallback(L=>b.current.onChange({target:{value:Ja(L),name:a},type:ts.CHANGE}),[a]),g=se.useCallback(()=>b.current.onBlur({target:{value:R(i._formValues,a),name:a},type:ts.BLUR}),[a,i._formValues]),I=se.useCallback(L=>{const _=R(i._fields,a);_&&L&&(_._f.ref={focus:()=>L.focus&&L.focus(),select:()=>L.select&&L.select(),setCustomValidity:P=>L.setCustomValidity(P),reportValidity:()=>L.reportValidity()})},[i._fields,a]),S=se.useMemo(()=>({name:a,value:d,...Te(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:T,onBlur:g,ref:I}),[a,r,u.disabled,T,g,I,d]);return se.useEffect(()=>{const L=i._options.shouldUnregister||n,_=h.current;_&&_!==a&&!o&&i.unregister(_),i.register(a,{...x.current.rules,...Te(x.current.disabled)?{disabled:x.current.disabled}:{}});const P=(v,p)=>{const Z=R(i._fields,v);Z&&Z._f&&(Z._f.mount=p)};if(P(a,!0),L){const v=be(R(i._options.defaultValues,a));de(i._defaultValues,a,v),fe(R(i._formValues,a))&&de(i._formValues,a,v)}return!o&&i.register(a),h.current=a,()=>{(o?L&&!i._state.action:L)?i.unregister(a):P(a,!1)}},[a,i,o,n]),se.useEffect(()=>{i._setDisabledField({disabled:r,name:a})},[r,a,i]),se.useMemo(()=>({field:S,formState:u,fieldState:w}),[S,u,w])}const $e=s=>s.render(Ki(s));var Bs=(s,t,a,r,i)=>t?{...a[s],types:{...a[s]&&a[s].types?a[s].types:{},[r]:i||!0}}:{},Ot=s=>Array.isArray(s)?s:[s],ra=()=>{let s=[];return{get observers(){return s},next:i=>{for(const n of s)n.next&&n.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(n=>n!==i)}}),unsubscribe:()=>{s=[]}}};function sr(s,t){const a={};for(const r in s)if(s.hasOwnProperty(r)){const i=s[r],n=t[r];if(i&&ye(i)&&n){const l=sr(i,n);ye(l)&&(a[r]=l)}else s[r]&&(a[r]=n)}return a}var Pe=s=>ye(s)&&!Object.keys(s).length,Zs=s=>s.type==="file",ze=s=>typeof s=="function",ss=s=>{if(!Ds)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ar=s=>s.type==="select-multiple",qs=s=>s.type==="radio",Xi=s=>qs(s)||qt(s),js=s=>ss(s)&&s.isConnected;function en(s,t){const a=t.slice(0,-1).length;let r=0;for(;r<a;)s=fe(s)?r++:s[t[r++]];return s}function tn(s){for(const t in s)if(s.hasOwnProperty(t)&&!fe(s[t]))return!1;return!0}function ge(s,t){const a=Array.isArray(t)?t:hs(t)?[t]:$s(t),r=a.length===1?s:en(s,a),i=a.length-1,n=a[i];return r&&delete r[n],i!==0&&(ye(r)&&Pe(r)||Array.isArray(r)&&tn(r))&&ge(s,a.slice(0,-1)),s}var sn=s=>{for(const t in s)if(ze(s[t]))return!0;return!1};function rr(s){return Array.isArray(s)||ye(s)&&!sn(s)}function Ss(s,t={}){for(const a in s)rr(s[a])?(t[a]=Array.isArray(s[a])?[]:{},Ss(s[a],t[a])):Ee(s[a])||(t[a]=!0);return t}function wt(s,t,a){a||(a=Ss(t));for(const r in s)rr(s[r])?fe(t)||Es(a[r])?a[r]=Ss(s[r],Array.isArray(s[r])?[]:{}):wt(s[r],Ee(t)?{}:t[r],a[r]):a[r]=!tt(s[r],t[r]);return a}const ia={value:!1,isValid:!1},na={value:!0,isValid:!0};var ir=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!fe(s[0].attributes.value)?fe(s[0].value)||s[0].value===""?na:{value:s[0].value,isValid:!0}:na:ia}return ia},nr=(s,{valueAsNumber:t,valueAsDate:a,setValueAs:r})=>fe(s)?s:t?s===""?NaN:s&&+s:a&&Ie(s)?new Date(s):r?r(s):s;const la={isValid:!1,value:null};var lr=s=>Array.isArray(s)?s.reduce((t,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:t,la):la;function oa(s){const t=s.ref;return Zs(t)?t.files:qs(t)?lr(s.refs).value:ar(t)?[...t.selectedOptions].map(({value:a})=>a):qt(t)?ir(s.refs).value:nr(fe(t.value)?s.ref.value:t.value,s)}var an=(s,t,a,r)=>{const i={};for(const n of s){const l=R(t,n);l&&de(i,n,l._f)}return{criteriaMode:a,names:[...s],fields:i,shouldUseNativeValidation:r}},as=s=>s instanceof RegExp,Lt=s=>fe(s)?s:as(s)?s.source:ye(s)?as(s.value)?s.value.source:s.value:s,ca=s=>({isOnSubmit:!s||s===Ue.onSubmit,isOnBlur:s===Ue.onBlur,isOnChange:s===Ue.onChange,isOnAll:s===Ue.all,isOnTouch:s===Ue.onTouched});const da="AsyncFunction";var rn=s=>!!s&&!!s.validate&&!!(ze(s.validate)&&s.validate.constructor.name===da||ye(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===da)),nn=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),ua=(s,t,a)=>!a&&(t.watchAll||t.watch.has(s)||[...t.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const Dt=(s,t,a,r)=>{for(const i of a||Object.keys(s)){const n=R(s,i);if(n){const{_f:l,...o}=n;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(Dt(o,t))break}else if(ye(o)&&Dt(o,t))break}}};function ma(s,t,a){const r=R(s,a);if(r||hs(a))return{error:r,name:a};const i=a.split(".");for(;i.length;){const n=i.join("."),l=R(t,n),o=R(s,n);if(l&&!Array.isArray(l)&&a!==n)return{name:a};if(o&&o.type)return{name:n,error:o};if(o&&o.root&&o.root.type)return{name:`${n}.root`,error:o.root};i.pop()}return{name:a}}var ln=(s,t,a,r)=>{a(s);const{name:i,...n}=s;return Pe(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(l=>t[l]===(!r||Ue.all))},on=(s,t,a)=>!s||!t||s===t||Ot(s).some(r=>r&&(a?r===t:r.startsWith(t)||t.startsWith(r))),cn=(s,t,a,r,i)=>i.isOnAll?!1:!a&&i.isOnTouch?!(t||s):(a?r.isOnBlur:i.isOnBlur)?!s:(a?r.isOnChange:i.isOnChange)?s:!0,dn=(s,t)=>!Ms(R(s,t)).length&&ge(s,t),un=(s,t,a)=>{const r=Ot(R(s,a));return de(r,"root",t[a]),de(s,a,r),s};function ha(s,t,a="validate"){if(Ie(s)||Array.isArray(s)&&s.every(Ie)||Te(s)&&!s)return{type:a,message:Ie(s)?s:"",ref:t}}var vt=s=>ye(s)&&!as(s)?s:{value:s,message:""},xa=async(s,t,a,r,i,n)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:x,max:h,pattern:b,validate:w,name:T,valueAsNumber:g,mount:I}=s._f,S=R(a,T);if(!I||t.has(T))return{};const L=o?o[0]:l,_=C=>{i&&L.reportValidity&&(L.setCustomValidity(Te(C)?"":C||""),L.reportValidity())},P={},v=qs(l),p=qt(l),Z=v||p,O=(g||Zs(l))&&fe(l.value)&&fe(S)||ss(l)&&l.value===""||S===""||Array.isArray(S)&&!S.length,k=Bs.bind(null,T,r,P),y=(C,D,B,q=et.maxLength,M=et.minLength)=>{const re=C?D:B;P[T]={type:C?q:M,message:re,ref:l,...k(C?q:M,re)}};if(n?!Array.isArray(S)||!S.length:c&&(!Z&&(O||Ee(S))||Te(S)&&!S||p&&!ir(o).isValid||v&&!lr(o).isValid)){const{value:C,message:D}=Ie(c)?{value:!!c,message:c}:vt(c);if(C&&(P[T]={type:et.required,message:D,ref:L,...k(et.required,D)},!r))return _(D),P}if(!O&&(!Ee(x)||!Ee(h))){let C,D;const B=vt(h),q=vt(x);if(!Ee(S)&&!isNaN(S)){const M=l.valueAsNumber||S&&+S;Ee(B.value)||(C=M>B.value),Ee(q.value)||(D=M<q.value)}else{const M=l.valueAsDate||new Date(S),re=yt=>new Date(new Date().toDateString()+" "+yt),ke=l.type=="time",Ae=l.type=="week";Ie(B.value)&&S&&(C=ke?re(S)>re(B.value):Ae?S>B.value:M>new Date(B.value)),Ie(q.value)&&S&&(D=ke?re(S)<re(q.value):Ae?S<q.value:M<new Date(q.value))}if((C||D)&&(y(!!C,B.message,q.message,et.max,et.min),!r))return _(P[T].message),P}if((d||u)&&!O&&(Ie(S)||n&&Array.isArray(S))){const C=vt(d),D=vt(u),B=!Ee(C.value)&&S.length>+C.value,q=!Ee(D.value)&&S.length<+D.value;if((B||q)&&(y(B,C.message,D.message),!r))return _(P[T].message),P}if(b&&!O&&Ie(S)){const{value:C,message:D}=vt(b);if(as(C)&&!S.match(C)&&(P[T]={type:et.pattern,message:D,ref:l,...k(et.pattern,D)},!r))return _(D),P}if(w){if(ze(w)){const C=await w(S,a),D=ha(C,L);if(D&&(P[T]={...D,...k(et.validate,D.message)},!r))return _(D.message),P}else if(ye(w)){let C={};for(const D in w){if(!Pe(C)&&!r)break;const B=ha(await w[D](S,a),L,D);B&&(C={...B,...k(D,B.message)},_(B.message),r&&(P[T]=C))}if(!Pe(C)&&(P[T]={ref:L,...C},!r))return P}}return _(!0),P};const mn={mode:Ue.onSubmit,reValidateMode:Ue.onChange,shouldFocusError:!0};function hn(s={}){let t={...mn,...s},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:ze(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=ye(t.defaultValues)||ye(t.values)?be(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:be(i),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...u};const h={array:ra(),state:ra()},b=t.criteriaMode===Ue.all,w=m=>f=>{clearTimeout(d),d=setTimeout(m,f)},T=async m=>{if(!t.disabled&&(u.isValid||x.isValid||m)){const f=t.resolver?Pe((await p()).errors):await O(r,!0);f!==a.isValid&&h.state.next({isValid:f})}},g=(m,f)=>{!t.disabled&&(u.isValidating||u.validatingFields||x.isValidating||x.validatingFields)&&((m||Array.from(o.mount)).forEach(N=>{N&&(f?de(a.validatingFields,N,f):ge(a.validatingFields,N))}),h.state.next({validatingFields:a.validatingFields,isValidating:!Pe(a.validatingFields)}))},I=(m,f=[],N,z,V=!0,A=!0)=>{if(z&&N&&!t.disabled){if(l.action=!0,A&&Array.isArray(R(r,m))){const H=N(R(r,m),z.argA,z.argB);V&&de(r,m,H)}if(A&&Array.isArray(R(a.errors,m))){const H=N(R(a.errors,m),z.argA,z.argB);V&&de(a.errors,m,H),dn(a.errors,m)}if((u.touchedFields||x.touchedFields)&&A&&Array.isArray(R(a.touchedFields,m))){const H=N(R(a.touchedFields,m),z.argA,z.argB);V&&de(a.touchedFields,m,H)}(u.dirtyFields||x.dirtyFields)&&(a.dirtyFields=wt(i,n)),h.state.next({name:m,isDirty:y(m,f),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else de(n,m,f)},S=(m,f)=>{de(a.errors,m,f),h.state.next({errors:a.errors})},L=m=>{a.errors=m,h.state.next({errors:a.errors,isValid:!1})},_=(m,f,N,z)=>{const V=R(r,m);if(V){const A=R(n,m,fe(N)?R(i,m):N);fe(A)||z&&z.defaultChecked||f?de(n,m,f?A:oa(V._f)):B(m,A),l.mount&&T()}},P=(m,f,N,z,V)=>{let A=!1,H=!1;const ce={name:m};if(!t.disabled){if(!N||z){(u.isDirty||x.isDirty)&&(H=a.isDirty,a.isDirty=ce.isDirty=y(),A=H!==ce.isDirty);const ue=tt(R(i,m),f);H=!!R(a.dirtyFields,m),ue?ge(a.dirtyFields,m):de(a.dirtyFields,m,!0),ce.dirtyFields=a.dirtyFields,A=A||(u.dirtyFields||x.dirtyFields)&&H!==!ue}if(N){const ue=R(a.touchedFields,m);ue||(de(a.touchedFields,m,N),ce.touchedFields=a.touchedFields,A=A||(u.touchedFields||x.touchedFields)&&ue!==N)}A&&V&&h.state.next(ce)}return A?ce:{}},v=(m,f,N,z)=>{const V=R(a.errors,m),A=(u.isValid||x.isValid)&&Te(f)&&a.isValid!==f;if(t.delayError&&N?(c=w(()=>S(m,N)),c(t.delayError)):(clearTimeout(d),c=null,N?de(a.errors,m,N):ge(a.errors,m)),(N?!tt(V,N):V)||!Pe(z)||A){const H={...z,...A&&Te(f)?{isValid:f}:{},errors:a.errors,name:m};a={...a,...H},h.state.next(H)}},p=async m=>{g(m,!0);const f=await t.resolver(n,t.context,an(m||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(m),f},Z=async m=>{const{errors:f}=await p(m);if(m)for(const N of m){const z=R(f,N);z?de(a.errors,N,z):ge(a.errors,N)}else a.errors=f;return f},O=async(m,f,N={valid:!0})=>{for(const z in m){const V=m[z];if(V){const{_f:A,...H}=V;if(A){const ce=o.array.has(A.name),ue=V._f&&rn(V._f);ue&&u.validatingFields&&g([A.name],!0);const Fe=await xa(V,o.disabled,n,b,t.shouldUseNativeValidation&&!f,ce);if(ue&&u.validatingFields&&g([A.name]),Fe[A.name]&&(N.valid=!1,f))break;!f&&(R(Fe,A.name)?ce?un(a.errors,Fe,A.name):de(a.errors,A.name,Fe[A.name]):ge(a.errors,A.name))}!Pe(H)&&await O(H,f,N)}}return N.valid},k=()=>{for(const m of o.unMount){const f=R(r,m);f&&(f._f.refs?f._f.refs.every(N=>!js(N)):!js(f._f.ref))&&It(m)}o.unMount=new Set},y=(m,f)=>!t.disabled&&(m&&f&&de(n,m,f),!tt(yt(),i)),C=(m,f,N)=>tr(m,o,{...l.mount?n:fe(f)?i:Ie(m)?{[m]:f}:f},N,f),D=m=>Ms(R(l.mount?n:i,m,t.shouldUnregister?R(i,m,[]):[])),B=(m,f,N={})=>{const z=R(r,m);let V=f;if(z){const A=z._f;A&&(!A.disabled&&de(n,m,nr(f,A)),V=ss(A.ref)&&Ee(f)?"":f,ar(A.ref)?[...A.ref.options].forEach(H=>H.selected=V.includes(H.value)):A.refs?qt(A.ref)?A.refs.forEach(H=>{(!H.defaultChecked||!H.disabled)&&(Array.isArray(V)?H.checked=!!V.find(ce=>ce===H.value):H.checked=V===H.value||!!V)}):A.refs.forEach(H=>H.checked=H.value===V):Zs(A.ref)?A.ref.value="":(A.ref.value=V,A.ref.type||h.state.next({name:m,values:be(n)})))}(N.shouldDirty||N.shouldTouch)&&P(m,V,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&Ae(m)},q=(m,f,N)=>{for(const z in f){if(!f.hasOwnProperty(z))return;const V=f[z],A=m+"."+z,H=R(r,A);(o.array.has(m)||ye(V)||H&&!H._f)&&!gt(V)?q(A,V,N):B(A,V,N)}},M=(m,f,N={})=>{const z=R(r,m),V=o.array.has(m),A=be(f);de(n,m,A),V?(h.array.next({name:m,values:be(n)}),(u.isDirty||u.dirtyFields||x.isDirty||x.dirtyFields)&&N.shouldDirty&&h.state.next({name:m,dirtyFields:wt(i,n),isDirty:y(m,A)})):z&&!z._f&&!Ee(A)?q(m,A,N):B(m,A,N),ua(m,o)&&h.state.next({...a,name:m}),h.state.next({name:l.mount?m:void 0,values:be(n)})},re=async m=>{l.mount=!0;const f=m.target;let N=f.name,z=!0;const V=R(r,N),A=ue=>{z=Number.isNaN(ue)||gt(ue)&&isNaN(ue.getTime())||tt(ue,R(n,N,ue))},H=ca(t.mode),ce=ca(t.reValidateMode);if(V){let ue,Fe;const Ht=f.type?oa(V._f):Ja(m),it=m.type===ts.BLUR||m.type===ts.FOCUS_OUT,_r=!nn(V._f)&&!t.resolver&&!R(a.errors,N)&&!V._f.deps||cn(it,R(a.touchedFields,N),a.isSubmitted,ce,H),ps=ua(N,o,it);de(n,N,Ht),it?(!f||!f.readOnly)&&(V._f.onBlur&&V._f.onBlur(m),c&&c(0)):V._f.onChange&&V._f.onChange(m);const ys=P(N,Ht,it),kr=!Pe(ys)||ps;if(!it&&h.state.next({name:N,type:m.type,values:be(n)}),_r)return(u.isValid||x.isValid)&&(t.mode==="onBlur"?it&&T():it||T()),kr&&h.state.next({name:N,...ps?{}:ys});if(!it&&ps&&h.state.next({...a}),t.resolver){const{errors:Ks}=await p([N]);if(A(Ht),z){const Cr=ma(a.errors,r,N),Xs=ma(Ks,r,Cr.name||N);ue=Xs.error,N=Xs.name,Fe=Pe(Ks)}}else g([N],!0),ue=(await xa(V,o.disabled,n,b,t.shouldUseNativeValidation))[N],g([N]),A(Ht),z&&(ue?Fe=!1:(u.isValid||x.isValid)&&(Fe=await O(r,!0)));z&&(V._f.deps&&(!Array.isArray(V._f.deps)||V._f.deps.length>0)&&Ae(V._f.deps),v(N,Fe,ue,ys))}},ke=(m,f)=>{if(R(a.errors,f)&&m.focus)return m.focus(),1},Ae=async(m,f={})=>{let N,z;const V=Ot(m);if(t.resolver){const A=await Z(fe(m)?m:V);N=Pe(A),z=m?!V.some(H=>R(A,H)):N}else m?(z=(await Promise.all(V.map(async A=>{const H=R(r,A);return await O(H&&H._f?{[A]:H}:H)}))).every(Boolean),!(!z&&!a.isValid)&&T()):z=N=await O(r);return h.state.next({...!Ie(m)||(u.isValid||x.isValid)&&N!==a.isValid?{}:{name:m},...t.resolver||!m?{isValid:N}:{},errors:a.errors}),f.shouldFocus&&!z&&Dt(r,ke,m?V:o.mount),z},yt=(m,f)=>{let N={...l.mount?n:i};return f&&(N=sr(f.dirtyFields?a.dirtyFields:a.touchedFields,N)),fe(m)?N:Ie(m)?R(N,m):m.map(z=>R(N,z))},Wt=(m,f)=>({invalid:!!R((f||a).errors,m),isDirty:!!R((f||a).dirtyFields,m),error:R((f||a).errors,m),isValidating:!!R(a.validatingFields,m),isTouched:!!R((f||a).touchedFields,m)}),xs=m=>{m&&Ot(m).forEach(f=>ge(a.errors,f)),h.state.next({errors:m?a.errors:{}})},Yt=(m,f,N)=>{const z=(R(r,m,{_f:{}})._f||{}).ref,V=R(a.errors,m)||{},{ref:A,message:H,type:ce,...ue}=V;de(a.errors,m,{...ue,...f,ref:z}),h.state.next({name:m,errors:a.errors,isValid:!1}),N&&N.shouldFocus&&z&&z.focus&&z.focus()},fs=(m,f)=>ze(m)?h.state.subscribe({next:N=>"values"in N&&m(C(void 0,f),N)}):C(m,f,!0),Gt=m=>h.state.subscribe({next:f=>{on(m.name,f.name,m.exact)&&ln(f,m.formState||u,wr,m.reRenderRoot)&&m.callback({values:{...n},...a,...f,defaultValues:i})}}).unsubscribe,gs=m=>(l.mount=!0,x={...x,...m.formState},Gt({...m,formState:x})),It=(m,f={})=>{for(const N of m?Ot(m):o.mount)o.mount.delete(N),o.array.delete(N),f.keepValue||(ge(r,N),ge(n,N)),!f.keepError&&ge(a.errors,N),!f.keepDirty&&ge(a.dirtyFields,N),!f.keepTouched&&ge(a.touchedFields,N),!f.keepIsValidating&&ge(a.validatingFields,N),!t.shouldUnregister&&!f.keepDefaultValue&&ge(i,N);h.state.next({values:be(n)}),h.state.next({...a,...f.keepDirty?{isDirty:y()}:{}}),!f.keepIsValid&&T()},$=({disabled:m,name:f})=>{(Te(m)&&l.mount||m||o.disabled.has(f))&&(m?o.disabled.add(f):o.disabled.delete(f))},K=(m,f={})=>{let N=R(r,m);const z=Te(f.disabled)||Te(t.disabled);return de(r,m,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:m}},name:m,mount:!0,...f}}),o.mount.add(m),N?$({disabled:Te(f.disabled)?f.disabled:t.disabled,name:m}):_(m,!0,f.value),{...z?{disabled:f.disabled||t.disabled}:{},...t.progressive?{required:!!f.required,min:Lt(f.min),max:Lt(f.max),minLength:Lt(f.minLength),maxLength:Lt(f.maxLength),pattern:Lt(f.pattern)}:{},name:m,onChange:re,onBlur:re,ref:V=>{if(V){K(m,f),N=R(r,m);const A=fe(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,H=Xi(A),ce=N._f.refs||[];if(H?ce.find(ue=>ue===A):A===N._f.ref)return;de(r,m,{_f:{...N._f,...H?{refs:[...ce.filter(js),A,...Array.isArray(R(i,m))?[{}]:[]],ref:{type:A.type,name:m}}:{ref:A}}}),_(m,!1,void 0,A)}else N=R(r,m,{}),N._f&&(N._f.mount=!1),(t.shouldUnregister||f.shouldUnregister)&&!(Ka(o.array,m)&&l.action)&&o.unMount.add(m)}}},G=()=>t.shouldFocusError&&Dt(r,ke,o.mount),he=m=>{Te(m)&&(h.state.next({disabled:m}),Dt(r,(f,N)=>{const z=R(r,N);z&&(f.disabled=z._f.disabled||m,Array.isArray(z._f.refs)&&z._f.refs.forEach(V=>{V.disabled=z._f.disabled||m}))},0,!1))},Me=(m,f)=>async N=>{let z;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let V=be(n);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:A,values:H}=await p();a.errors=A,V=be(H)}else await O(r);if(o.disabled.size)for(const A of o.disabled)ge(V,A);if(ge(a.errors,"root"),Pe(a.errors)){h.state.next({errors:{}});try{await m(V,N)}catch(A){z=A}}else f&&await f({...a.errors},N),G(),setTimeout(G);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pe(a.errors)&&!z,submitCount:a.submitCount+1,errors:a.errors}),z)throw z},bt=(m,f={})=>{R(r,m)&&(fe(f.defaultValue)?M(m,be(R(i,m))):(M(m,f.defaultValue),de(i,m,be(f.defaultValue))),f.keepTouched||ge(a.touchedFields,m),f.keepDirty||(ge(a.dirtyFields,m),a.isDirty=f.defaultValue?y(m,be(R(i,m))):y()),f.keepError||(ge(a.errors,m),u.isValid&&T()),h.state.next({...a}))},Hs=(m,f={})=>{const N=m?be(m):i,z=be(N),V=Pe(m),A=V?i:z;if(f.keepDefaultValues||(i=N),!f.keepValues){if(f.keepDirtyValues){const H=new Set([...o.mount,...Object.keys(wt(i,n))]);for(const ce of Array.from(H))R(a.dirtyFields,ce)?de(A,ce,R(n,ce)):M(ce,R(A,ce))}else{if(Ds&&fe(m))for(const H of o.mount){const ce=R(r,H);if(ce&&ce._f){const ue=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(ss(ue)){const Fe=ue.closest("form");if(Fe){Fe.reset();break}}}}if(f.keepFieldsRef)for(const H of o.mount)M(H,R(A,H));else r={}}n=t.shouldUnregister?f.keepDefaultValues?be(i):{}:be(A),h.array.next({values:{...A}}),h.state.next({values:{...A}})}o={mount:f.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!f.keepIsValid||!!f.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:f.keepSubmitCount?a.submitCount:0,isDirty:V?!1:f.keepDirty?a.isDirty:!!(f.keepDefaultValues&&!tt(m,i)),isSubmitted:f.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:V?{}:f.keepDirtyValues?f.keepDefaultValues&&n?wt(i,n):a.dirtyFields:f.keepDefaultValues&&m?wt(i,m):f.keepDirty?a.dirtyFields:{},touchedFields:f.keepTouched?a.touchedFields:{},errors:f.keepErrors?a.errors:{},isSubmitSuccessful:f.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Qs=(m,f)=>Hs(ze(m)?m(n):m,f),Nr=(m,f={})=>{const N=R(r,m),z=N&&N._f;if(z){const V=z.refs?z.refs[0]:z.ref;V.focus&&(V.focus(),f.shouldSelect&&ze(V.select)&&V.select())}},wr=m=>{a={...a,...m}},Js={control:{register:K,unregister:It,getFieldState:Wt,handleSubmit:Me,setError:Yt,_subscribe:Gt,_runSchema:p,_focusError:G,_getWatch:C,_getDirty:y,_setValid:T,_setFieldArray:I,_setDisabledField:$,_setErrors:L,_getFieldArray:D,_reset:Hs,_resetDefaultValues:()=>ze(t.defaultValues)&&t.defaultValues().then(m=>{Qs(m,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:he,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return n},get _state(){return l},set _state(m){l=m},get _defaultValues(){return i},get _names(){return o},set _names(m){o=m},get _formState(){return a},get _options(){return t},set _options(m){t={...t,...m}}},subscribe:gs,trigger:Ae,register:K,handleSubmit:Me,watch:fs,setValue:M,getValues:yt,reset:Qs,resetField:bt,clearErrors:xs,unregister:It,setError:Yt,setFocus:Nr,getFieldState:Wt};return{...Js,formControl:Js}}function xn(s={}){const t=se.useRef(void 0),a=se.useRef(void 0),[r,i]=se.useState({isDirty:!1,isValidating:!1,isLoading:ze(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:ze(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:r},s.defaultValues&&!ze(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:l,...o}=hn(s);t.current={...o,formState:r}}const n=t.current.control;return n._options=s,zs(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),n._formState.isReady=!0,l},[n]),se.useEffect(()=>n._disableForm(s.disabled),[n,s.disabled]),se.useEffect(()=>{s.mode&&(n._options.mode=s.mode),s.reValidateMode&&(n._options.reValidateMode=s.reValidateMode)},[n,s.mode,s.reValidateMode]),se.useEffect(()=>{s.errors&&(n._setErrors(s.errors),n._focusError())},[n,s.errors]),se.useEffect(()=>{s.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,s.shouldUnregister]),se.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==r.isDirty&&n._subjects.state.next({isDirty:l})}},[n,r.isDirty]),se.useEffect(()=>{s.values&&!tt(s.values,a.current)?(n._reset(s.values,{keepFieldsRef:!0,...n._options.resetOptions}),a.current=s.values,i(l=>({...l}))):n._resetDefaultValues()},[n,s.values]),se.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),t.current.formState=er(r,n),t.current}const fa=(s,t,a)=>{if(s&&"reportValidity"in s){const r=R(a,t);s.setCustomValidity(r&&r.message||""),s.reportValidity()}},As=(s,t)=>{for(const a in t.fields){const r=t.fields[a];r&&r.ref&&"reportValidity"in r.ref?fa(r.ref,a,s):r&&r.refs&&r.refs.forEach(i=>fa(i,a,s))}},ga=(s,t)=>{t.shouldUseNativeValidation&&As(s,t);const a={};for(const r in s){const i=R(t.fields,r),n=Object.assign(s[r]||{},{ref:i&&i.ref});if(fn(t.names||Object.keys(s),r)){const l=Object.assign({},R(a,r));de(l,"root",n),de(a,r,l)}else de(a,r,n)}return a},fn=(s,t)=>{const a=pa(t);return s.some(r=>pa(r).match(`^${a}\\.\\d+`))};function pa(s){return s.replace(/\]|\[/g,"")}function or(s,t,a){function r(o,c){var d;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(d=o._zod).traits??(d.traits=new Set),o._zod.traits.add(s),t(o,c);for(const u in l.prototype)u in o||Object.defineProperty(o,u,{value:l.prototype[u].bind(o)});o._zod.constr=l,o._zod.def=c}const i=(a==null?void 0:a.Parent)??Object;class n extends i{}Object.defineProperty(n,"name",{value:s});function l(o){var c;const d=a!=null&&a.Parent?new n:this;r(d,o),(c=d._zod).deferred??(c.deferred=[]);for(const u of d._zod.deferred)u();return d}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,d;return a!=null&&a.Parent&&o instanceof a.Parent?!0:(d=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:d.has(s)}}),Object.defineProperty(l,"name",{value:s}),l}class gn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const pn={};function cr(s){return pn}function yn(s,t){return typeof t=="bigint"?t.toString():t}const dr=Error.captureStackTrace?Error.captureStackTrace:(...s)=>{};function Jt(s){return typeof s=="string"?s:s==null?void 0:s.message}function ur(s,t,a){var i,n,l,o,c,d;const r={...s,path:s.path??[]};if(!s.message){const u=Jt((l=(n=(i=s.inst)==null?void 0:i._zod.def)==null?void 0:n.error)==null?void 0:l.call(n,s))??Jt((o=t==null?void 0:t.error)==null?void 0:o.call(t,s))??Jt((c=a.customError)==null?void 0:c.call(a,s))??Jt((d=a.localeError)==null?void 0:d.call(a,s))??"Invalid input";r.message=u}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}const mr=(s,t)=>{s.name="$ZodError",Object.defineProperty(s,"_zod",{value:s._zod,enumerable:!1}),Object.defineProperty(s,"issues",{value:t,enumerable:!1}),Object.defineProperty(s,"message",{get(){return JSON.stringify(t,yn,2)},enumerable:!0}),Object.defineProperty(s,"toString",{value:()=>s.message,enumerable:!1})},bn=or("$ZodError",mr),hr=or("$ZodError",mr,{Parent:Error}),vn=s=>(t,a,r,i)=>{const n=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:a,issues:[]},n);if(l instanceof Promise)throw new gn;if(l.issues.length){const o=new((i==null?void 0:i.Err)??s)(l.issues.map(c=>ur(c,n,cr())));throw dr(o,i==null?void 0:i.callee),o}return l.value},jn=vn(hr),Nn=s=>async(t,a,r,i)=>{const n=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:a,issues:[]},n);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((i==null?void 0:i.Err)??s)(l.issues.map(c=>ur(c,n,cr())));throw dr(o,i==null?void 0:i.callee),o}return l.value},wn=Nn(hr);function ya(s,t){try{var a=s()}catch(r){return t(r)}return a&&a.then?a.then(void 0,t):a}function _n(s,t){for(var a={};s.length;){var r=s[0],i=r.code,n=r.message,l=r.path.join(".");if(!a[l])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];a[l]={message:o.message,type:o.code}}else a[l]={message:n,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(x){return s.push(x)})}),t){var c=a[l].types,d=c&&c[r.code];a[l]=Bs(l,t,a,i,d?[].concat(d,r.message):r.message)}s.shift()}return a}function kn(s,t){for(var a={};s.length;){var r=s[0],i=r.code,n=r.message,l=r.path.join(".");if(!a[l])if(r.code==="invalid_union"&&r.errors.length>0){var o=r.errors[0][0];a[l]={message:o.message,type:o.code}}else a[l]={message:n,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(u){return u.forEach(function(x){return s.push(x)})}),t){var c=a[l].types,d=c&&c[r.code];a[l]=Bs(l,t,a,i,d?[].concat(d,r.message):r.message)}s.shift()}return a}function Cn(s,t,a){if(a===void 0&&(a={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(s))return function(r,i,n){try{return Promise.resolve(ya(function(){return Promise.resolve(s[a.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return n.shouldUseNativeValidation&&As({},n),{errors:{},values:a.raw?Object.assign({},r):l}})},function(l){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(l))return{values:{},errors:ga(_n(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(s))return function(r,i,n){try{return Promise.resolve(ya(function(){return Promise.resolve((a.mode==="sync"?jn:wn)(s,r,t)).then(function(l){return n.shouldUseNativeValidation&&As({},n),{errors:{},values:a.raw?Object.assign({},r):l}})},function(l){if(function(o){return o instanceof bn}(l))return{values:{},errors:ga(kn(l.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}var le;(function(s){s.assertEqual=i=>{};function t(i){}s.assertIs=t;function a(i){throw new Error}s.assertNever=a,s.arrayToEnum=i=>{const n={};for(const l of i)n[l]=l;return n},s.getValidEnumValues=i=>{const n=s.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),l={};for(const o of n)l[o]=i[o];return s.objectValues(l)},s.objectValues=i=>s.objectKeys(i).map(function(n){return i[n]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const n=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.push(l);return n},s.find=(i,n)=>{for(const l of i)if(n(l))return l},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,n=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(n)}s.joinValues=r,s.jsonStringifyReplacer=(i,n)=>typeof n=="bigint"?n.toString():n})(le||(le={}));var ba;(function(s){s.mergeShapes=(t,a)=>({...t,...a})})(ba||(ba={}));const W=le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lt=s=>{switch(typeof s){case"undefined":return W.undefined;case"string":return W.string;case"number":return Number.isNaN(s)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":return Array.isArray(s)?W.array:s===null?W.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?W.promise:typeof Map<"u"&&s instanceof Map?W.map:typeof Set<"u"&&s instanceof Set?W.set:typeof Date<"u"&&s instanceof Date?W.date:W.object;default:return W.unknown}},E=le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class rt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}format(t){const a=t||function(n){return n.message},r={_errors:[]},i=n=>{for(const l of n.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(a(l));else{let o=r,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(a(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof rt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},r=[];for(const i of this.issues)if(i.path.length>0){const n=i.path[0];a[n]=a[n]||[],a[n].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:a}}get formErrors(){return this.flatten()}}rt.create=s=>new rt(s);const Ps=(s,t)=>{let a;switch(s.code){case E.invalid_type:s.received===W.undefined?a="Required":a=`Expected ${s.expected}, received ${s.received}`;break;case E.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(s.expected,le.jsonStringifyReplacer)}`;break;case E.unrecognized_keys:a=`Unrecognized key(s) in object: ${le.joinValues(s.keys,", ")}`;break;case E.invalid_union:a="Invalid input";break;case E.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${le.joinValues(s.options)}`;break;case E.invalid_enum_value:a=`Invalid enum value. Expected ${le.joinValues(s.options)}, received '${s.received}'`;break;case E.invalid_arguments:a="Invalid function arguments";break;case E.invalid_return_type:a="Invalid function return type";break;case E.invalid_date:a="Invalid date";break;case E.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(a=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?a=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?a=`Invalid input: must end with "${s.validation.endsWith}"`:le.assertNever(s.validation):s.validation!=="regex"?a=`Invalid ${s.validation}`:a="Invalid";break;case E.too_small:s.type==="array"?a=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?a=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?a=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?a=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?a=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:a="Invalid input";break;case E.too_big:s.type==="array"?a=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?a=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?a=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?a=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?a=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:a="Invalid input";break;case E.custom:a="Invalid input";break;case E.invalid_intersection_types:a="Intersection results could not be merged";break;case E.not_multiple_of:a=`Number must be a multiple of ${s.multipleOf}`;break;case E.not_finite:a="Number must be finite";break;default:a=t.defaultError,le.assertNever(s)}return{message:a}};let En=Ps;function Sn(){return En}const An=s=>{const{data:t,path:a,errorMaps:r,issueData:i}=s,n=[...a,...i.path||[]],l={...i,path:n};if(i.message!==void 0)return{...i,path:n,message:i.message};let o="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:t,defaultError:o}).message;return{...i,path:n,message:o}};function U(s,t){const a=Sn(),r=An({issueData:t,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,a,a===Ps?void 0:Ps].filter(i=>!!i)});s.common.issues.push(r)}class Re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,a){const r=[];for(const i of a){if(i.status==="aborted")return X;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,a){const r=[];for(const i of a){const n=await i.key,l=await i.value;r.push({key:n,value:l})}return Re.mergeObjectSync(t,r)}static mergeObjectSync(t,a){const r={};for(const i of a){const{key:n,value:l}=i;if(n.status==="aborted"||l.status==="aborted")return X;n.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),n.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[n.value]=l.value)}return{status:t.value,value:r}}}const X=Object.freeze({status:"aborted"}),Rt=s=>({status:"dirty",value:s}),De=s=>({status:"valid",value:s}),va=s=>s.status==="aborted",ja=s=>s.status==="dirty",Ct=s=>s.status==="valid",rs=s=>typeof Promise<"u"&&s instanceof Promise;var Y;(function(s){s.errToObj=t=>typeof t=="string"?{message:t}:t||{},s.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Y||(Y={}));class ht{constructor(t,a,r,i){this._cachedPath=[],this.parent=t,this.data=a,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Na=(s,t)=>{if(Ct(t))return{success:!0,data:t.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new rt(s.common.issues);return this._error=a,this._error}}};function ae(s){if(!s)return{};const{errorMap:t,invalid_type_error:a,required_error:r,description:i}=s;if(t&&(a||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(l,o)=>{const{message:c}=s;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??a??o.defaultError}},description:i}}class ne{get description(){return this._def.description}_getType(t){return lt(t.data)}_getOrReturnCtx(t,a){return a||{common:t.parent.common,data:t.data,parsedType:lt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Re,ctx:{common:t.parent.common,data:t.data,parsedType:lt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const a=this._parse(t);if(rs(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(t){const a=this._parse(t);return Promise.resolve(a)}parse(t,a){const r=this.safeParse(t,a);if(r.success)return r.data;throw r.error}safeParse(t,a){const r={common:{issues:[],async:(a==null?void 0:a.async)??!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:lt(t)},i=this._parseSync({data:t,path:r.path,parent:r});return Na(r,i)}"~validate"(t){var r,i;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:lt(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:a});return Ct(n)?{value:n.value}:{issues:a.common.issues}}catch(n){(i=(r=n==null?void 0:n.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(n=>Ct(n)?{value:n.value}:{issues:a.common.issues})}async parseAsync(t,a){const r=await this.safeParseAsync(t,a);if(r.success)return r.data;throw r.error}async safeParseAsync(t,a){const r={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:lt(t)},i=this._parse({data:t,path:r.path,parent:r}),n=await(rs(i)?i:Promise.resolve(i));return Na(r,n)}refine(t,a){const r=i=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(i):a;return this._refinement((i,n)=>{const l=t(i),o=()=>n.addIssue({code:E.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(t,a){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof a=="function"?a(r,i):a),!1))}_refinement(t){return new At({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return mt.create(this,this._def)}nullable(){return Pt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ge.create(this)}promise(){return ls.create(this,this._def)}or(t){return is.create([this,t],this._def)}and(t){return ns.create(this,t,this._def)}transform(t){return new At({...ae(this._def),schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const a=typeof t=="function"?t:()=>t;return new Ls({...ae(this._def),innerType:this,defaultValue:a,typeName:ee.ZodDefault})}brand(){return new Kn({typeName:ee.ZodBranded,type:this,...ae(this._def)})}catch(t){const a=typeof t=="function"?t:()=>t;return new Vs({...ae(this._def),innerType:this,catchValue:a,typeName:ee.ZodCatch})}describe(t){const a=this.constructor;return new a({...this._def,description:t})}pipe(t){return Ws.create(this,t)}readonly(){return Rs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pn=/^c[^\s-]{8,}$/i,Tn=/^[0-9a-z]+$/,In=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ln=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Vn=/^[a-z0-9_-]{21}$/i,Rn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Fn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,On=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Dn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ns;const Mn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$n=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Un=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Bn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qn=new RegExp(`^${xr}$`);function fr(s){let t="[0-5]\\d";s.precision?t=`${t}\\.\\d{${s.precision}}`:s.precision==null&&(t=`${t}(\\.\\d+)?`);const a=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}function Wn(s){return new RegExp(`^${fr(s)}$`)}function Yn(s){let t=`${xr}T${fr(s)}`;const a=[];return a.push(s.local?"Z?":"Z"),s.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}function Gn(s,t){return!!((t==="v4"||!t)&&Mn.test(s)||(t==="v6"||!t)&&Un.test(s))}function Hn(s,t){if(!Rn.test(s))return!1;try{const[a]=s.split(".");if(!a)return!1;const r=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function Qn(s,t){return!!((t==="v4"||!t)&&$n.test(s)||(t==="v6"||!t)&&zn.test(s))}class ct extends ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==W.string){const n=this._getOrReturnCtx(t);return U(n,{code:E.invalid_type,expected:W.string,received:n.parsedType}),X}const r=new Re;let i;for(const n of this._def.checks)if(n.kind==="min")t.data.length<n.value&&(i=this._getOrReturnCtx(t,i),U(i,{code:E.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")t.data.length>n.value&&(i=this._getOrReturnCtx(t,i),U(i,{code:E.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const l=t.data.length>n.value,o=t.data.length<n.value;(l||o)&&(i=this._getOrReturnCtx(t,i),l?U(i,{code:E.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&U(i,{code:E.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")On.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"email",code:E.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")Ns||(Ns=new RegExp(Dn,"u")),Ns.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"emoji",code:E.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")Ln.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"uuid",code:E.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")Vn.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"nanoid",code:E.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")Pn.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"cuid",code:E.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")Tn.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"cuid2",code:E.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")In.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"ulid",code:E.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),U(i,{validation:"url",code:E.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"regex",code:E.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?t.data=t.data.trim():n.kind==="includes"?t.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(t,i),U(i,{code:E.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?t.data=t.data.toLowerCase():n.kind==="toUpperCase"?t.data=t.data.toUpperCase():n.kind==="startsWith"?t.data.startsWith(n.value)||(i=this._getOrReturnCtx(t,i),U(i,{code:E.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?t.data.endsWith(n.value)||(i=this._getOrReturnCtx(t,i),U(i,{code:E.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?Yn(n).test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{code:E.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?qn.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{code:E.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?Wn(n).test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{code:E.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?Fn.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"duration",code:E.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?Gn(t.data,n.version)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"ip",code:E.invalid_string,message:n.message}),r.dirty()):n.kind==="jwt"?Hn(t.data,n.alg)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"jwt",code:E.invalid_string,message:n.message}),r.dirty()):n.kind==="cidr"?Qn(t.data,n.version)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"cidr",code:E.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?Bn.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"base64",code:E.invalid_string,message:n.message}),r.dirty()):n.kind==="base64url"?Zn.test(t.data)||(i=this._getOrReturnCtx(t,i),U(i,{validation:"base64url",code:E.invalid_string,message:n.message}),r.dirty()):le.assertNever(n);return{status:r.value,value:t.data}}_regex(t,a,r){return this.refinement(i=>t.test(i),{validation:a,code:E.invalid_string,...Y.errToObj(r)})}_addCheck(t){return new ct({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Y.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Y.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Y.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Y.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Y.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Y.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Y.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Y.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Y.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Y.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Y.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Y.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Y.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Y.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Y.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Y.errToObj(t)})}regex(t,a){return this._addCheck({kind:"regex",regex:t,...Y.errToObj(a)})}includes(t,a){return this._addCheck({kind:"includes",value:t,position:a==null?void 0:a.position,...Y.errToObj(a==null?void 0:a.message)})}startsWith(t,a){return this._addCheck({kind:"startsWith",value:t,...Y.errToObj(a)})}endsWith(t,a){return this._addCheck({kind:"endsWith",value:t,...Y.errToObj(a)})}min(t,a){return this._addCheck({kind:"min",value:t,...Y.errToObj(a)})}max(t,a){return this._addCheck({kind:"max",value:t,...Y.errToObj(a)})}length(t,a){return this._addCheck({kind:"length",value:t,...Y.errToObj(a)})}nonempty(t){return this.min(1,Y.errToObj(t))}trim(){return new ct({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ct({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ct({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxLength(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}ct.create=s=>new ct({checks:[],typeName:ee.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...ae(s)});function Jn(s,t){const a=(s.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=a>r?a:r,n=Number.parseInt(s.toFixed(i).replace(".","")),l=Number.parseInt(t.toFixed(i).replace(".",""));return n%l/10**i}class Et extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==W.number){const n=this._getOrReturnCtx(t);return U(n,{code:E.invalid_type,expected:W.number,received:n.parsedType}),X}let r;const i=new Re;for(const n of this._def.checks)n.kind==="int"?le.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),U(r,{code:E.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:E.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:E.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="multipleOf"?Jn(t.data,n.value)!==0&&(r=this._getOrReturnCtx(t,r),U(r,{code:E.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):n.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),U(r,{code:E.not_finite,message:n.message}),i.dirty()):le.assertNever(n);return{status:i.value,value:t.data}}gte(t,a){return this.setLimit("min",t,!0,Y.toString(a))}gt(t,a){return this.setLimit("min",t,!1,Y.toString(a))}lte(t,a){return this.setLimit("max",t,!0,Y.toString(a))}lt(t,a){return this.setLimit("max",t,!1,Y.toString(a))}setLimit(t,a,r,i){return new Et({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:r,message:Y.toString(i)}]})}_addCheck(t){return new Et({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Y.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(a)})}finite(t){return this._addCheck({kind:"finite",message:Y.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(t)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&le.isInteger(t.value))}get isFinite(){let t=null,a=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(a===null||r.value>a)&&(a=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(a)&&Number.isFinite(t)}}Et.create=s=>new Et({checks:[],typeName:ee.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...ae(s)});class Ut extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==W.bigint)return this._getInvalidInput(t);let r;const i=new Re;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:E.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:E.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="multipleOf"?t.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),U(r,{code:E.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):le.assertNever(n);return{status:i.value,value:t.data}}_getInvalidInput(t){const a=this._getOrReturnCtx(t);return U(a,{code:E.invalid_type,expected:W.bigint,received:a.parsedType}),X}gte(t,a){return this.setLimit("min",t,!0,Y.toString(a))}gt(t,a){return this.setLimit("min",t,!1,Y.toString(a))}lte(t,a){return this.setLimit("max",t,!0,Y.toString(a))}lt(t,a){return this.setLimit("max",t,!1,Y.toString(a))}setLimit(t,a,r,i){return new Ut({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:r,message:Y.toString(i)}]})}_addCheck(t){return new Ut({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(a)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}Ut.create=s=>new Ut({checks:[],typeName:ee.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...ae(s)});class Ts extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==W.boolean){const r=this._getOrReturnCtx(t);return U(r,{code:E.invalid_type,expected:W.boolean,received:r.parsedType}),X}return De(t.data)}}Ts.create=s=>new Ts({typeName:ee.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...ae(s)});class zt extends ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==W.date){const n=this._getOrReturnCtx(t);return U(n,{code:E.invalid_type,expected:W.date,received:n.parsedType}),X}if(Number.isNaN(t.data.getTime())){const n=this._getOrReturnCtx(t);return U(n,{code:E.invalid_date}),X}const r=new Re;let i;for(const n of this._def.checks)n.kind==="min"?t.data.getTime()<n.value&&(i=this._getOrReturnCtx(t,i),U(i,{code:E.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?t.data.getTime()>n.value&&(i=this._getOrReturnCtx(t,i),U(i,{code:E.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):le.assertNever(n);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new zt({...this._def,checks:[...this._def.checks,t]})}min(t,a){return this._addCheck({kind:"min",value:t.getTime(),message:Y.toString(a)})}max(t,a){return this._addCheck({kind:"max",value:t.getTime(),message:Y.toString(a)})}get minDate(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t!=null?new Date(t):null}}zt.create=s=>new zt({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:ee.ZodDate,...ae(s)});class wa extends ne{_parse(t){if(this._getType(t)!==W.symbol){const r=this._getOrReturnCtx(t);return U(r,{code:E.invalid_type,expected:W.symbol,received:r.parsedType}),X}return De(t.data)}}wa.create=s=>new wa({typeName:ee.ZodSymbol,...ae(s)});class _a extends ne{_parse(t){if(this._getType(t)!==W.undefined){const r=this._getOrReturnCtx(t);return U(r,{code:E.invalid_type,expected:W.undefined,received:r.parsedType}),X}return De(t.data)}}_a.create=s=>new _a({typeName:ee.ZodUndefined,...ae(s)});class ka extends ne{_parse(t){if(this._getType(t)!==W.null){const r=this._getOrReturnCtx(t);return U(r,{code:E.invalid_type,expected:W.null,received:r.parsedType}),X}return De(t.data)}}ka.create=s=>new ka({typeName:ee.ZodNull,...ae(s)});class Ca extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return De(t.data)}}Ca.create=s=>new Ca({typeName:ee.ZodAny,...ae(s)});class Ea extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return De(t.data)}}Ea.create=s=>new Ea({typeName:ee.ZodUnknown,...ae(s)});class xt extends ne{_parse(t){const a=this._getOrReturnCtx(t);return U(a,{code:E.invalid_type,expected:W.never,received:a.parsedType}),X}}xt.create=s=>new xt({typeName:ee.ZodNever,...ae(s)});class Sa extends ne{_parse(t){if(this._getType(t)!==W.undefined){const r=this._getOrReturnCtx(t);return U(r,{code:E.invalid_type,expected:W.void,received:r.parsedType}),X}return De(t.data)}}Sa.create=s=>new Sa({typeName:ee.ZodVoid,...ae(s)});class Ge extends ne{_parse(t){const{ctx:a,status:r}=this._processInputParams(t),i=this._def;if(a.parsedType!==W.array)return U(a,{code:E.invalid_type,expected:W.array,received:a.parsedType}),X;if(i.exactLength!==null){const l=a.data.length>i.exactLength.value,o=a.data.length<i.exactLength.value;(l||o)&&(U(a,{code:l?E.too_big:E.too_small,minimum:o?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&a.data.length<i.minLength.value&&(U(a,{code:E.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&a.data.length>i.maxLength.value&&(U(a,{code:E.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),a.common.async)return Promise.all([...a.data].map((l,o)=>i.type._parseAsync(new ht(a,l,a.path,o)))).then(l=>Re.mergeArray(r,l));const n=[...a.data].map((l,o)=>i.type._parseSync(new ht(a,l,a.path,o)));return Re.mergeArray(r,n)}get element(){return this._def.type}min(t,a){return new Ge({...this._def,minLength:{value:t,message:Y.toString(a)}})}max(t,a){return new Ge({...this._def,maxLength:{value:t,message:Y.toString(a)}})}length(t,a){return new Ge({...this._def,exactLength:{value:t,message:Y.toString(a)}})}nonempty(t){return this.min(1,t)}}Ge.create=(s,t)=>new Ge({type:s,minLength:null,maxLength:null,exactLength:null,typeName:ee.ZodArray,...ae(t)});function _t(s){if(s instanceof pe){const t={};for(const a in s.shape){const r=s.shape[a];t[a]=mt.create(_t(r))}return new pe({...s._def,shape:()=>t})}else return s instanceof Ge?new Ge({...s._def,type:_t(s.element)}):s instanceof mt?mt.create(_t(s.unwrap())):s instanceof Pt?Pt.create(_t(s.unwrap())):s instanceof pt?pt.create(s.items.map(t=>_t(t))):s}class pe extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),a=le.objectKeys(t);return this._cached={shape:t,keys:a},this._cached}_parse(t){if(this._getType(t)!==W.object){const d=this._getOrReturnCtx(t);return U(d,{code:E.invalid_type,expected:W.object,received:d.parsedType}),X}const{status:r,ctx:i}=this._processInputParams(t),{shape:n,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof xt&&this._def.unknownKeys==="strip"))for(const d in i.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=n[d],x=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ht(i,x,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof xt){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")o.length>0&&(U(i,{code:E.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const x=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ht(i,x,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const x=await u.key,h=await u.value;d.push({key:x,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>Re.mergeObjectSync(r,d)):Re.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Y.errToObj,new pe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(a,r)=>{var n,l;const i=((l=(n=this._def).errorMap)==null?void 0:l.call(n,a,r).message)??r.defaultError;return a.code==="unrecognized_keys"?{message:Y.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(t){return new pe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new pe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ee.ZodObject})}setKey(t,a){return this.augment({[t]:a})}catchall(t){return new pe({...this._def,catchall:t})}pick(t){const a={};for(const r of le.objectKeys(t))t[r]&&this.shape[r]&&(a[r]=this.shape[r]);return new pe({...this._def,shape:()=>a})}omit(t){const a={};for(const r of le.objectKeys(this.shape))t[r]||(a[r]=this.shape[r]);return new pe({...this._def,shape:()=>a})}deepPartial(){return _t(this)}partial(t){const a={};for(const r of le.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?a[r]=i:a[r]=i.optional()}return new pe({...this._def,shape:()=>a})}required(t){const a={};for(const r of le.objectKeys(this.shape))if(t&&!t[r])a[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof mt;)n=n._def.innerType;a[r]=n}return new pe({...this._def,shape:()=>a})}keyof(){return gr(le.objectKeys(this.shape))}}pe.create=(s,t)=>new pe({shape:()=>s,unknownKeys:"strip",catchall:xt.create(),typeName:ee.ZodObject,...ae(t)});pe.strictCreate=(s,t)=>new pe({shape:()=>s,unknownKeys:"strict",catchall:xt.create(),typeName:ee.ZodObject,...ae(t)});pe.lazycreate=(s,t)=>new pe({shape:s,unknownKeys:"strip",catchall:xt.create(),typeName:ee.ZodObject,...ae(t)});class is extends ne{_parse(t){const{ctx:a}=this._processInputParams(t),r=this._def.options;function i(n){for(const o of n)if(o.result.status==="valid")return o.result;for(const o of n)if(o.result.status==="dirty")return a.common.issues.push(...o.ctx.common.issues),o.result;const l=n.map(o=>new rt(o.ctx.common.issues));return U(a,{code:E.invalid_union,unionErrors:l}),X}if(a.common.async)return Promise.all(r.map(async n=>{const l={...a,common:{...a.common,issues:[]},parent:null};return{result:await n._parseAsync({data:a.data,path:a.path,parent:l}),ctx:l}})).then(i);{let n;const l=[];for(const c of r){const d={...a,common:{...a.common,issues:[]},parent:null},u=c._parseSync({data:a.data,path:a.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!n&&(n={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(n)return a.common.issues.push(...n.ctx.common.issues),n.result;const o=l.map(c=>new rt(c));return U(a,{code:E.invalid_union,unionErrors:o}),X}}get options(){return this._def.options}}is.create=(s,t)=>new is({options:s,typeName:ee.ZodUnion,...ae(t)});function Is(s,t){const a=lt(s),r=lt(t);if(s===t)return{valid:!0,data:s};if(a===W.object&&r===W.object){const i=le.objectKeys(t),n=le.objectKeys(s).filter(o=>i.indexOf(o)!==-1),l={...s,...t};for(const o of n){const c=Is(s[o],t[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(a===W.array&&r===W.array){if(s.length!==t.length)return{valid:!1};const i=[];for(let n=0;n<s.length;n++){const l=s[n],o=t[n],c=Is(l,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return a===W.date&&r===W.date&&+s==+t?{valid:!0,data:s}:{valid:!1}}class ns extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t),i=(n,l)=>{if(va(n)||va(l))return X;const o=Is(n.value,l.value);return o.valid?((ja(n)||ja(l))&&a.dirty(),{status:a.value,value:o.data}):(U(r,{code:E.invalid_intersection_types}),X)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,l])=>i(n,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ns.create=(s,t,a)=>new ns({left:s,right:t,typeName:ee.ZodIntersection,...ae(a)});class pt extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.parsedType!==W.array)return U(r,{code:E.invalid_type,expected:W.array,received:r.parsedType}),X;if(r.data.length<this._def.items.length)return U(r,{code:E.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&r.data.length>this._def.items.length&&(U(r,{code:E.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const n=[...r.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ht(r,l,r.path,o)):null}).filter(l=>!!l);return r.common.async?Promise.all(n).then(l=>Re.mergeArray(a,l)):Re.mergeArray(a,n)}get items(){return this._def.items}rest(t){return new pt({...this._def,rest:t})}}pt.create=(s,t)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pt({items:s,typeName:ee.ZodTuple,rest:null,...ae(t)})};class Aa extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.parsedType!==W.map)return U(r,{code:E.invalid_type,expected:W.map,received:r.parsedType}),X;const i=this._def.keyType,n=this._def.valueType,l=[...r.data.entries()].map(([o,c],d)=>({key:i._parse(new ht(r,o,r.path,[d,"key"])),value:n._parse(new ht(r,c,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return X;(d.status==="dirty"||u.status==="dirty")&&a.dirty(),o.set(d.value,u.value)}return{status:a.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return X;(d.status==="dirty"||u.status==="dirty")&&a.dirty(),o.set(d.value,u.value)}return{status:a.value,value:o}}}}Aa.create=(s,t,a)=>new Aa({valueType:t,keyType:s,typeName:ee.ZodMap,...ae(a)});class Bt extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.parsedType!==W.set)return U(r,{code:E.invalid_type,expected:W.set,received:r.parsedType}),X;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(U(r,{code:E.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),a.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(U(r,{code:E.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),a.dirty());const n=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return X;u.status==="dirty"&&a.dirty(),d.add(u.value)}return{status:a.value,value:d}}const o=[...r.data.values()].map((c,d)=>n._parse(new ht(r,c,r.path,d)));return r.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(t,a){return new Bt({...this._def,minSize:{value:t,message:Y.toString(a)}})}max(t,a){return new Bt({...this._def,maxSize:{value:t,message:Y.toString(a)}})}size(t,a){return this.min(t,a).max(t,a)}nonempty(t){return this.min(1,t)}}Bt.create=(s,t)=>new Bt({valueType:s,minSize:null,maxSize:null,typeName:ee.ZodSet,...ae(t)});class Pa extends ne{get schema(){return this._def.getter()}_parse(t){const{ctx:a}=this._processInputParams(t);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Pa.create=(s,t)=>new Pa({getter:s,typeName:ee.ZodLazy,...ae(t)});class Ta extends ne{_parse(t){if(t.data!==this._def.value){const a=this._getOrReturnCtx(t);return U(a,{received:a.data,code:E.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ta.create=(s,t)=>new Ta({value:s,typeName:ee.ZodLiteral,...ae(t)});function gr(s,t){return new St({values:s,typeName:ee.ZodEnum,...ae(t)})}class St extends ne{_parse(t){if(typeof t.data!="string"){const a=this._getOrReturnCtx(t),r=this._def.values;return U(a,{expected:le.joinValues(r),received:a.parsedType,code:E.invalid_type}),X}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const a=this._getOrReturnCtx(t),r=this._def.values;return U(a,{received:a.data,code:E.invalid_enum_value,options:r}),X}return De(t.data)}get options(){return this._def.values}get enum(){const t={};for(const a of this._def.values)t[a]=a;return t}get Values(){const t={};for(const a of this._def.values)t[a]=a;return t}get Enum(){const t={};for(const a of this._def.values)t[a]=a;return t}extract(t,a=this._def){return St.create(t,{...this._def,...a})}exclude(t,a=this._def){return St.create(this.options.filter(r=>!t.includes(r)),{...this._def,...a})}}St.create=gr;class Ia extends ne{_parse(t){const a=le.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==W.string&&r.parsedType!==W.number){const i=le.objectValues(a);return U(r,{expected:le.joinValues(i),received:r.parsedType,code:E.invalid_type}),X}if(this._cache||(this._cache=new Set(le.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=le.objectValues(a);return U(r,{received:r.data,code:E.invalid_enum_value,options:i}),X}return De(t.data)}get enum(){return this._def.values}}Ia.create=(s,t)=>new Ia({values:s,typeName:ee.ZodNativeEnum,...ae(t)});class ls extends ne{unwrap(){return this._def.type}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==W.promise&&a.common.async===!1)return U(a,{code:E.invalid_type,expected:W.promise,received:a.parsedType}),X;const r=a.parsedType===W.promise?a.data:Promise.resolve(a.data);return De(r.then(i=>this._def.type.parseAsync(i,{path:a.path,errorMap:a.common.contextualErrorMap})))}}ls.create=(s,t)=>new ls({type:s,typeName:ee.ZodPromise,...ae(t)});class At extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:a,ctx:r}=this._processInputParams(t),i=this._def.effect||null,n={addIssue:l=>{U(r,l),l.fatal?a.abort():a.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),i.type==="preprocess"){const l=i.transform(r.data,n);if(r.common.async)return Promise.resolve(l).then(async o=>{if(a.value==="aborted")return X;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?X:c.status==="dirty"||a.value==="dirty"?Rt(c.value):c});{if(a.value==="aborted")return X;const o=this._def.schema._parseSync({data:l,path:r.path,parent:r});return o.status==="aborted"?X:o.status==="dirty"||a.value==="dirty"?Rt(o.value):o}}if(i.type==="refinement"){const l=o=>{const c=i.refinement(o,n);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?X:(o.status==="dirty"&&a.dirty(),l(o.value),{status:a.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?X:(o.status==="dirty"&&a.dirty(),l(o.value).then(()=>({status:a.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ct(l))return X;const o=i.transform(l.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Ct(l)?Promise.resolve(i.transform(l.value,n)).then(o=>({status:a.value,value:o})):X);le.assertNever(i)}}At.create=(s,t,a)=>new At({schema:s,typeName:ee.ZodEffects,effect:t,...ae(a)});At.createWithPreprocess=(s,t,a)=>new At({schema:t,effect:{type:"preprocess",transform:s},typeName:ee.ZodEffects,...ae(a)});class mt extends ne{_parse(t){return this._getType(t)===W.undefined?De(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mt.create=(s,t)=>new mt({innerType:s,typeName:ee.ZodOptional,...ae(t)});class Pt extends ne{_parse(t){return this._getType(t)===W.null?De(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pt.create=(s,t)=>new Pt({innerType:s,typeName:ee.ZodNullable,...ae(t)});class Ls extends ne{_parse(t){const{ctx:a}=this._processInputParams(t);let r=a.data;return a.parsedType===W.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Ls.create=(s,t)=>new Ls({innerType:s,typeName:ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ae(t)});class Vs extends ne{_parse(t){const{ctx:a}=this._processInputParams(t),r={...a,common:{...a.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rs(i)?i.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new rt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new rt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vs.create=(s,t)=>new Vs({innerType:s,typeName:ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ae(t)});class La extends ne{_parse(t){if(this._getType(t)!==W.nan){const r=this._getOrReturnCtx(t);return U(r,{code:E.invalid_type,expected:W.nan,received:r.parsedType}),X}return{status:"valid",value:t.data}}}La.create=s=>new La({typeName:ee.ZodNaN,...ae(s)});class Kn extends ne{_parse(t){const{ctx:a}=this._processInputParams(t),r=a.data;return this._def.type._parse({data:r,path:a.path,parent:a})}unwrap(){return this._def.type}}class Ws extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?X:n.status==="dirty"?(a.dirty(),Rt(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?X:i.status==="dirty"?(a.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,a){return new Ws({in:t,out:a,typeName:ee.ZodPipeline})}}class Rs extends ne{_parse(t){const a=this._def.innerType._parse(t),r=i=>(Ct(i)&&(i.value=Object.freeze(i.value)),i);return rs(a)?a.then(i=>r(i)):r(a)}unwrap(){return this._def.innerType}}Rs.create=(s,t)=>new Rs({innerType:s,typeName:ee.ZodReadonly,...ae(t)});var ee;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(ee||(ee={}));const ie=ct.create,kt=Et.create,ve=Ts.create,Fs=zt.create;xt.create;const Be=Ge.create,xe=pe.create;is.create;ns.create;pt.create;const He=St.create;ls.create;mt.create;Pt.create;const Xn=xe({email:ie().min(1,"Email is required").email("Please enter a valid email address"),displayName:ie().min(2,"Display name must be at least 2 characters").max(50,"Display name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_]+$/,"Display name can only contain letters, numbers, spaces, hyphens, and underscores"),phoneNumber:ie().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid phone number"),whatsappNumber:ie().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid WhatsApp number"),bio:ie().max(500,"Bio must be less than 500 characters").optional(),interests:Be(ie()).max(10,"You can select up to 10 interests"),dietaryPreferences:Be(ie()).max(10,"You can select up to 10 dietary preferences"),address:xe({street:ie().min(1,"Street address is required"),city:ie().min(1,"City is required"),postalCode:ie().min(1,"Postal code is required")}).optional(),privacy:xe({phoneVisible:ve(),whatsappVisible:ve(),addressVisible:ve()})});xe({email:ie().min(1,"Email is required").email("Please enter a valid email address"),password:ie().min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters")});xe({email:ie().min(1,"Email is required").email("Please enter a valid email address")});const el=xe({title:ie().min(3,"Event title must be at least 3 characters").max(100,"Event title must be less than 100 characters"),description:ie().min(10,"Event description must be at least 10 characters").max(2e3,"Event description must be less than 2000 characters"),type:He(["birthday","potluck","farewell","celebration","other"]),visibility:He(["public","private"]),dateTime:Fs().min(new Date,"Event date and time must be in the future"),duration:kt().min(15,"Event duration must be at least 15 minutes").max(480,"Event duration cannot exceed 8 hours"),location:xe({name:ie().min(1,"Location name is required").max(100,"Location name must be less than 100 characters"),address:ie().min(1,"Address is required").max(200,"Address must be less than 200 characters"),coordinates:xe({lat:kt().min(-90).max(90),lng:kt().min(-180).max(180)}).optional()}),capacity:kt().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000").optional(),bringList:xe({enabled:ve(),items:Be(xe({item:ie().min(1,"Item name is required").max(50,"Item name must be less than 50 characters"),quantity:kt().min(1,"Quantity must be at least 1").max(100,"Quantity cannot exceed 100")})).max(20,"Cannot have more than 20 items on bring list")})});el.partial().extend({status:He(["draft","published","cancelled","completed"]).optional()});xe({status:He(["going","maybe","not_going"]),guestCount:kt().min(0,"Guest count cannot be negative").max(10,"Cannot bring more than 10 guests").default(0),bringItems:Be(ie()).max(10,"Cannot claim more than 10 items").optional()});xe({displayName:ie().min(2,"Display name must be at least 2 characters").max(50,"Display name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_]+$/,"Display name can only contain letters, numbers, spaces, hyphens, and underscores").optional(),phoneNumber:ie().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid phone number"),whatsappNumber:ie().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid WhatsApp number"),bio:ie().max(500,"Bio must be less than 500 characters").optional(),interests:Be(ie()).max(10,"You can select up to 10 interests").optional(),dietaryPreferences:Be(ie()).max(10,"You can select up to 10 dietary preferences").optional(),address:xe({street:ie().min(1,"Street address is required"),city:ie().min(1,"City is required"),postalCode:ie().min(1,"Postal code is required")}).optional(),privacy:xe({phoneVisible:ve(),whatsappVisible:ve(),addressVisible:ve()}).optional()});xe({query:ie().max(100,"Search query must be less than 100 characters").optional(),interests:Be(ie()).max(10,"Cannot filter by more than 10 interests").optional(),availability:Be(He(["weekdays","evenings","weekends"])).max(3).optional()});xe({query:ie().max(100,"Search query must be less than 100 characters").optional(),type:Be(He(["birthday","potluck","farewell","celebration","other"])).max(5).optional(),dateRange:xe({start:Fs(),end:Fs()}).optional(),location:ie().max(100,"Location must be less than 100 characters").optional(),status:Be(He(["draft","published","cancelled","completed"])).max(4).optional(),visibility:Be(He(["public","private"])).max(2).optional()});xe({userId:ie().min(1,"User ID is required"),action:He(["approve","suspend","activate"]),reason:ie().max(500,"Reason must be less than 500 characters").optional()});xe({eventId:ie().min(1,"Event ID is required"),action:He(["publish","cancel","feature"]),reason:ie().max(500,"Reason must be less than 500 characters").optional()});xe({email:xe({eventInvites:ve(),eventUpdates:ve(),eventReminders:ve(),systemMessages:ve()}),inApp:xe({eventInvites:ve(),eventUpdates:ve(),eventReminders:ve(),systemMessages:ve()}),push:xe({eventInvites:ve(),eventUpdates:ve(),eventReminders:ve(),systemMessages:ve()})});const tl=()=>{const[s,t]=j.useState(!1),[a,r]=j.useState(1),[i,n]=j.useState(!1),l=Ke(),{register:o,error:c,clearError:d}=_e(),{control:u,handleSubmit:x,formState:{errors:h,isValid:b},watch:w,setValue:T,trigger:g}=xn({resolver:Cn(Xn),mode:"onBlur",defaultValues:{email:"",displayName:"",phoneNumber:"",whatsappNumber:"",bio:"",interests:[],dietaryPreferences:[],address:{street:"",city:"",postalCode:""},privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1}}}),I=w("interests"),S=w("dietaryPreferences"),L=()=>{c&&d&&d()},_=["Cooking","Baking","Gardening","Photography","Music","Sports","Reading","Travel","Art","Technology","Volunteering","Fitness"],P=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Nut-Free","Kosher","Halal","Low-Carb","Paleo","Mediterranean"],v=async y=>{try{t(!0),console.log("ðŸš€ Starting registration submission..."),console.log("ðŸ“ Form data:",y),d&&(d(),console.log("ðŸ§¹ Cleared previous errors")),console.log("ðŸ” Running final validation...");const C=await g();if(console.log("âœ… Form validation result:",C),!C){console.log("âŒ Form validation failed"),Q.error("Please fill in all required fields correctly."),t(!1);return}const D=Math.random().toString(36).slice(-12)+"A1!";console.log("ðŸ”‘ Generated temporary password"),console.log("ðŸ“¤ Calling register function..."),await o(y.email,D,y.displayName,{phoneNumber:y.phoneNumber,whatsappNumber:y.whatsappNumber,bio:y.bio,interests:y.interests,dietaryPreferences:y.dietaryPreferences,address:y.address,privacy:y.privacy}),console.log("ðŸŽ‰ Registration successful!"),Q.success("ðŸŽ‰ Registration successful! Please check your email for verification.",{duration:5e3,style:{background:"#10B981",color:"#fff",fontSize:"16px",fontWeight:"bold"}}),setTimeout(()=>{l(`/email-verification?email=${encodeURIComponent(y.email)}`)},2e3)}catch(C){console.error("âŒ Registration submission error:",C),console.error("âŒ Error details:",{message:C.message,code:C.code,stack:C.stack}),C.message?Q.error(C.message):Q.error("Registration failed. Please try again.")}finally{t(!1),console.log("ðŸ Registration submission completed")}},p=async()=>{let y=[];switch(a){case 1:y=["email","displayName"];break;case 2:y=["phoneNumber","whatsappNumber","bio"];const D=w("address");(D!=null&&D.street||D!=null&&D.city||D!=null&&D.postalCode)&&(y.push("address.street"),y.push("address.city"),y.push("address.postalCode"));break;case 3:y=[];break;case 4:y=["privacy.phoneVisible","privacy.whatsappVisible","privacy.addressVisible"];break}await g(y)&&r(a+1)},Z=()=>{r(a-1)},O=y=>{const C=I||[];C.includes(y)?T("interests",C.filter(D=>D!==y)):C.length<10&&T("interests",[...C,y])},k=y=>{const C=S||[];C.includes(y)?T("dietaryPreferences",C.filter(D=>D!==y)):C.length<10&&T("dietaryPreferences",[...C,y])};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join LCC Assemble"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Connect with your community through shared events and experiences"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-center space-x-4",children:[1,2,3,4].map(y=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${y<=a?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:y}),y<4&&e.jsx("div",{className:`w-12 h-1 mx-2 ${y<a?"bg-orange-500":"bg-gray-200"}`})]},y))}),e.jsxs("div",{className:"flex justify-center mt-2 space-x-8 text-sm text-gray-600",children:[e.jsx("span",{className:a>=1?"text-orange-600 font-medium":"",children:"Account"}),e.jsx("span",{className:a>=2?"text-orange-600 font-medium":"",children:"Profile"}),e.jsx("span",{className:a>=3?"text-orange-600 font-medium":"",children:"Preferences"}),e.jsx("span",{className:a>=4?"text-orange-600 font-medium":"",children:"Privacy"})]})]}),e.jsxs(J,{className:"p-8",children:[c&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),e.jsxs("form",{onSubmit:x(v),className:"space-y-6",children:[a===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create Your Account"}),e.jsx("p",{className:"text-sm text-gray-600",children:"* Required fields"}),e.jsx($e,{name:"email",control:u,render:({field:y})=>{var C;return e.jsx(te,{...y,onChange:D=>{y.onChange(D),L()},type:"email",label:"Email Address *",placeholder:"your.email@example.com",error:(C=h.email)==null?void 0:C.message,required:!0})}}),e.jsx($e,{name:"displayName",control:u,render:({field:y})=>{var C;return e.jsx(te,{...y,onChange:D=>{y.onChange(D),L()},label:"Display Name *",placeholder:"How you want to be known in the community",error:(C=h.displayName)==null?void 0:C.message,required:!0})}}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," You'll receive a secure temporary password after registration. You can change it later in your profile settings."]})})]}),a===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tell Us About Yourself"}),e.jsx("p",{className:"text-sm text-gray-600",children:"All fields are optional but help us personalize your experience"}),e.jsx($e,{name:"phoneNumber",control:u,render:({field:y})=>{var C;return e.jsx(te,{...y,value:y.value||"",type:"tel",label:"Phone Number (Optional)",placeholder:"+1 (555) 123-4567",error:(C=h.phoneNumber)==null?void 0:C.message})}}),e.jsx($e,{name:"whatsappNumber",control:u,render:({field:y})=>{var C;return e.jsx(te,{...y,value:y.value||"",type:"tel",label:"WhatsApp Number (Optional)",placeholder:"+1 (555) 123-4567",error:(C=h.whatsappNumber)==null?void 0:C.message})}}),e.jsx($e,{name:"bio",control:u,render:({field:y})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio (Optional)"}),e.jsx("textarea",{...y,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Tell us a bit about yourself..."}),h.bio&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.bio.message})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Address (Optional)"}),e.jsx($e,{name:"address.street",control:u,render:({field:y})=>{var C,D;return e.jsx(te,{...y,label:"Street Address",placeholder:"123 Main Street",error:(D=(C=h.address)==null?void 0:C.street)==null?void 0:D.message})}}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx($e,{name:"address.city",control:u,render:({field:y})=>{var C,D;return e.jsx(te,{...y,label:"City",placeholder:"Your City",error:(D=(C=h.address)==null?void 0:C.city)==null?void 0:D.message})}}),e.jsx($e,{name:"address.postalCode",control:u,render:({field:y})=>{var C,D;return e.jsx(te,{...y,label:"Postal Code",placeholder:"A1A 1A1",error:(D=(C=h.address)==null?void 0:C.postalCode)==null?void 0:D.message})}})]})]})]}),a===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Your Interests & Preferences"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Optional selections to help us connect you with like-minded community members"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"}),' Select any interests or dietary preferences that match your lifestyle, or click "Next" to skip this step.']})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Interests (Select up to 10)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:_.map(y=>e.jsx("button",{type:"button",onClick:()=>O(y),className:`px-3 py-2 text-sm rounded-full border transition-colors ${I!=null&&I.includes(y)?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}`,children:y},y))}),h.interests&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.interests.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Dietary Preferences (Select up to 10)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:P.map(y=>e.jsx("button",{type:"button",onClick:()=>k(y),className:`px-3 py-2 text-sm rounded-full border transition-colors ${S!=null&&S.includes(y)?"bg-green-500 text-white border-green-500":"bg-white text-gray-700 border-gray-300 hover:border-green-300"}`,children:y},y))}),h.dietaryPreferences&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.dietaryPreferences.message})]})]}),a===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Control what information is visible to other community members. These settings are required."}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["ðŸ”’ ",e.jsx("strong",{children:"Final Step:"}),' Set your privacy preferences and click "Join the Community" to complete your registration.']})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($e,{name:"privacy.phoneVisible",control:u,render:({field:y})=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y.value,onChange:C=>{y.onChange(C),n(!0)},onBlur:y.onBlur,name:y.name,ref:y.ref,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Make phone number visible to other members"})]})}),e.jsx($e,{name:"privacy.whatsappVisible",control:u,render:({field:y})=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y.value,onChange:C=>{y.onChange(C),n(!0)},onBlur:y.onBlur,name:y.name,ref:y.ref,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Make WhatsApp number visible to other members"})]})}),e.jsx($e,{name:"privacy.addressVisible",control:u,render:({field:y})=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:y.value,onChange:C=>{y.onChange(C),n(!0)},onBlur:y.onBlur,name:y.name,ref:y.ref,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Make address visible to other members"})]})})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Privacy Promise"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your privacy is important to us. You can change these settings anytime in your profile. We never share your information with third parties without your explicit consent."})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[a>1&&e.jsx(F,{type:"button",variant:"outline",onClick:Z,disabled:s,children:"Previous"}),e.jsx("div",{className:"flex-1"}),a<4?e.jsx(F,{type:"button",onClick:p,disabled:s,className:"px-6 py-2",children:"Next"}):e.jsx(F,{type:"submit",disabled:s||!b||!i,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:y=>{if(!b||s||!i){y.preventDefault();return}},children:s?"Creating Account...":"Join the Community"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(We,{to:"/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in here"})]})})]})]})})},sl=()=>{const s=Ke(),[t]=Sr(),{user:a,resendEmailVerification:r,checkEmailVerificationStatus:i,error:n,clearError:l}=_e(),[o,c]=j.useState(!1),[d,u]=j.useState(!1),[x,h]=j.useState(null),b=t.get("email")||(a==null?void 0:a.email)||"";j.useEffect(()=>{(async()=>{if(a){u(!0);try{const S=await i();h(S),S&&(Q.success("Email verified successfully!"),setTimeout(()=>{s("/dashboard")},2e3))}catch(S){console.error("Error checking verification status:",S)}finally{u(!1)}}})()},[a,i,s]);const w=async()=>{c(!0);try{await r(),Q.success("Verification email sent! Check your inbox.")}catch(I){console.error("Resend email error:",I),Q.error(`Failed to resend email: ${I.message}`)}finally{c(!1)}},T=async()=>{if(a){u(!0);try{const I=await i();h(I),I?(Q.success("Email verified successfully!"),s("/dashboard")):Q("Email not yet verified. Please check your inbox.",{icon:"ðŸ“§",duration:4e3})}catch(I){console.error("Check status error:",I),Q.error(`Failed to check status: ${I.message}`)}finally{u(!1)}}},g=()=>{s("/login")};return!a&&!b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx(J,{className:"max-w-md w-full p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Verification Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to verify your email address."}),e.jsx(F,{onClick:g,children:"Go to Login"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx(J,{className:"max-w-2xl w-full p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["We've sent a verification link to ",e.jsx("strong",{children:b})]}),n&&e.jsx("div",{className:"mb-6",children:e.jsx(Ye,{type:"error",message:n})}),x===!0&&e.jsx("div",{className:"mb-6",children:e.jsx(Ye,{type:"success",message:"Email verified successfully! Redirecting to dashboard..."})}),x===!1&&e.jsx("div",{className:"mb-6",children:e.jsx(Ye,{type:"warning",message:"Email not yet verified. Please check your inbox and click the verification link."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"What to do next:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 text-left",children:[e.jsx("li",{children:"1. Check your email inbox (and spam folder)"}),e.jsx("li",{children:'2. Click the "Verify Email" link in the email'}),e.jsx("li",{children:"3. You'll be automatically redirected to your dashboard"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(F,{onClick:T,disabled:d,variant:"outline",children:d?"Checking...":"I've Verified My Email"}),e.jsx(F,{onClick:w,disabled:o,variant:"outline",children:o?"Sending...":"Resend Verification Email"}),e.jsx(F,{onClick:g,variant:"ghost",children:"Back to Login"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or try resending."}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"The verification link will expire in 24 hours."})]})]})})})},al=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(J,{className:"p-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"LCC Assemble - Test Page"}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"If you can see this, React is working correctly!"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(F,{onClick:()=>window.location.href="/login",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg",children:"Go to Login"}),e.jsx(F,{onClick:()=>window.location.href="/register",variant:"outline",className:"ml-4",children:"Go to Registration"})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Debug Info:"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["URL: ",window.location.href,e.jsx("br",{}),"Time: ",new Date().toLocaleString(),e.jsx("br",{}),"User Agent: ",navigator.userAgent.substring(0,50),"..."]})]})]})})}),Je=({size:s="md",className:t=""})=>{const i=`animate-spin rounded-full border-2 border-gray-300 border-t-blue-600 ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[s]} ${t}`.trim();return e.jsx("div",{className:i,role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})},Se="events",Ve=s=>s.toDate(),Oe=s=>Zr.fromDate(s),Tt=async s=>{try{const t=we(oe,Se,s),a=await Ft(t);if(a.exists()){const r=a.data();return{...r,id:a.id,dateTime:Ve(r.dateTime),createdAt:Ve(r.createdAt),updatedAt:Ve(r.updatedAt),attendees:Object.fromEntries(Object.entries(r.attendees||{}).map(([i,n])=>[i,{status:n.status,guestCount:n.guestCount,rsvpAt:Ve(n.rsvpAt),bringItems:n.bringItems||[]}]))}}return null}catch(t){throw console.error("Error getting event:",t),new Error("Failed to get event")}},rl=async(s,t)=>{try{const a=we(Le(oe,Se)),r=new Date,i={title:t.title,description:t.description,type:t.type,visibility:t.visibility,organizer:s,dateTime:t.dateTime,duration:t.duration,location:{name:t.location.name,address:t.location.address,...t.location.coordinates&&{coordinates:t.location.coordinates}},...t.capacity&&{capacity:t.capacity},images:[],bringList:{enabled:t.bringList.enabled,items:t.bringList.items.map((n,l)=>({id:`item_${l}`,item:n.item,quantity:n.quantity,fulfilled:!1}))},attendees:{},waitlist:[],status:"published",createdAt:r,updatedAt:r};return await ws(a,{...i,dateTime:Oe(i.dateTime),createdAt:Oe(i.createdAt),updatedAt:Oe(i.updatedAt)}),a.id}catch(a){throw console.error("Error creating event:",a),new Error("Failed to create event")}},il=async(s,t)=>{try{const a={...t,updatedAt:new Date};t.dateTime&&(a.dateTime=Oe(t.dateTime)),a.updatedAt=Oe(a.updatedAt),await Qe(we(oe,Se,s),a)}catch(a){throw console.error("Error updating event:",a),new Error("Failed to update event")}},Ys=async(s={},t=20,a)=>{var r,i;try{console.log("ðŸ” Searching events with filters:",s);const n=s.status&&s.status.length>0||s.visibility&&s.visibility.length>0||s.type&&s.type.length>0;if(console.log("ðŸ” hasComplexFilters:",n,"filters:",s),!n){console.log("ðŸ” No complex filters, using simple query");const l=me(Le(oe,Se),Ze(t*2)),o=await dt(l);let c=[];o.forEach(x=>{const h=x.data();c.push({id:x.id,title:h.title,type:h.type,visibility:h.visibility,organizer:h.organizer,dateTime:Ve(h.dateTime).toISOString(),location:h.location,capacity:h.capacity,attendeeCount:Object.keys(h.attendees||{}).length,coverImage:h.coverImage,status:h.status})}),s.location&&s.location.trim()&&(console.log("ðŸ” Filtering by location:",s.location),c=c.filter(x=>{var h,b,w,T;return((b=(h=x.location)==null?void 0:h.name)==null?void 0:b.toLowerCase().includes(s.location.toLowerCase()))||((T=(w=x.location)==null?void 0:w.address)==null?void 0:T.toLowerCase().includes(s.location.toLowerCase()))})),c.sort((x,h)=>new Date(h.dateTime).getTime()-new Date(x.dateTime).getTime());const d=a?c.findIndex(x=>x.id===a.id)+1:0,u=c.slice(d,d+t);return console.log(`âœ… Found ${u.length} events (simple query)`),{events:u,totalCount:c.length,hasMore:d+t<c.length}}try{let l=me(Le(oe,Se));s.status&&s.status.length>0&&(l=me(l,ut("status","in",s.status))),s.visibility&&s.visibility.length>0&&(l=me(l,ut("visibility","in",s.visibility))),s.type&&s.type.length>0&&(l=me(l,ut("type","in",s.type))),l=me(l,cs("dateTime","asc")),l=me(l,Ze(t));const o=await dt(l),c=[];return o.forEach(d=>{const u=d.data();c.push({id:d.id,title:u.title,type:u.type,visibility:u.visibility,organizer:u.organizer,dateTime:Ve(u.dateTime).toISOString(),location:u.location,capacity:u.capacity,attendeeCount:Object.keys(u.attendees||{}).length,coverImage:u.coverImage,status:u.status})}),console.log(`âœ… Found ${c.length} events (optimized query)`),{events:c,totalCount:c.length,hasMore:o.size===t}}catch(l){if((r=l.message)!=null&&r.includes("index")){console.warn("âš ï¸ Firestore index not ready, using client-side filtering");const o=me(Le(oe,Se),Ze(100)),c=await dt(o);let d=[];c.forEach(h=>{const b=h.data();console.log("ðŸ“„ Raw event data:",{id:h.id,status:b.status,title:b.title}),d.push({id:h.id,title:b.title,type:b.type,visibility:b.visibility,organizer:b.organizer,dateTime:Ve(b.dateTime).toISOString(),location:b.location,capacity:b.capacity,attendeeCount:Object.keys(b.attendees||{}).length,coverImage:b.coverImage,status:b.status})}),console.log("ðŸŽ¯ Applying client-side filters:",s),console.log("ðŸ“Š Events before filtering:",d.length,d.map(h=>({id:h.id,status:h.status,visibility:h.visibility,type:h.type}))),s.status&&s.status.length>0&&(console.log("ðŸ” Filtering by status:",s.status),d=d.filter(h=>{const b=s.status.includes(h.status);return console.log(`Event ${h.id}: status=${h.status}, matches=${b}`),b})),s.visibility&&s.visibility.length>0&&(console.log("ðŸ” Filtering by visibility:",s.visibility),d=d.filter(h=>s.visibility.includes(h.visibility))),s.type&&s.type.length>0&&(console.log("ðŸ” Filtering by type:",s.type),d=d.filter(h=>s.type.includes(h.type))),console.log("ðŸ“Š Events after filtering:",d.length),d.sort((h,b)=>new Date(h.dateTime).getTime()-new Date(b.dateTime).getTime());const u=a?d.findIndex(h=>h.id===a.id)+1:0,x=d.slice(u,u+t);return console.log(`âœ… Found ${x.length} events (client-side filtered)`),{events:x,totalCount:d.length,hasMore:u+t<d.length}}else throw l}}catch(n){throw console.error("âŒ Error searching events:",n),(i=n.message)!=null&&i.includes("index")?(console.warn("âš ï¸ Database index being created. Please wait a few minutes and try again."),new Error("Database is being optimized. Please wait a few minutes and try again.")):new Error("Failed to search events. Please try again.")}},nl=async(s,t,a)=>{try{const r=await Tt(s);if(!r)throw new Error("Event not found");const i=Object.keys(r.attendees).length,n=r.attendees[t];if(a.status==="going"&&!n&&r.capacity&&i>=r.capacity){const d=[...r.waitlist];return d.includes(t)||d.push(t),await Qe(we(oe,Se,s),{waitlist:d,updatedAt:Oe(new Date)}),{success:!1,message:"Event is at capacity. You have been added to the waitlist.",waitlistPosition:d.length}}const l={status:a.status,guestCount:a.guestCount||0,rsvpAt:new Date,bringItems:a.bringItems||[]},o={...r.attendees},c=[...r.waitlist];if(o[t]=l,a.status==="going"){const d=c.indexOf(t);d>-1&&c.splice(d,1)}else if(a.status==="not_going"){const d=c.indexOf(t);d>-1&&c.splice(d,1)}return await Qe(we(oe,Se,s),{attendees:{...o,[t]:{...l,rsvpAt:Oe(l.rsvpAt)}},waitlist:c,updatedAt:Oe(new Date)}),{success:!0,message:`RSVP ${a.status} recorded successfully.`,attendeeInfo:l}}catch(r){throw console.error("Error RSVPing to event:",r),new Error("Failed to RSVP to event")}},ll=async(s,t,a)=>{try{const r=await Tt(s);if(!r||!r.bringList.enabled)throw new Error("Event or bring list not found");const i=r.bringList.items.find(l=>l.id===t);if(!i)throw new Error("Item not found");if(i.assignedTo&&i.assignedTo!==a)throw new Error("Item already claimed by another user");const n=r.bringList.items.map(l=>l.id===t?{...l,assignedTo:a}:l);await Qe(we(oe,Se,s),{"bringList.items":n,updatedAt:Oe(new Date)})}catch(r){throw console.error("Error claiming bring list item:",r),new Error("Failed to claim item")}},pr=async(s,t,a=!1)=>{try{console.log("ðŸ“¤ Starting image upload for event:",s,"isCoverImage:",a);const r=qr(ai,`events/${s}/${t.name}`),i=await Wr(r,t),n=await Yr(i.ref);if(console.log("âœ… Image uploaded to storage, URL:",n),a)console.log("ðŸ–¼ï¸ Updating event document with cover image"),await Qe(we(oe,Se,s),{coverImage:n,updatedAt:Oe(new Date)}),console.log("âœ… Cover image updated in event document");else{const l=await Tt(s);if(l){const o=[...l.images,n];await Qe(we(oe,Se,s),{images:o,updatedAt:Oe(new Date)}),console.log("âœ… Additional image added to event document")}}return n}catch(r){throw console.error("âŒ Error uploading event image:",r),new Error("Failed to upload image")}},ol=async s=>{var t;try{try{const a=me(Le(oe,Se),ut("organizer","==",s),cs("dateTime","desc")),r=await dt(a),i=[];return r.forEach(n=>{const l=n.data();i.push({id:n.id,title:l.title,type:l.type,visibility:l.visibility,organizer:l.organizer,dateTime:Ve(l.dateTime).toISOString(),location:l.location,capacity:l.capacity,attendeeCount:Object.keys(l.attendees||{}).length,coverImage:l.coverImage,status:l.status})}),console.log(`âœ… Found ${i.length} user events (optimized query)`),i}catch(a){if((t=a.message)!=null&&t.includes("index")){console.warn("âš ï¸ Firestore index not ready for user events, using client-side filtering");const r=me(Le(oe,Se),Ze(100)),i=await dt(r);let n=[];return i.forEach(l=>{const o=l.data();o.organizer===s&&n.push({id:l.id,title:o.title,type:o.type,visibility:o.visibility,organizer:o.organizer,dateTime:Ve(o.dateTime).toISOString(),location:o.location,capacity:o.capacity,attendeeCount:Object.keys(o.attendees||{}).length,coverImage:o.coverImage,status:o.status})}),n.sort((l,o)=>new Date(o.dateTime).getTime()-new Date(l.dateTime).getTime()),console.log(`âœ… Found ${n.length} user events (client-side filtered)`),n}else throw a}}catch(a){throw console.error("Error getting user events:",a),new Error("Failed to get user events")}},cl=(s,t)=>{const a=we(oe,Se,s);return Vt(a,r=>{if(r.exists()){const i=r.data(),n={...i,id:r.id,dateTime:Ve(i.dateTime),createdAt:Ve(i.createdAt),updatedAt:Ve(i.updatedAt),attendees:Object.fromEntries(Object.entries(i.attendees||{}).map(([l,o])=>[l,{...o,rsvpAt:Ve(o.rsvpAt)}]))};t(n)}else t(null)},r=>{console.error("Event listener error:",r),t(null)})},dl=async s=>{try{await Qe(we(oe,Se,s),{status:"cancelled",updatedAt:Oe(new Date)})}catch(t){throw console.error("Error cancelling event:",t),new Error("Failed to cancel event")}},st="users",Va=s=>s!=null&&s.toDate?s.toDate().toISOString():s instanceof Date?s.toISOString():typeof s=="string"?s:new Date().toISOString(),Mt=async s=>{try{const t=we(oe,st,s),a=await Ft(t);if(a.exists()){const r=a.data();return{...r,createdAt:Va(r.createdAt),updatedAt:Va(r.updatedAt)}}return null}catch(t){throw console.error("Error getting user profile:",t),new Error("Failed to get user profile")}},yr=async(s,t)=>{try{const a=we(oe,st,s),r={...t,updatedAt:new Date};await Qe(a,r)}catch(a){throw console.error("Error updating user profile:",a),new Error("Failed to update user profile")}},os=async(s={},t=20,a)=>{var r,i;try{console.log("ðŸ” Searching users with filters:",s);try{let n=me(Le(oe,st));s.status&&(n=me(n,ut("status","==",s.status))),s.role&&(n=me(n,ut("role","==",s.role))),n=me(n,cs("displayName","asc")),n=me(n,Ze(t));const l=await dt(n),o=[];return l.forEach(c=>{const d=c.data();o.push({uid:d.uid,displayName:d.displayName,profileImage:d.profileImage,interests:d.interests,defaultAvailability:d.defaultAvailability})}),console.log(`âœ… Found ${o.length} users (optimized query)`),{users:o,hasMore:l.size===t,lastDoc:l.docs[l.docs.length-1]||void 0}}catch(n){if((r=n.message)!=null&&r.includes("index")){console.warn("âš ï¸ Firestore index not ready, using client-side filtering for users");const l=me(Le(oe,st),Ze(100)),o=await dt(l);let c=[];o.forEach(x=>{const h=x.data();c.push({uid:h.uid,displayName:h.displayName,profileImage:h.profileImage,interests:h.interests,defaultAvailability:h.defaultAvailability})}),s.status&&(c=c.filter(x=>!0)),s.role&&(c=c.filter(x=>!0)),c.sort((x,h)=>x.displayName.localeCompare(h.displayName));const d=a?c.findIndex(x=>x.uid===a.id)+1:0,u=c.slice(d,d+t);return console.log(`âœ… Found ${u.length} users (client-side filtered)`),{users:u,hasMore:d+t<c.length,lastDoc:u.length>0?{id:u[u.length-1].uid}:void 0}}else throw n}}catch(n){throw console.error("âŒ Error searching users:",n),(i=n.message)!=null&&i.includes("index")?(console.warn("âš ï¸ Database index being created. Using simplified user search."),new Error("Database is being optimized. Some features may be limited temporarily.")):new Error("Failed to search users. Please try again.")}},Ra=async s=>{try{await yr(s,{status:"approved"})}catch(t){throw console.error("Error approving user:",t),new Error("Failed to approve user")}},ul=async s=>{try{await yr(s,{status:"suspended"})}catch(t){throw console.error("Error suspending user:",t),new Error("Failed to suspend user")}},br=async()=>{try{const s=me(Le(oe,st)),t=await dt(s),a={pending:0,approved:0,suspended:0};return t.forEach(r=>{const i=r.data();a[i.status]=(a[i.status]||0)+1}),a}catch(s){throw console.error("Error getting user count by status:",s),new Error("Failed to get user statistics")}},ml=(s={},t)=>{if(s.status||s.role)try{let r=me(Le(oe,st));return s.status&&(r=me(r,ut("status","==",s.status))),s.role&&(r=me(r,ut("role","==",s.role))),r=me(r,cs("displayName","asc"),Ze(100)),Vt(r,i=>{const n=[];i.forEach(l=>{const o=l.data();n.push({uid:o.uid,displayName:o.displayName,profileImage:o.profileImage,interests:o.interests,defaultAvailability:o.defaultAvailability})}),t(n)},i=>{var n;if(console.error("Users list listener error:",i),(n=i.message)!=null&&n.includes("index")){console.warn("âš ï¸ Falling back to simple user listener (no real-time updates)");const l=me(Le(oe,st),Ze(100));return Vt(l,c=>{const d=[];c.forEach(u=>{const x=u.data();(!s.status||x.status===s.status)&&(!s.role||x.role===s.role)&&d.push({uid:x.uid,displayName:x.displayName,profileImage:x.profileImage,interests:x.interests,defaultAvailability:x.defaultAvailability})}),d.sort((u,x)=>u.displayName.localeCompare(x.displayName)),t(d)},c=>{console.error("Fallback users listener error:",c),t([])})}else return t([]),()=>{}})}catch(r){console.error("Error setting up complex user listener:",r);const i=me(Le(oe,st),Ze(100));return Vt(i,n=>{const l=[];n.forEach(o=>{const c=o.data();(!s.status||c.status===s.status)&&(!s.role||c.role===s.role)&&l.push({uid:c.uid,displayName:c.displayName,profileImage:c.profileImage,interests:c.interests,defaultAvailability:c.defaultAvailability})}),l.sort((o,c)=>o.displayName.localeCompare(c.displayName)),t(l)},n=>{console.error("Fallback users listener error:",n),t([])})}else{const r=me(Le(oe,st),Ze(100));return Vt(r,i=>{const n=[];i.forEach(l=>{const o=l.data();n.push({uid:o.uid,displayName:o.displayName,profileImage:o.profileImage,interests:o.interests,defaultAvailability:o.defaultAvailability})}),n.sort((l,o)=>l.displayName.localeCompare(o.displayName)),t(n)},i=>{console.error("Simple users listener error:",i),t([])})}},hl=()=>{const{user:s,userProfile:t}=_e(),a=Ke(),[r,i]=j.useState([]),[n,l]=j.useState([]),[o,c]=j.useState(!0),[d,u]=j.useState(!0),[x,h]=j.useState({totalEvents:0,totalMembers:0,myEvents:0});j.useEffect(()=>{b()},[]);const b=async()=>{try{c(!0);const g=await Ys({status:["published"]},3);i(g.events),u(!0);const I=await os({status:"approved"},5);l(I.users);const[S,L]=await Promise.all([ol((s==null?void 0:s.uid)||""),br()]);h({totalEvents:g.totalCount,totalMembers:L.approved+L.pending+L.suspended,myEvents:S.length}),h({totalEvents:g.totalCount,totalMembers:L.approved+L.pending+L.suspended,myEvents:S.length})}catch(g){console.error("Error loading dashboard data:",g),Q.error("Failed to load dashboard data")}finally{c(!1),u(!1)}},w=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"TBD",T=()=>{const g=new Date().getHours();return g<12?"Good morning":g<17?"Good afternoon":"Good evening"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[T(),", ",(t==null?void 0:t.displayName)||(s==null?void 0:s.displayName)||"Member","! ðŸ‘‹"]}),e.jsx("p",{className:"text-gray-600",children:"Welcome to your LCC Assemble dashboard"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx(F,{onClick:()=>a("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"ðŸ“… Create Event"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.totalEvents}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]})]})}),e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"ðŸ‘¥"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.totalMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Community Members"})]})]})}),e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“…"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.myEvents}),e.jsx("p",{className:"text-sm text-gray-600",children:"My Events"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(J,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(F,{onClick:()=>a("/events/create"),className:"w-full justify-start bg-orange-500 hover:bg-orange-600",children:"ðŸ“… Create New Event"}),e.jsx(F,{variant:"outline",onClick:()=>a("/events"),className:"w-full justify-start",children:"ðŸ“‹ Browse All Events"}),e.jsx(F,{variant:"outline",onClick:()=>a("/members"),className:"w-full justify-start",children:"ðŸ‘¥ Find Members"}),e.jsx(F,{variant:"outline",onClick:()=>a("/profile"),className:"w-full justify-start",children:"âš™ï¸ Update Profile"})]})]}),e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Events"}),e.jsx(We,{to:"/events",className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all â†’"})]}),o?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Je,{})}):r.length>0?e.jsx("div",{className:"space-y-3",children:r.slice(0,3).map(g=>{var I;return e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>a(`/events/${g.id}`),children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:g.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:w(g.dateTime)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:((I=g.location)==null?void 0:I.name)||"Location TBD"})]},g.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:"No upcoming events"}),e.jsx(F,{size:"sm",onClick:()=>a("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"Create First Event"})]})]}),e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Members"}),e.jsx(We,{to:"/members",className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all â†’"})]}),d?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Je,{})}):n.length>0?e.jsx("div",{className:"space-y-3",children:n.slice(0,4).map(g=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors",onClick:()=>a(`/members/${g.uid}`),children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:g.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:g.displayName}),e.jsx("p",{className:"text-xs text-gray-500",children:g.interests.length>0?g.interests[0]:"New member"})]})]},g.uid))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No recent members"})})]})]}),e.jsxs(J,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Community Overview"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:x.totalEvents}),e.jsx("div",{className:"text-sm text-gray-600",children:"Events Created"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.totalMembers}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.myEvents}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your Events"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Events This Month"})]})]})]})]})},xl=()=>{const s=Ke(),{user:t}=_e(),[a,r]=j.useState([]),[i,n]=j.useState(!0),[l,o]=j.useState(""),[c,d]=j.useState("all"),[u,x]=j.useState("all"),[h,b]=j.useState("grid"),[w,T]=j.useState(!1);j.useEffect(()=>{x("published")},[t]);const g=[{value:"all",label:"All Types"},{value:"birthday",label:"Birthday"},{value:"potluck",label:"Potluck"},{value:"farewell",label:"Farewell"},{value:"celebration",label:"Celebration"},{value:"other",label:"Other"}];j.useEffect(()=>{I()},[l,c,u,t]);const I=async()=>{try{n(!0),console.log("ðŸ” Loading events with filters:",{selectedStatus:u,selectedType:c,searchQuery:l});const v={};u!=="all"?(v.status=[u],console.log("ðŸ“‹ Applying status filter:",v.status)):console.log("ðŸ“‹ No status filter applied (showing all events)"),c!=="all"&&(v.type=[c]),l.trim()&&(v.location=l),console.log("ðŸ” Final filters:",v);const p=await Ys(v,20);console.log("âœ… Search result:",{eventsCount:p.events.length,hasMore:p.hasMore,events:p.events}),r(p.events),T(p.hasMore)}catch(v){console.error("âŒ Error loading events:",v),Q.error("Failed to load events")}finally{n(!1)}},S=v=>{const p=new Date(v),Z=new Date,O=p.getTime()-Z.getTime(),k=Math.ceil(O/(1e3*60*60*24));return k===0?"Today":k===1?"Tomorrow":k<7?`In ${k} days`:p.toLocaleDateString("en-US",{month:"short",day:"numeric",year:p.getFullYear()!==Z.getFullYear()?"numeric":void 0})},L=v=>{const p=v.capacity||0,Z=v.attendeeCount;return p===0?null:Z>=p?"Full":Z>=p*.8?"Almost Full":`${Z}/${p} attending`},_=({event:v})=>e.jsx("div",{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s(`/events/${v.id}`),children:e.jsxs(J,{className:"h-full",children:[v.coverImage&&e.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[e.jsx("img",{src:v.coverImage,alt:v.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v.visibility==="public"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:v.visibility})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:`text-lg font-semibold line-clamp-2 ${v.status==="cancelled"?"text-gray-500 line-through":"text-gray-900"}`,children:v.title}),e.jsxs("div",{className:"flex items-center space-x-2 ml-2 flex-shrink-0",children:[v.status==="cancelled"&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"CANCELLED"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v.type==="birthday"?"bg-pink-100 text-pink-800":v.type==="potluck"?"bg-orange-100 text-orange-800":v.type==="farewell"?"bg-blue-100 text-blue-800":v.type==="celebration"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.type})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ“…"}),e.jsx("span",{children:S(v.dateTime)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ“"}),e.jsx("span",{className:"truncate",children:v.location.name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ‘¥"}),e.jsx("span",{children:L(v)||`${v.attendeeCount} attending`})]}),v.status==="published"&&e.jsx(F,{size:"sm",variant:"outline",className:"text-xs",children:"View Details"})]})]})]})]})}),P=({event:v})=>e.jsx("div",{className:"cursor-pointer",onClick:()=>s(`/events/${v.id}`),children:e.jsx(J,{className:"p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[v.coverImage?e.jsx("img",{src:v.coverImage,alt:v.title,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0"}):e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0 flex items-center justify-center",children:"ðŸ“…"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:`text-lg font-semibold truncate ${v.status==="cancelled"?"text-gray-500 line-through":"text-gray-900"}`,children:v.title}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[v.status==="cancelled"&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"CANCELLED"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v.type==="birthday"?"bg-pink-100 text-pink-800":v.type==="potluck"?"bg-orange-100 text-orange-800":v.type==="farewell"?"bg-blue-100 text-blue-800":v.type==="celebration"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.type}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v.visibility==="public"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:v.visibility})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["ðŸ“… ",S(v.dateTime)]}),e.jsxs("span",{children:["ðŸ“ ",v.location.name]}),e.jsxs("span",{children:["ðŸ‘¥ ",L(v)||`${v.attendeeCount} attending`]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(F,{size:"sm",variant:"outline",children:"View Details"})})]})})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),e.jsx("p",{className:"text-gray-600",children:"Discover and join community events"})]}),e.jsx(F,{onClick:()=>s("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"ðŸ“… Create Event"})]}),e.jsx(J,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(te,{type:"text",placeholder:"Search events by location...",value:l,onChange:v=>o(v.target.value),className:"w-full"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("select",{value:c,onChange:v=>d(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:g.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))}),e.jsxs("select",{value:u,onChange:v=>x(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"published",children:"Published Events"}),e.jsx("option",{value:"all",children:"All Events"}),e.jsx("option",{value:"cancelled",children:"Cancelled Events"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{size:"sm",variant:h==="grid"?"primary":"outline",onClick:()=>b("grid"),children:"Grid"}),e.jsx(F,{size:"sm",variant:h==="list"?"primary":"outline",onClick:()=>b("list"),children:"List"})]})]})]})}),i?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Je,{})}):a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",a.length," event",a.length!==1?"s":"",w&&" (more available)"]})}),e.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:a.map(v=>h==="grid"?e.jsx(_,{event:v},v.id):e.jsx(P,{event:v},v.id))}),w&&e.jsx("div",{className:"text-center py-8",children:e.jsx(F,{variant:"outline",onClick:I,children:"Load More Events"})})]}):e.jsx(J,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“…"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l||c!=="all"?"Try adjusting your filters or search terms.":"Be the first to create an event for the community!"}),e.jsx(F,{onClick:()=>s("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"Create First Event"})]})})]})},fl=({event:s,currentUserId:t,onRSVP:a,onCancel:r})=>{const[i,n]=j.useState(!1),[l,o]=j.useState(null),[c,d]=j.useState("going"),[u,x]=j.useState(0),h=s.attendees[t],b=!!h,w=s.capacity&&Object.keys(s.attendees).length>=s.capacity,T=b&&h.status==="going"&&w,g=v=>{d(v),v!=="going"&&x(0)},I=async v=>{v.preventDefault();try{n(!0),o(null),await a(c,u)}catch(p){console.error("RSVP error:",p),o(p instanceof Error?p.message:"Failed to update RSVP")}finally{n(!1)}},S=()=>Object.values(s.attendees).reduce((v,p)=>p.status==="going"?v+1+p.guestCount:v,0),L=v=>{switch(v){case"going":return"text-green-600 bg-green-100";case"maybe":return"text-yellow-600 bg-yellow-100";case"not_going":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},_=S(),P=s.capacity?Math.max(0,s.capacity-_):null;return e.jsx(J,{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"RSVP to Event"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.title})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Attendees:"}),e.jsx("span",{className:"text-sm text-gray-900",children:_})]}),s.capacity&&e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Capacity:"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.capacity})]}),P!==null&&P>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Spots Left:"}),e.jsx("span",{className:"text-sm text-green-600",children:P})]}),P===0&&!T&&e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Event is full"})})]}),b&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Your current response:"}),e.jsxs("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ml-2 ${L(h.status)}`,children:[h.status==="going"&&"Going",h.status==="maybe"&&"Maybe",h.status==="not_going"&&"Not Going",T&&" (Waitlist)"]})]}),h.guestCount>0&&e.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:["+",h.guestCount," guest",h.guestCount!==1?"s":""]})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l&&e.jsx(Ye,{type:"error",message:l}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your Response"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp-status",value:"going",checked:c==="going",onChange:()=>g("going"),disabled:i,className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Going"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp-status",value:"maybe",checked:c==="maybe",onChange:()=>g("maybe"),disabled:i,className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Maybe"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp-status",value:"not_going",checked:c==="not_going",onChange:()=>g("not_going"),disabled:i,className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Not Going"})]})]})]}),c==="going"&&e.jsx(te,{type:"number",label:"Number of Additional Guests",value:u.toString(),onChange:v=>x(Math.max(0,Number(v.target.value))),placeholder:"0",min:"0",max:"10",disabled:i,helperText:"How many guests are you bringing?"}),c==="going"&&w&&!T&&e.jsx(Ye,{type:"warning",message:"This event is currently full. You'll be added to the waitlist."}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[r&&e.jsx(F,{type:"button",variant:"outline",onClick:r,disabled:i,className:"flex-1",children:"Cancel"}),e.jsx(F,{type:"submit",disabled:i,isLoading:i,className:"flex-1",children:i?"Updating...":b?"Update RSVP":"Send RSVP"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Event Details"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(s.dateTime).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",new Date(s.dateTime).toLocaleTimeString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",s.location.name]}),s.bringList.enabled&&e.jsxs("p",{children:[e.jsx("strong",{children:"Bring List:"})," Available"]})]})]})]})})},gl=({event:s,onRSVPUpdate:t})=>{const{user:a}=_e(),[r,i]=j.useState(!1),[n,l]=j.useState(!1);if(!a)return e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to RSVP to this event."}),e.jsx(F,{onClick:()=>window.location.href="/login",children:"Log In"})]})});const o=a.uid,c=s.attendees[o],d=!!c,u=new Date(s.dateTime)<new Date,x=async(S,L)=>{try{l(!0),await nl(s.id,o,{status:S,guestCount:L}),Q.success("RSVP updated successfully!"),i(!1),t==null||t()}catch(_){throw console.error("RSVP error:",_),Q.error(_.message||"Failed to update RSVP"),_}finally{l(!1)}},h=()=>{if(!d)return"Not responded yet";switch(c.status){case"going":return"Going";case"maybe":return"Maybe";case"not_going":return"Not going";default:return"Unknown"}},b=()=>{if(!d)return"bg-gray-100 text-gray-800";switch(c.status){case"going":return"bg-green-100 text-green-800";case"maybe":return"bg-yellow-100 text-yellow-800";case"not_going":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=Object.values(s.attendees).reduce((S,L)=>L.status==="going"?S+1+L.guestCount:S,0),g=s.capacity&&T>=s.capacity,I=d&&c.status==="going"&&g;return r?e.jsx(fl,{event:s,currentUserId:o,onRSVP:x,onCancel:()=>i(!1)}):e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your RSVP"}),d&&!u&&e.jsx(F,{variant:"outline",size:"sm",onClick:()=>i(!0),disabled:n,children:"Change Response"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b()}`,children:[h(),I&&" (Waitlist)"]})]}),d&&c.guestCount>0&&e.jsxs("span",{className:"text-sm text-gray-600",children:["+",c.guestCount," guest",c.guestCount!==1?"s":""]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Attendees:"}),e.jsx("span",{className:"ml-2 font-medium",children:T})]}),s.capacity&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Capacity:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.capacity})]})]}),s.capacity&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(T/s.capacity*100,100)}%`}})}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.capacity-T>0?`${s.capacity-T} spots left`:"Event is full"})]})]}),!u&&e.jsx("div",{className:"pt-2",children:d?e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["RSVP last updated: ",new Date(c.rsvpAt).toLocaleDateString()]})}):e.jsx(F,{onClick:()=>i(!0),className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n,children:"RSVP to Event"})}),u&&e.jsx("div",{className:"text-center py-2",children:e.jsx("p",{className:"text-sm text-gray-500",children:"This event has already occurred"})})]})})},pl=({event:s,onItemClaimed:t})=>{var d;const{user:a}=_e(),[r,i]=j.useState(null);if(!s.bringList.enabled||!s.bringList.items.length)return null;const n=async u=>{if(!a){Q.error("Please log in to claim items");return}try{i(u),await ll(s.id,u,a.uid),Q.success("Item claimed successfully!"),t==null||t()}catch(x){console.error("Error claiming item:",x),Q.error(x.message||"Failed to claim item")}finally{i(null)}},l=u=>u.assignedTo?u.assignedTo===(a==null?void 0:a.uid)?{status:"claimed-by-me",text:"Claimed by you",color:"bg-green-100 text-green-800"}:{status:"claimed",text:"Claimed",color:"bg-blue-100 text-blue-800"}:{status:"available",text:"Available",color:"bg-gray-100 text-gray-800"},o=new Date(s.dateTime)<new Date,c=a?((d=s.attendees[a.uid])==null?void 0:d.status)==="going":!1;return e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"What to Bring"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.bringList.items.length," item",s.bringList.items.length!==1?"s":""]})]}),!c&&!o&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsx("p",{className:"text-sm text-yellow-800",children:'RSVP as "Going" to claim items from the bring list.'})}),e.jsx("div",{className:"space-y-3",children:s.bringList.items.map(u=>{const x=l(u),h=!u.assignedTo&&!o&&c&&x.status==="available";return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:u.item}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.color}`,children:x.text})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity needed: ",u.quantity,u.fulfilled&&e.jsx("span",{className:"ml-2 text-green-600",children:"âœ“ Fulfilled"})]}),u.assignedTo&&u.assignedTo!==(a==null?void 0:a.uid)&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Someone else has claimed this item"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[h&&e.jsx(F,{size:"sm",onClick:()=>n(u.id),disabled:r===u.id,isLoading:r===u.id,className:"bg-orange-500 hover:bg-orange-600",children:r===u.id?"Claiming...":"Claim"}),x.status==="claimed-by-me"&&!o&&e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"âœ“ Yours"})]})]},u.id)})}),s.bringList.items.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No items on the bring list yet."})}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"How it works:"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[e.jsx("li",{children:'â€¢ RSVP as "Going" to access the bring list'}),e.jsx("li",{children:"â€¢ Claim items you can bring to the event"}),e.jsx("li",{children:"â€¢ Mark items as fulfilled when you bring them"}),e.jsx("li",{children:"â€¢ Help make the event successful for everyone!"})]})]})]})})},Gs=({address:s,locationName:t,coordinates:a,height:r="200px",className:i=""})=>{const n=()=>{const l=(a==null?void 0:a.lat)||43.6532,o=(a==null?void 0:a.lng)||-79.3832;window.open(`https://www.openstreetmap.org/?mlat=${l}&mlon=${o}&zoom=15`,"_blank")};return e.jsx("div",{className:`rounded-lg overflow-hidden border border-gray-200 ${i}`,style:{height:r},children:e.jsxs("div",{className:"relative w-full h-full bg-gray-100",children:[e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-100 to-blue-100 flex items-center justify-center cursor-pointer hover:from-green-200 hover:to-blue-200 transition-colors",onClick:n,children:e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“"}),e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:t||"Event Location"}),e.jsx("div",{className:"text-xs text-gray-600 max-w-xs",children:s}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Click to view on OpenStreetMap"})]})}),a&&e.jsxs("div",{className:"absolute top-2 right-2 bg-white bg-opacity-90 px-2 py-1 rounded text-xs text-gray-600",children:[a.lat.toFixed(4),", ",a.lng.toFixed(4)]})]})})},yl=()=>{const{eventId:s}=Ma(),{user:t}=_e(),a=Ke(),[r,i]=j.useState(null),[n,l]=j.useState(null),[o,c]=j.useState(!0);j.useEffect(()=>{s&&d()},[s]);const d=async()=>{if(s)try{c(!0),console.log("ðŸ” Loading event details for ID:",s);const b=await Tt(s);if(console.log("âœ… Event data loaded:",{id:b==null?void 0:b.id,title:b==null?void 0:b.title,coverImage:b==null?void 0:b.coverImage,hasCoverImage:!!(b!=null&&b.coverImage),status:b==null?void 0:b.status}),!b){console.warn("âŒ Event not found for ID:",s),Q.error("Event not found"),a("/events");return}i(b);try{const g=await Mt(b.organizer);l(g)}catch(g){console.warn("Could not load organizer profile:",g),l({uid:b.organizer,displayName:"Unknown Organizer",email:"",interests:[],dietaryPreferences:[],privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1},role:"member",status:"approved",defaultAvailability:{weekdays:!1,evenings:!1,weekends:!1},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}const w=cl(s,g=>{g&&i(g)}),T=setTimeout(async()=>{try{console.log("ðŸ”„ Fallback check: Re-fetching event data");const g=await Tt(s);g&&g.coverImage!==b.coverImage&&i(g)}catch(g){console.warn("Fallback check failed:",g)}},3e3);return()=>{w(),clearTimeout(T)}}catch(b){console.error("âŒ Error loading event details:",b);const w=b;console.error("âŒ Error details:",{message:w==null?void 0:w.message,code:w==null?void 0:w.code,stack:w==null?void 0:w.stack}),Q.error("Failed to load event details"),a("/events");return}finally{c(!1)}},u=b=>b.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"});if(o)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Je,{})});if(!r)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The event you're looking for doesn't exist or has been removed."}),e.jsx(F,{onClick:()=>a("/events"),children:"Back to Events"})]});const x=(t==null?void 0:t.uid)===r.organizer,h=new Date(r.dateTime)<new Date;return e.jsxs("div",{className:"space-y-6",children:[r.status==="cancelled"&&e.jsx(J,{className:"p-4 bg-red-50 border-red-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Event Cancelled"}),e.jsx("p",{className:"text-red-700",children:"This event has been cancelled by the organizer. RSVPs and event details are preserved for transparency."})]})]})}),e.jsx("div",{className:"relative",children:(console.log("ðŸŽ¨ Rendering event header, coverImage:",r.coverImage,"condition:",!!r.coverImage),r.coverImage?e.jsxs("div",{className:"h-64 md:h-80 bg-gray-200 relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:r.coverImage,alt:r.title,className:"w-full h-full object-cover",onLoad:()=>console.log("ðŸ–¼ï¸ Cover image loaded successfully"),onError:b=>console.log("âŒ Cover image failed to load:",b)}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${r.type==="birthday"?"bg-pink-500":r.type==="potluck"?"bg-orange-500":r.type==="farewell"?"bg-blue-500":r.type==="celebration"?"bg-green-500":"bg-gray-500"}`,children:r.type}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${r.visibility==="public"?"bg-green-500":"bg-blue-500"}`,children:r.visibility}),r.status==="published"&&e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-500",children:"Published"}),r.status==="cancelled"&&e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-red-500",children:"CANCELLED"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.title}),e.jsx("p",{className:"text-lg opacity-90",children:r.description})]})]}):e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-8 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-white bg-opacity-20",children:r.type}),e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-white bg-opacity-20",children:r.visibility})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.title}),e.jsx("p",{className:"text-lg opacity-90",children:r.description})]}))}),!h&&e.jsx(gl,{event:r,onRSVPUpdate:()=>{d()}}),x&&e.jsx("div",{className:"flex justify-end",children:e.jsx(F,{variant:"outline",onClick:()=>a(`/events/${r.id}/edit`),children:"Edit Event"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(J,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"ðŸ“…"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(r.dateTime)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Duration: ",r.duration," minutes"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-2xl mr-3 mt-1",children:"ðŸ“"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:r.location.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:r.location.address}),e.jsx(Gs,{address:r.location.address,locationName:r.location.name,coordinates:r.location.coordinates,height:"200px",className:"border border-gray-200 rounded-lg"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"ðŸ‘¥"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[Object.keys(r.attendees).length," attending",r.capacity&&` / ${r.capacity} capacity`]}),r.capacity&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(Object.keys(r.attendees).length/r.capacity*100,100)}%`}})})]})]})]})]}),e.jsx(pl,{event:r,onItemClaimed:()=>{d()}}),r.images&&r.images.length>0&&e.jsxs(J,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Photos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.images.map((b,w)=>e.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:b,alt:`Event photo ${w+1}`,className:"w-full h-full object-cover"})},w))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(J,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Organizer"}),n&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-orange-600",children:n.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.displayName}),e.jsx("p",{className:"text-sm text-gray-600",children:"Event Organizer"})]})]})]}),e.jsxs(J,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Attendees (",Object.keys(r.attendees).length,")"]}),e.jsxs("div",{className:"space-y-2",children:[Object.entries(r.attendees).slice(0,5).map(([b,w])=>e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"?"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Attendee"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[w.status," ",w.guestCount>0&&`+${w.guestCount}`]})]})]})},b)),Object.keys(r.attendees).length>5&&e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["+",Object.keys(r.attendees).length-5," more attendees"]})]})]}),r.waitlist.length>0&&e.jsxs(J,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Waitlist (",r.waitlist.length,")"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This event is at capacity. Join the waitlist for cancellations."})]})]})]})]})},vr=({selectedMembers:s,onMembersChange:t,maxSelections:a=50})=>{const{user:r}=_e(),[i,n]=j.useState(""),[l,o]=j.useState([]),[c,d]=j.useState(!1),[u,x]=j.useState("");j.useEffect(()=>{h()},[i]);const h=async()=>{try{d(!0),x("");let I=(await os({status:"approved"},50)).users.filter(S=>S.uid!==(r==null?void 0:r.uid));if(i.trim()){const S=i.toLowerCase();I=I.filter(L=>L.displayName.toLowerCase().includes(S)||L.interests.some(_=>_.toLowerCase().includes(S)))}I=I.sort((S,L)=>S.displayName.localeCompare(L.displayName)),o(I)}catch(g){console.error("Error loading members:",g),x("Failed to load members")}finally{d(!1)}},b=g=>{if(s.includes(g))t(s.filter(I=>I!==g));else{if(s.length>=a){x(`You can select a maximum of ${a} members`);return}t([...s,g])}},w=g=>{t(s.filter(I=>I!==g))},T=g=>l.find(I=>I.uid===g);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(te,{type:"text",placeholder:"Search members by name...",value:i,onChange:g=>n(g.target.value),className:"w-full"})}),s.length>0&&e.jsxs(J,{className:"p-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:["Selected Members (",s.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(g=>{const I=T(g);return e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800",children:[e.jsx("span",{className:"mr-2",children:(I==null?void 0:I.displayName)||"Unknown Member"}),e.jsx("button",{onClick:()=>w(g),className:"text-orange-600 hover:text-orange-800","aria-label":`Remove ${(I==null?void 0:I.displayName)||"member"}`,children:"Ã—"})]},g)})})]}),e.jsxs(J,{className:"p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Available Members"}),u&&e.jsx("div",{className:"text-sm text-red-600 mb-3 p-2 bg-red-50 rounded",children:u}),c?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Je,{})}):l.length>0?e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map(g=>{const I=s.includes(g.uid);return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${I?"bg-orange-50 border-orange-300":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>b(g.uid),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:g.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.displayName}),g.interests.length>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:[g.interests.slice(0,2).join(", "),g.interests.length>2&&"..."]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[I&&e.jsx("span",{className:"text-orange-600 text-sm font-medium",children:"Selected"}),e.jsx(F,{size:"sm",variant:I?"secondary":"outline",onClick:S=>{S.stopPropagation(),b(g.uid)},children:I?"Remove":"Add"})]})]},g.uid)})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:i?"No members found matching your search.":"No members available."})]}),e.jsx("div",{className:"text-sm text-gray-600",children:s.length===0?e.jsx("p",{children:"No members selected. This will be a public event visible to all community members."}):e.jsxs("p",{children:[s.length," member",s.length!==1?"s":""," selected. Only these members will be able to see and RSVP to this private event."]})})]})},jt=[{id:"basic",title:"Basic Info",description:"Event title and description"},{id:"details",title:"Details",description:"Date, time, and location"},{id:"settings",title:"Settings",description:"Privacy, capacity, and invitations"},{id:"review",title:"Review",description:"Review and publish"}],Fa=[{value:"birthday",label:"Birthday",icon:"ðŸŽ‚"},{value:"potluck",label:"Potluck",icon:"ðŸ½ï¸"},{value:"farewell",label:"Farewell",icon:"ðŸ‘‹"},{value:"celebration",label:"Celebration",icon:"ðŸŽ‰"},{value:"other",label:"Other",icon:"ðŸ“…"}],bl=()=>{const{user:s}=_e(),t=Ke(),[a,r]=j.useState(0),[i,n]=j.useState(!1),[l,o]=j.useState(""),[c,d]=j.useState(null),[u,x]=j.useState(""),[h,b]=j.useState([]),[w,T]=j.useState({title:"",description:"",type:"other",visibility:"public",dateTime:new Date,duration:120,location:{name:"",address:"",coordinates:void 0},capacity:void 0,coverImage:void 0,bringList:{enabled:!1,items:[]},invitedMembers:[]}),[g,I]=j.useState({}),S=B=>{const q={};switch(B){case 0:w.title.trim()||(q.title="Title is required"),w.description.trim()||(q.description="Description is required");break;case 1:w.location.name.trim()||(q.locationName="Location name is required"),w.location.address.trim()||(q.locationAddress="Address is required"),(!w.dateTime||w.dateTime<=new Date)&&(q.dateTime="Event must be in the future"),w.duration<30&&(q.duration="Duration must be at least 30 minutes");break;case 2:w.capacity&&w.capacity<1&&(q.capacity="Capacity must be at least 1"),w.visibility==="private"&&h.length===0&&(q.invites="Private events must have at least one invited member");break}return I(q),Object.keys(q).length===0},L=()=>{S(a)&&r(B=>Math.min(B+1,jt.length-1))},_=()=>{r(B=>Math.max(B-1,0))},P=(B,q)=>{T(M=>({...M,[B]:q})),g[B]&&I(M=>{const re={...M};return delete re[B],re})},v=(B,q)=>{T(M=>({...M,location:{...M.location,[B]:q}})),g[`location${B.charAt(0).toUpperCase()+B.slice(1)}`]&&I(M=>{const re={...M};return delete re[`location${B.charAt(0).toUpperCase()+B.slice(1)}`],re})},p=B=>{T(q=>({...q,bringList:{enabled:B,items:B?q.bringList.items:[]}}))},Z=()=>{T(B=>({...B,bringList:{...B.bringList,items:[...B.bringList.items,{item:"",quantity:1}]}}))},O=(B,q,M)=>{T(re=>({...re,bringList:{...re.bringList,items:re.bringList.items.map((ke,Ae)=>Ae===B?{...ke,[q]:M}:ke)}}))},k=B=>{T(q=>({...q,bringList:{...q.bringList,items:q.bringList.items.filter((M,re)=>re!==B)}}))},y=B=>{var M;const q=(M=B.target.files)==null?void 0:M[0];if(q){if(!q.type.startsWith("image/")){Q.error("Please select an image file");return}if(q.size>5*1024*1024){Q.error("Image must be less than 5MB");return}d(q);const re=new FileReader;re.onload=ke=>{var Ae;x((Ae=ke.target)==null?void 0:Ae.result)},re.readAsDataURL(q)}},C=async()=>{if(!s){Q.error("You must be logged in to create an event");return}try{n(!0),o("");const B={...w,invitedMembers:w.visibility==="private"?h:[]};o("Creating event...");const q=await rl(s.uid,B);if(c)try{o("Uploading cover image...");const M=await pr(q,c,!0);o("Finalizing..."),await new Promise(re=>setTimeout(re,500))}catch(M){console.error("Failed to upload cover image:",M)}Q.success("Event created successfully!"),t(`/events/${q}`)}catch(B){console.error("Error creating event:",B),Q.error(B.message||"Failed to create event. Please try again.")}finally{n(!1),o("")}},D=()=>{var B,q;switch(a){case 0:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),e.jsx(te,{type:"text",placeholder:"e.g., Community Potluck Gathering",value:w.title,onChange:M=>P("title",M.target.value),error:g.title,maxLength:100})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-vertical",placeholder:"Describe your event...",value:w.description,onChange:M=>P("description",M.target.value),rows:4,maxLength:2e3}),g.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Event Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Fa.map(M=>e.jsx("button",{type:"button",onClick:()=>P("type",M.value),className:`p-3 border rounded-lg text-left hover:border-orange-300 transition-colors ${w.type===M.value?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:M.icon}),e.jsx("span",{className:"text-sm font-medium",children:M.label})]})},M.value))})]})]});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time *"}),e.jsx(te,{type:"datetime-local",min:new Date().toISOString().slice(0,16),value:w.dateTime.toISOString().slice(0,16),onChange:M=>P("dateTime",new Date(M.target.value)),error:g.dateTime}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Event must be scheduled for a future date and time"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),e.jsx(te,{type:"number",min:"30",max:"1440",value:w.duration.toString(),onChange:M=>P("duration",parseInt(M.target.value)||120),error:g.duration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name *"}),e.jsx(te,{type:"text",placeholder:"e.g., Community Center",value:w.location.name,onChange:M=>v("name",M.target.value),error:g.locationName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),e.jsx(te,{type:"text",placeholder:"Full address for directions",value:w.location.address,onChange:M=>v("address",M.target.value),error:g.locationAddress})]}),w.location.address.trim()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Preview"}),e.jsx(Gs,{address:w.location.address,locationName:w.location.name,height:"200px",className:"border border-gray-200 rounded-lg"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is a preview of the event location on the map"})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visibility"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"public",checked:w.visibility==="public",onChange:M=>P("visibility",M.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Public - Anyone can see and join"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"private",checked:w.visibility==="private",onChange:M=>P("visibility",M.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Private - Invite only"})]})]}),w.visibility==="private"&&e.jsx("p",{className:"mt-2 text-sm text-orange-600",children:"Private events require selecting specific members to invite."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity (optional)"}),e.jsx(te,{type:"number",min:"1",placeholder:"Leave empty for unlimited",value:((B=w.capacity)==null?void 0:B.toString())||"",onChange:M=>P("capacity",M.target.value?parseInt(M.target.value):void 0),error:g.capacity}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of attendees (excluding organizer)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image (optional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100"}),u&&e.jsx("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:u,alt:"Cover preview",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recommended: 1200x600px, max 5MB"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:w.bringList.enabled,onChange:M=>p(M.target.checked),className:"text-orange-600 focus:ring-orange-500 rounded"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Enable bring list for attendees"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Allow attendees to sign up for items to bring"})]}),w.bringList.enabled&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bring List Items"}),e.jsxs("div",{className:"space-y-3",children:[w.bringList.items.map((M,re)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(te,{type:"text",placeholder:"Item name",value:M.item,onChange:ke=>O(re,"item",ke.target.value),className:"flex-1"}),e.jsx(te,{type:"number",min:"1",value:M.quantity.toString(),onChange:ke=>O(re,"quantity",parseInt(ke.target.value)||1),className:"w-20"}),e.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>k(re),className:"text-red-600 hover:text-red-700",children:"Remove"})]},re)),e.jsx(F,{type:"button",variant:"outline",onClick:Z,className:"w-full",children:"Add Item"})]})]}),w.visibility==="private"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Invite Members *"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the community members you want to invite to this private event. Only invited members will be able to see and RSVP to the event."}),e.jsx(vr,{selectedMembers:h,onMembersChange:b,maxSelections:50}),g.invites&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.invites})]})]});case 3:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Basic Information"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Title:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.title})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Type:"})," ",e.jsx("dd",{className:"inline ml-2",children:(q=Fa.find(M=>M.value===w.type))==null?void 0:q.label})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Visibility:"})," ",e.jsx("dd",{className:"inline ml-2 capitalize",children:w.visibility})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Date & Location"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Date:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.dateTime.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Time:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.dateTime.toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Duration:"})," ",e.jsxs("dd",{className:"inline ml-2",children:[w.duration," minutes"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Location:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.location.name})]})]})]})]}),w.capacity&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Capacity"}),e.jsxs("p",{className:"text-sm",children:["Maximum ",w.capacity," attendees"]})]}),w.bringList.enabled&&w.bringList.items.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Bring List"}),e.jsx("ul",{className:"text-sm space-y-1",children:w.bringList.items.map((M,re)=>e.jsxs("li",{children:["â€¢ ",M.item," (x",M.quantity,")"]},re))})]})]})});default:return null}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Bring your community together for memorable gatherings"})]}),e.jsx("div",{className:"flex items-center justify-center space-x-4",children:jt.map((B,q)=>e.jsxs(se.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${q<=a?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:q+1}),q<jt.length-1&&e.jsx("div",{className:`flex-1 h-1 ${q<a?"bg-orange-500":"bg-gray-200"}`})]},B.id))}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:jt[a].title}),e.jsx("p",{className:"text-gray-600",children:jt[a].description})]}),e.jsx(J,{className:"p-8",children:D()}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(F,{type:"button",variant:"outline",onClick:_,disabled:a===0,children:"Previous"}),e.jsx("div",{className:"flex space-x-3",children:a<jt.length-1?e.jsx(F,{type:"button",onClick:L,children:"Next"}):e.jsx(F,{type:"button",onClick:C,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),l||"Creating Event..."]}):"Create Event"})})]})]})},vl=({isOpen:s,eventTitle:t,step:a,onConfirm:r,onCancel:i,isLoading:n=!1})=>s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(J,{className:"w-full max-w-md mx-4",children:e.jsx("div",{className:"p-6",children:a==="confirm"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cancel Event"}),e.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Are you sure you want to cancel ",e.jsxs("strong",{children:['"',t,'"']}),"? This will mark the event as cancelled and notify all attendees."]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(F,{variant:"outline",onClick:i,disabled:n,children:"Keep Event"}),e.jsx(F,{className:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",onClick:r,disabled:n,children:"Cancel Event"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Final Confirmation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please confirm your decision"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:"Warning:"})," This will notify all attendees that the event has been cancelled. This action cannot be undone."]})})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(F,{variant:"outline",onClick:i,disabled:n,children:"No, Keep Event"}),e.jsx(F,{className:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",onClick:r,disabled:n,children:n?"Cancelling...":"Yes, Cancel Event"})]})]})})})}):null,Nt=[{id:"basic",title:"Basic Info",description:"Event title and description"},{id:"details",title:"Details",description:"Date, time, and location"},{id:"settings",title:"Settings",description:"Privacy and capacity"},{id:"invites",title:"Invitations",description:"Invite specific members (private events only)"},{id:"review",title:"Review",description:"Review and save changes"}],Oa=[{value:"birthday",label:"Birthday",icon:"ðŸŽ‚"},{value:"potluck",label:"Potluck",icon:"ðŸ½ï¸"},{value:"farewell",label:"Farewell",icon:"ðŸ‘‹"},{value:"celebration",label:"Celebration",icon:"ðŸŽ‰"},{value:"other",label:"Other",icon:"ðŸ“…"}],jl=()=>{const{eventId:s}=Ma(),{user:t}=_e(),a=Ke(),[r,i]=j.useState(0),[n,l]=j.useState(!1),[o,c]=j.useState(!0),[d,u]=j.useState(null),[x,h]=j.useState(""),[b,w]=j.useState([]),[T,g]=j.useState(null),[I,S]=j.useState(!1),[L,_]=j.useState("confirm"),[P,v]=j.useState(!1),[p,Z]=j.useState({title:"",description:"",type:"other",visibility:"public",dateTime:new Date,duration:120,location:{name:"",address:"",coordinates:void 0},capacity:void 0,coverImage:void 0,bringList:{enabled:!1,items:[]},invitedMembers:[]}),[O,k]=j.useState({});j.useEffect(()=>{s&&y()},[s]);const y=async()=>{if(!(!s||!t))try{c(!0);const $=await Tt(s);if(!$){Q.error("Event not found"),a("/events");return}if($.organizer!==t.uid){Q.error("You do not have permission to edit this event"),a(`/events/${s}`);return}if($.status==="cancelled"||$.status==="completed"){Q.error(`Cannot edit a ${$.status} event`),a(`/events/${s}`);return}g($),Z({title:$.title,description:$.description,type:$.type,visibility:$.visibility,dateTime:$.dateTime,duration:$.duration,location:$.location,capacity:$.capacity,coverImage:void 0,bringList:$.bringList,invitedMembers:$.invitedMembers||[]}),w($.invitedMembers||[]),h($.coverImage||"")}catch($){console.error("Error loading event:",$),Q.error("Failed to load event"),a("/events")}finally{c(!1)}},C=$=>{const K={};switch($){case 0:p.title.trim()||(K.title="Title is required"),p.description.trim()||(K.description="Description is required");break;case 1:p.location.name.trim()||(K.locationName="Location name is required"),p.location.address.trim()||(K.locationAddress="Address is required"),(!p.dateTime||p.dateTime<=new Date)&&(K.dateTime="Event must be in the future"),p.duration<30&&(K.duration="Duration must be at least 30 minutes");break;case 2:p.capacity&&p.capacity<1&&(K.capacity="Capacity must be at least 1");break;case 3:p.visibility==="private"&&b.length===0&&(K.invites="Private events must have at least one invited member");break}return k(K),Object.keys(K).length===0},D=()=>{if(C(r)){let $=r+1;r===2&&p.visibility==="public"&&($=4),i(Math.min($,Nt.length-1))}},B=()=>{i($=>Math.max($-1,0))},q=($,K)=>{Z(G=>({...G,[$]:K})),O[$]&&k(G=>{const he={...G};return delete he[$],he})},M=($,K)=>{Z(G=>({...G,location:{...G.location,[$]:K}})),O[`location${$.charAt(0).toUpperCase()+$.slice(1)}`]&&k(G=>{const he={...G};return delete he[`location${$.charAt(0).toUpperCase()+$.slice(1)}`],he})},re=$=>{Z(K=>({...K,bringList:{enabled:$,items:$?K.bringList.items:[]}}))},ke=()=>{Z($=>({...$,bringList:{...$.bringList,items:[...$.bringList.items,{item:"",quantity:1}]}}))},Ae=($,K,G)=>{Z(he=>({...he,bringList:{...he.bringList,items:he.bringList.items.map((Me,bt)=>bt===$?{...Me,[K]:G}:Me)}}))},yt=$=>{Z(K=>({...K,bringList:{...K.bringList,items:K.bringList.items.filter((G,he)=>he!==$)}}))},Wt=$=>{var G;const K=(G=$.target.files)==null?void 0:G[0];if(K){if(!K.type.startsWith("image/")){Q.error("Please select an image file");return}if(K.size>5*1024*1024){Q.error("Image must be less than 5MB");return}u(K);const he=new FileReader;he.onload=Me=>{var bt;h((bt=Me.target)==null?void 0:bt.result)},he.readAsDataURL(K)}},xs=async()=>{if(!(!s||!t))try{l(!0);const $={...p,invitedMembers:p.visibility==="private"?b:[]};if(await il(s,$),d)try{await pr(s,d,!0)}catch(K){console.warn("Failed to upload cover image:",K)}Q.success("Event updated successfully!"),a(`/events/${s}`)}catch($){console.error("Error updating event:",$),Q.error($.message||"Failed to update event. Please try again.")}finally{l(!1)}},Yt=()=>{S(!0),_("confirm")},fs=()=>{L==="confirm"?_("warning"):gs()},Gt=()=>{S(!1),_("confirm")},gs=async()=>{if(!(!s||!t))try{v(!0),await dl(s),Q.success("Event cancelled successfully!"),a("/events")}catch($){console.error("Error cancelling event:",$),Q.error($.message||"Failed to cancel event. Please try again.")}finally{v(!1),S(!1)}},It=()=>{var $,K;switch(r){case 0:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),e.jsx(te,{type:"text",placeholder:"e.g., Community Potluck Gathering",value:p.title,onChange:G=>q("title",G.target.value),error:O.title,maxLength:100})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-vertical",placeholder:"Describe your event...",value:p.description,onChange:G=>q("description",G.target.value),rows:4,maxLength:2e3}),O.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Event Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Oa.map(G=>e.jsx("button",{type:"button",onClick:()=>q("type",G.value),className:`p-3 border rounded-lg text-left hover:border-orange-300 transition-colors ${p.type===G.value?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:G.icon}),e.jsx("span",{className:"text-sm font-medium",children:G.label})]})},G.value))})]})]});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time *"}),e.jsx(te,{type:"datetime-local",min:new Date().toISOString().slice(0,16),value:p.dateTime.toISOString().slice(0,16),onChange:G=>q("dateTime",new Date(G.target.value)),error:O.dateTime}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Event must be scheduled for a future date and time"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),e.jsx(te,{type:"number",min:"30",max:"1440",value:p.duration.toString(),onChange:G=>q("duration",parseInt(G.target.value)||120),error:O.duration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name *"}),e.jsx(te,{type:"text",placeholder:"e.g., Community Center",value:p.location.name,onChange:G=>M("name",G.target.value),error:O.locationName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),e.jsx(te,{type:"text",placeholder:"Full address for directions",value:p.location.address,onChange:G=>M("address",G.target.value),error:O.locationAddress})]}),p.location.address.trim()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Preview"}),e.jsx(Gs,{address:p.location.address,locationName:p.location.name,coordinates:p.location.coordinates,height:"200px",className:"border border-gray-200 rounded-lg"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is a preview of the event location on the map"})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visibility"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"public",checked:p.visibility==="public",onChange:G=>q("visibility",G.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Public - Anyone can see and join"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"private",checked:p.visibility==="private",onChange:G=>q("visibility",G.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Private - Invite only"})]})]}),p.visibility==="private"&&e.jsx("p",{className:"mt-2 text-sm text-orange-600",children:"Private events require selecting specific members to invite."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity (optional)"}),e.jsx(te,{type:"number",min:"1",placeholder:"Leave empty for unlimited",value:(($=p.capacity)==null?void 0:$.toString())||"",onChange:G=>q("capacity",G.target.value?parseInt(G.target.value):void 0),error:O.capacity}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of attendees (excluding organizer)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image (optional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:Wt,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100"}),x&&e.jsx("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:x,alt:"Cover preview",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recommended: 1200x600px, max 5MB"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:p.bringList.enabled,onChange:G=>re(G.target.checked),className:"text-orange-600 focus:ring-orange-500 rounded"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Enable bring list for attendees"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Allow attendees to sign up for items to bring"})]}),p.bringList.enabled&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bring List Items"}),e.jsxs("div",{className:"space-y-3",children:[p.bringList.items.map((G,he)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(te,{type:"text",placeholder:"Item name",value:G.item,onChange:Me=>Ae(he,"item",Me.target.value),className:"flex-1"}),e.jsx(te,{type:"number",min:"1",value:G.quantity.toString(),onChange:Me=>Ae(he,"quantity",parseInt(Me.target.value)||1),className:"w-20"}),e.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>yt(he),className:"text-red-600 hover:text-red-700",children:"Remove"})]},he)),e.jsx(F,{type:"button",variant:"outline",onClick:ke,className:"w-full",children:"Add Item"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Invite Members"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the community members you want to invite to this private event. Only invited members will be able to see and RSVP to the event."})]}),e.jsx(vr,{selectedMembers:b,onMembersChange:w,maxSelections:50}),b.length===0&&e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," You haven't selected any members yet. Private events require at least one invited member."]})})]});case 4:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Basic Information"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Title:"})," ",e.jsx("dd",{className:"inline ml-2",children:p.title})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Type:"})," ",e.jsx("dd",{className:"inline ml-2",children:(K=Oa.find(G=>G.value===p.type))==null?void 0:K.label})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Visibility:"})," ",e.jsx("dd",{className:"inline ml-2 capitalize",children:p.visibility})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Date & Location"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Date:"})," ",e.jsx("dd",{className:"inline ml-2",children:p.dateTime.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Time:"})," ",e.jsx("dd",{className:"inline ml-2",children:p.dateTime.toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Duration:"})," ",e.jsxs("dd",{className:"inline ml-2",children:[p.duration," minutes"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Location:"})," ",e.jsx("dd",{className:"inline ml-2",children:p.location.name})]})]})]})]}),p.capacity&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Capacity"}),e.jsxs("p",{className:"text-sm",children:["Maximum ",p.capacity," attendees"]})]}),p.bringList.enabled&&p.bringList.items.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Bring List"}),e.jsx("ul",{className:"text-sm space-y-1",children:p.bringList.items.map((G,he)=>e.jsxs("li",{children:["â€¢ ",G.item," (x",G.quantity,")"]},he))})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Your changes will be saved and the event will be updated for all attendees."]})})]})});default:return null}};return o?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Je,{})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Event"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Update your event details and settings"})]}),e.jsx("div",{className:"flex items-center justify-center space-x-4",children:Nt.map(($,K)=>{if($.id==="invites"&&p.visibility==="public")return null;const G=$.id==="invites"&&p.visibility==="private"?K:$.id==="review"&&p.visibility==="public"?K-1:K;return e.jsxs(se.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${K<=r?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:G+1}),K<Nt.length-1&&$.id!=="invites"&&e.jsx("div",{className:`flex-1 h-1 ${K<r?"bg-orange-500":"bg-gray-200"}`})]},$.id)})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:Nt[r].title}),e.jsx("p",{className:"text-gray-600",children:Nt[r].description})]}),e.jsx(J,{className:"p-8",children:It()}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(F,{type:"button",variant:"outline",onClick:B,disabled:r===0,children:"Previous"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(F,{variant:"outline",onClick:()=>a(`/events/${s}`),children:"Cancel"}),e.jsx(F,{type:"button",className:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",onClick:Yt,children:"Cancel Event"}),r<Nt.length-1?e.jsx(F,{type:"button",onClick:D,children:"Next"}):e.jsx(F,{type:"button",onClick:xs,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Saving Changes..."]}):"Save Changes"})]})]}),e.jsx(vl,{isOpen:I,eventTitle:p.title,step:L,onConfirm:fs,onCancel:Gt,isLoading:P})]})},Nl=({member:s,currentUserId:t,onViewProfile:a,onContact:r,compact:i=!1,showContactButtons:n=!0})=>{const l=t===s.uid,o=d=>d.split(" ").map(u=>u.charAt(0)).join("").toUpperCase().slice(0,2),c=d=>{r==null||r(s,d)};return i?e.jsx(J,{className:"p-3 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:o(s.displayName)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 truncate",children:[s.displayName,l&&e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(You)"})]}),s.interests.length>0&&e.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[s.interests.slice(0,2).join(", "),s.interests.length>2&&` +${s.interests.length-2} more`]})]}),n&&!l&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(F,{size:"sm",variant:"ghost",onClick:()=>c("whatsapp"),className:"p-1 h-8 w-8",title:"WhatsApp",children:"ðŸ’¬"}),e.jsx(F,{size:"sm",variant:"ghost",onClick:()=>c("email"),className:"p-1 h-8 w-8",title:"Email",children:"âœ‰ï¸"})]})]})}):e.jsx(J,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xl font-bold text-white",children:o(s.displayName)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:s.displayName}),l&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"You"})]}),s.interests.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Interests:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.interests.slice(0,4).map((d,u)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:d},u)),s.interests.length>4&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.interests.length-4," more"]})]})]}),n&&!l&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>c("whatsapp"),className:"flex items-center space-x-1",children:[e.jsx("span",{children:"ðŸ’¬"}),e.jsx("span",{children:"WhatsApp"})]}),e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>c("phone"),className:"flex items-center space-x-1",children:[e.jsx("span",{children:"ðŸ“ž"}),e.jsx("span",{children:"Call"})]}),e.jsxs(F,{size:"sm",variant:"outline",onClick:()=>c("email"),className:"flex items-center space-x-1",children:[e.jsx("span",{children:"âœ‰ï¸"}),e.jsx("span",{children:"Email"})]})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx(F,{onClick:()=>a==null?void 0:a(s),className:"w-full",variant:l?"outline":"primary",children:l?"Edit Profile":"View Profile"})})]})})},wl=({onMemberSelect:s,onContactMember:t,currentUserId:a})=>{const[r,i]=j.useState([]),[n,l]=j.useState([]),[o,c]=j.useState(!0),[d,u]=j.useState(null),[x,h]=j.useState(""),[b,w]=j.useState({}),[T,g]=j.useState(!1);j.useEffect(()=>(c(!0),u(null),ml({},P=>{const v=P.filter(p=>!0);i(v),l(v),c(!1)})),[]),j.useEffect(()=>{let _=r;if(x.trim()){const P=x.toLowerCase();_=_.filter(v=>v.displayName.toLowerCase().includes(P)||v.interests.some(p=>p.toLowerCase().includes(P)))}l(_)},[r,x]);const I=_=>{h(_.target.value)},S=(_,P)=>{w(v=>({...v,[_]:P||void 0}))},L=()=>{w({}),h("")};return o?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading members..."})]}):d?e.jsx(Ye,{type:"error",message:d}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(te,{type:"text",placeholder:"Search by name or interests...",value:x,onChange:I,className:"w-full"})}),e.jsx(F,{variant:"outline",onClick:()=>g(!T),children:T?"Hide Filters":"Show Filters"})]}),T&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:b.status||"",onChange:_=>S("status",_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{value:b.role||"",onChange:_=>S("role",_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]})]})]}),(x||Object.keys(b).length>0)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[n.length," member",n.length!==1?"s":""," found"]}),e.jsx(F,{variant:"ghost",size:"sm",onClick:L,children:"Clear Filters"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(_=>e.jsx(Nl,{member:_,currentUserId:a,onViewProfile:s,onContact:t,showContactButtons:!0},_.uid))}),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No members found matching your criteria."}),e.jsx(F,{variant:"outline",onClick:L,className:"mt-4",children:"Clear Filters"})]})]})},_l=()=>{Ke();const[s,t]=j.useState(null),a=i=>{t(i),Q.success(`Viewing profile for ${i.displayName}`)},r=async(i,n)=>{var l,o;try{const c=await Mt(i.uid);if(!c){Q.error("Unable to load member contact information");return}let d="",u="",x=!1;switch(n){case"whatsapp":if(c.whatsappNumber&&((l=c.privacy)!=null&&l.whatsappVisible))d=`https://wa.me/${c.whatsappNumber.replace(/[\s\-\(\)]/g,"")}?text=Hi%20${encodeURIComponent(i.displayName)}!%20I%20found%20you%20through%20LCC%20Assemble.`,u=`Opening WhatsApp to message ${i.displayName}`,x=!0;else{Q.error(`${i.displayName} has not made their WhatsApp number visible`);return}break;case"phone":if(c.phoneNumber&&((o=c.privacy)!=null&&o.phoneVisible))d=`tel:${c.phoneNumber}`,u=`Calling ${i.displayName}`,x=!0;else{Q.error(`${i.displayName} has not made their phone number visible`);return}break;case"email":d=`mailto:?subject=Hello%20from%20LCC%20Assemble&body=Hi%20${encodeURIComponent(i.displayName)}!%20I%20found%20you%20through%20LCC%20Assemble.`,u=`Opening email to contact ${i.displayName}`,x=!0;break}x&&d&&(window.open(d,"_blank"),Q.success(u))}catch(c){console.error("Error contacting member:",c),Q.error("Unable to contact member. Please try again.")}};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Members"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Connect with fellow community members and discover shared interests"})]}),e.jsx(wl,{onMemberSelect:a,onContactMember:r}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Join Our Growing Community"}),e.jsx("p",{className:"text-orange-100 mb-4",children:"Connect with neighbors, share interests, and build lasting relationships"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"50+"}),e.jsx("div",{className:"text-orange-200",children:"Active Members"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"25+"}),e.jsx("div",{className:"text-orange-200",children:"Events This Month"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"15+"}),e.jsx("div",{className:"text-orange-200",children:"Shared Interests"})]})]})]})}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Connect"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"ðŸ“± WhatsApp"}),e.jsx("p",{children:"Quick messaging for urgent communications and event coordination"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"ðŸ“ž Phone"}),e.jsx("p",{children:"Direct calls for immediate assistance or detailed discussions"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"âœ‰ï¸ Email"}),e.jsx("p",{children:"Formal communications and sharing detailed information"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"ðŸ‘¥ In-Person"}),e.jsx("p",{children:"Meet at community events and build personal connections"})]})]})]})]})},kl=({onSuccess:s,onCancel:t})=>{const{userProfile:a,updateUserProfile:r,isLoading:i,error:n,clearError:l}=_e(),[o,c]=j.useState(!1),[d,u]=j.useState({displayName:"",phoneNumber:"",whatsappNumber:"",bio:"",interests:[],dietaryPreferences:[],address:{street:"",city:"",postalCode:""},privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1}}),[x,h]=j.useState({}),[b,w]=j.useState(""),[T,g]=j.useState("");j.useEffect(()=>{a&&u({displayName:a.displayName,phoneNumber:a.phoneNumber||"",whatsappNumber:a.whatsappNumber||"",bio:a.bio||"",interests:a.interests||[],dietaryPreferences:a.dietaryPreferences||[],address:a.address||{street:"",city:"",postalCode:""},privacy:a.privacy})},[a]);const I=k=>y=>{const C=y.target.value;u(D=>({...D,[k]:C})),x[k]&&h(D=>({...D,[k]:""})),n&&l&&l()},S=k=>y=>{const C=y.target.value;u(D=>({...D,address:{...D.address,[k]:C}}))},L=k=>y=>{const C=y.target.checked;u(D=>({...D,privacy:{...D.privacy,[k]:C}}))},_=()=>{b.trim()&&!d.interests.includes(b.trim())&&(u(k=>({...k,interests:[...k.interests,b.trim()]})),w(""))},P=k=>{u(y=>({...y,interests:y.interests.filter(C=>C!==k)}))},v=()=>{T.trim()&&!d.dietaryPreferences.includes(T.trim())&&(u(k=>({...k,dietaryPreferences:[...k.dietaryPreferences,T.trim()]})),g(""))},p=k=>{u(y=>({...y,dietaryPreferences:y.dietaryPreferences.filter(C=>C!==k)}))},Z=()=>{const k={};return d.displayName.trim()?d.displayName.length<2?k.displayName="Display name must be at least 2 characters":d.displayName.length>50&&(k.displayName="Display name must be less than 50 characters"):k.displayName="Display name is required",d.bio&&d.bio.length>500&&(k.bio="Bio must be less than 500 characters"),d.phoneNumber&&!/^\+?[\d\s\-\(\)]+$/.test(d.phoneNumber)&&(k.phoneNumber="Please enter a valid phone number"),d.whatsappNumber&&!/^\+?[\d\s\-\(\)]+$/.test(d.whatsappNumber)&&(k.whatsappNumber="Please enter a valid WhatsApp number"),h(k),Object.keys(k).length===0},O=async k=>{if(k.preventDefault(),!!Z())try{c(!0),r&&(await r(d),s==null||s())}catch{}finally{c(!1)}};return e.jsx(J,{className:"w-full max-w-2xl mx-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Update your personal information and preferences"})]}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[n&&e.jsx(Ye,{type:"error",message:n}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),e.jsx(te,{type:"text",label:"Display Name",value:d.displayName,onChange:I("displayName"),...x.displayName&&{error:x.displayName},placeholder:"Your display name",disabled:i||o,required:!0}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("textarea",{value:d.bio,onChange:I("bio"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tell us about yourself...",rows:3,disabled:i||o}),x.bio&&e.jsx("p",{className:"text-sm text-red-600",children:x.bio}),e.jsxs("p",{className:"text-sm text-gray-500",children:[d.bio.length,"/500 characters"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact Information"}),e.jsx(te,{type:"tel",label:"Phone Number",value:d.phoneNumber,onChange:I("phoneNumber"),...x.phoneNumber&&{error:x.phoneNumber},placeholder:"+1 (555) 123-4567",disabled:i||o}),e.jsx(te,{type:"tel",label:"WhatsApp Number",value:d.whatsappNumber,onChange:I("whatsappNumber"),...x.whatsappNumber&&{error:x.whatsappNumber},placeholder:"+1 (555) 123-4567",disabled:i||o})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Address"}),e.jsx(te,{type:"text",label:"Street Address",value:d.address.street,onChange:S("street"),placeholder:"123 Main Street",disabled:i||o}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(te,{type:"text",label:"City",value:d.address.city,onChange:S("city"),placeholder:"City",disabled:i||o}),e.jsx(te,{type:"text",label:"Postal Code",value:d.address.postalCode,onChange:S("postalCode"),placeholder:"A1A 1A1",disabled:i||o})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Interests"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(te,{type:"text",value:b,onChange:k=>w(k.target.value),placeholder:"Add an interest...",disabled:i||o,onKeyPress:k=>{k.key==="Enter"&&(k.preventDefault(),_())}}),e.jsx(F,{type:"button",onClick:_,disabled:!b.trim()||i||o,size:"sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.interests.map(k=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[k,e.jsx("button",{type:"button",onClick:()=>P(k),className:"ml-2 text-blue-600 hover:text-blue-800",disabled:i||o,children:"Ã—"})]},k))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dietary Preferences"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(te,{type:"text",value:T,onChange:k=>g(k.target.value),placeholder:"Add a dietary preference...",disabled:i||o,onKeyPress:k=>{k.key==="Enter"&&(k.preventDefault(),v())}}),e.jsx(F,{type:"button",onClick:v,disabled:!T.trim()||i||o,size:"sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.dietaryPreferences.map(k=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[k,e.jsx("button",{type:"button",onClick:()=>p(k),className:"ml-2 text-green-600 hover:text-green-800",disabled:i||o,children:"Ã—"})]},k))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.privacy.phoneVisible,onChange:L("phoneVisible"),disabled:i||o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make phone number visible to other members"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.privacy.whatsappVisible,onChange:L("whatsappVisible"),disabled:i||o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make WhatsApp number visible to other members"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.privacy.addressVisible,onChange:L("addressVisible"),disabled:i||o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make address visible to other members"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[t&&e.jsx(F,{type:"button",variant:"outline",onClick:t,disabled:i||o,children:"Cancel"}),e.jsx(F,{type:"submit",disabled:i||o,isLoading:o,children:o?"Saving...":"Save Profile"})]})]})]})})},Cl=({onSuccess:s,onCancel:t})=>{const{changePassword:a,error:r,clearError:i}=_e(),[n,l]=j.useState(!1),[o,c]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,u]=j.useState({}),[x,h]=j.useState(!1),b=g=>I=>{const S=I.target.value;c(L=>({...L,[g]:S})),d[g]&&u(L=>({...L,[g]:""})),r&&i&&i()},w=()=>{const g={};return o.currentPassword||(g.currentPassword="Current password is required"),o.newPassword?o.newPassword.length<6?g.newPassword="New password must be at least 6 characters":o.newPassword===o.currentPassword&&(g.newPassword="New password must be different from current password"):g.newPassword="New password is required",o.confirmPassword?o.newPassword!==o.confirmPassword&&(g.confirmPassword="Passwords do not match"):g.confirmPassword="Please confirm your new password",u(g),Object.keys(g).length===0},T=async g=>{if(g.preventDefault(),!!w())try{l(!0),await a(o.currentPassword,o.newPassword),c({currentPassword:"",newPassword:"",confirmPassword:""}),h(!0),Q.success("Password changed successfully!"),setTimeout(()=>{h(!1)},3e3),s==null||s()}catch(I){console.error("Password change error:",I)}finally{l(!1)}};return e.jsx(J,{className:"w-full max-w-2xl mx-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Update your password to keep your account secure"})]}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[r&&e.jsx(Ye,{type:"error",message:r}),x&&e.jsx(Ye,{type:"success",message:"Password changed successfully!"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Password *"}),e.jsx(te,{type:"password",value:o.currentPassword,onChange:b("currentPassword"),error:d.currentPassword,placeholder:"Enter your current password",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password *"}),e.jsx(te,{type:"password",value:o.newPassword,onChange:b("newPassword"),error:d.newPassword,placeholder:"Enter your new password",disabled:n,required:!0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Password must be at least 6 characters long"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm New Password *"}),e.jsx(te,{type:"password",value:o.confirmPassword,onChange:b("confirmPassword"),error:d.confirmPassword,placeholder:"Confirm your new password",disabled:n,required:!0})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ At least 6 characters long"}),e.jsx("li",{children:"â€¢ Must be different from your current password"}),e.jsx("li",{children:"â€¢ Use a combination of letters, numbers, and symbols for better security"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[t&&e.jsx(F,{type:"button",variant:"outline",onClick:t,disabled:n,children:"Cancel"}),e.jsx(F,{type:"submit",disabled:n,isLoading:n,children:n?"Changing Password...":"Change Password"})]})]})]})})},El=()=>{var d,u,x,h,b;const s=Ke(),{userProfile:t,logout:a}=_e(),[r,i]=j.useState(!1),n=()=>{Q.success("Profile updated successfully!")},l=()=>{Q.success("Password changed successfully!"),i(!1)},o=async()=>{try{await a(),Q.success("Logged out successfully"),s("/login")}catch{Q.error("Failed to log out")}};if(!t)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Je,{})});const c=w=>w.split(" ").map(T=>T.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your account information and preferences"})]}),e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:c(t.displayName)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.displayName}),e.jsx("p",{className:"text-gray-600",children:t.email}),t.bio&&e.jsx("p",{className:"text-gray-700 mt-1",children:t.bio}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Role: ",t.role]}),e.jsxs("span",{children:["Status: ",t.status]}),e.jsxs("span",{children:["Member since: ",new Date(t.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(F,{variant:"outline",size:"sm",onClick:()=>s("/events"),children:"View My Events"}),e.jsx(F,{variant:"outline",size:"sm",onClick:o,className:"text-red-600 hover:text-red-800",children:"Logout"})]})]})}),e.jsx(kl,{onSuccess:n}),e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Password & Security"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Change your password to keep your account secure"})]}),e.jsx(F,{variant:"outline",onClick:()=>i(!r),children:r?"Cancel":"Change Password"})]}),r&&e.jsx("div",{className:"mt-6",children:e.jsx(Cl,{onSuccess:l,onCancel:()=>i(!1)})})]}),e.jsxs(J,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((d=t.interests)==null?void 0:d.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Interests Listed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:((u=t.dietaryPreferences)==null?void 0:u.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Dietary Preferences"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(x=t.privacy)!=null&&x.phoneVisible||(h=t.privacy)!=null&&h.whatsappVisible||(b=t.privacy)!=null&&b.addressVisible?"Yes":"No"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Contact Info Public"})]})]})]}),e.jsxs(J,{className:"p-6 bg-blue-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Privacy & Security"}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Your privacy is important to us. You control what information is visible to other community members. You can change your privacy settings above."}),e.jsxs("div",{className:"text-xs text-blue-700",children:[e.jsx("p",{children:"â€¢ Phone/WhatsApp numbers are only visible if you choose to share them"}),e.jsx("p",{children:"â€¢ Your email address is never shared with other members"}),e.jsx("p",{children:"â€¢ You can update your privacy settings at any time"})]})]})]})},Sl=()=>{const{user:s}=_e(),[t,a]=j.useState([]),[r,i]=j.useState([]),[n,l]=j.useState({}),[o,c]=j.useState([]),[d,u]=j.useState(!0),[x,h]=j.useState(null),[b,w]=j.useState({totalMembers:0,pendingMembers:0,approvedMembers:0,suspendedMembers:0,totalEvents:0,publishedEvents:0});j.useEffect(()=>{T()},[]);const T=async()=>{try{u(!0);const _=await os({},1e3);i(_.users);const P=await os({status:"pending"},100);a(P.users);const v=await Ys({},100);c(v.events);const p=await br(),Z=v.events.reduce((O,k)=>(O.totalEvents++,k.status==="published"&&O.publishedEvents++,O),{totalEvents:0,publishedEvents:0});w({totalMembers:p.pending+p.approved+p.suspended,pendingMembers:p.pending,approvedMembers:p.approved,suspendedMembers:p.suspended,...Z})}catch(_){console.error("Error loading admin data:",_),Q.error("Failed to load admin data")}finally{u(!1)}},g=async _=>{try{h(_),await Ra(_),Q.success("Member approved successfully"),a(v=>v.filter(p=>p.uid!==_)),w(v=>({...v,pendingMembers:v.pendingMembers-1,approvedMembers:v.approvedMembers+1}));const P=await Mt(_);P&&l(v=>({...v,[_]:P}))}catch(P){console.error("Error approving member:",P),Q.error("Failed to approve member")}finally{h(null)}},I=async _=>{try{h(_),await ul(_),Q.success("Member suspended"),w(v=>({...v,approvedMembers:v.approvedMembers-1,suspendedMembers:v.suspendedMembers+1}));const P=await Mt(_);P&&l(v=>({...v,[_]:P}))}catch(P){console.error("Error suspending member:",P),Q.error("Failed to suspend member")}finally{h(null)}},S=async _=>{try{h(_),await Ra(_),Q.success("Member reactivated"),w(v=>({...v,suspendedMembers:v.suspendedMembers-1,approvedMembers:v.approvedMembers+1}));const P=await Mt(_);P&&l(v=>({...v,[_]:P}))}catch(P){console.error("Error reactivating member:",P),Q.error("Failed to reactivate member")}finally{h(null)}},L=_=>{switch(_){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Je,{})}):e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage community members and monitor activity"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"ðŸ‘¥"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.totalMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]})]})}),e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"â³"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.pendingMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]})]})}),e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"âœ…"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.approvedMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Members"})]})]})}),e.jsx(J,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“…"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.totalEvents}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]})]})})]}),t.length>0&&e.jsxs(J,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pending Member Approvals"}),e.jsx("div",{className:"space-y-4",children:t.map(_=>{const P=n[_.uid];return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:_.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:_.displayName}),P&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:P.email}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",new Date(P.createdAt).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(F,{size:"sm",onClick:()=>g(_.uid),disabled:x===_.uid,isLoading:x===_.uid,className:"bg-green-500 hover:bg-green-600",children:"Approve"})})]},_.uid)})})]}),e.jsxs(J,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Member Overview"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.slice(0,9).map(_=>{const P=n[_.uid];return e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-orange-600",children:_.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_.displayName}),P&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs text-gray-600 truncate",children:P.email}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold rounded-full ${L(P.status)}`,children:P.status}),P.status==="approved"&&_.uid!==(s==null?void 0:s.uid)&&e.jsx(F,{size:"sm",variant:"outline",onClick:()=>I(_.uid),disabled:x===_.uid,isLoading:x===_.uid,className:"text-red-600 hover:text-red-800",children:"Suspend"}),P.status==="suspended"&&e.jsx(F,{size:"sm",variant:"outline",onClick:()=>S(_.uid),disabled:x===_.uid,isLoading:x===_.uid,className:"text-green-600 hover:text-green-800",children:"Reactivate"})]})]})]})]})},_.uid)})}),r.length>9&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing 9 of ",r.length," members"]})})]}),e.jsxs(J,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Events"}),e.jsx("div",{className:"space-y-3",children:o.slice(0,5).map(_=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:_.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[_.location.name," â€¢ ",_.attendeeCount," attendees"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="published"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.status}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(_.dateTime).toLocaleDateString()})]})]},_.id))}),o.length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No events created yet"})]})]})},Al=()=>{const s=()=>{window.open("mailto:lakeshoreculturalcommittee@gmail.com","_blank")},t=()=>{window.open("tel:+16479735359","_blank")},a=()=>{window.open("https://wa.me/16479735359","_blank")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"Lakeshore Cultural Committee"}),e.jsx("p",{className:"text-xl md:text-2xl mb-2 opacity-90",children:"LCC - Building Community Together"}),e.jsx("p",{className:"text-lg opacity-80 italic",children:'"Creating bonds that go beyond borders, celebrating diversity in unity."'})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-12",children:[e.jsxs(J,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"About LCC"}),e.jsx("div",{className:"w-24 h-1 bg-orange-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"prose prose-lg max-w-none text-center",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"The Lakeshore Cultural Committee (LCC) is a close-knit group of friends and families, primarily residing in the Bathurstâ€“Lakeshore area of Toronto. For the past five years, LCC has been a vibrant platform to celebrate festivals, traditions, and togetherness far away from our roots."}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"From colorful festivities like Holi, Ganesh Utsav, and Navratri, to joyful occasions such as Christmas and New Year, and even spirited sports tournaments, LCC brings people together to create lasting memories. We organize potluck dinners, farewell parties, housewarming celebrations, and much more â€“ fostering a sense of belonging and community spirit in our diverse neighborhood."}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Whether you're new to the area or have been part of the community for years, LCC welcomes everyone to join our events, share experiences, and build meaningful connections. Our committee is dedicated to preserving cultural traditions while embracing the multicultural fabric of Toronto."})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-lg font-semibold text-orange-600 italic",children:"Join us in celebrating life, culture, and community!"})})]}),e.jsxs(J,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"What We Do"}),e.jsx("div",{className:"w-24 h-1 bg-green-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸª”"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cultural Festivals"}),e.jsx("p",{className:"text-gray-600",children:"Holi, Ganesh Utsav, Navratri, and more"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸŽ„"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Holiday Celebrations"}),e.jsx("p",{className:"text-gray-600",children:"Christmas, New Year, and seasonal events"})]}),e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ†"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Sports Tournaments"}),e.jsx("p",{className:"text-gray-600",children:"Volleyball, basketball, and friendly competitions"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ½ï¸"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Community Gatherings"}),e.jsx("p",{className:"text-gray-600",children:"Potlucks, farewell parties, and social meetups"})]}),e.jsxs("div",{className:"text-center p-6 bg-pink-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸŽ‚"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Birthday Celebrations"}),e.jsx("p",{className:"text-gray-600",children:"Special birthday parties and celebrations"})]}),e.jsxs("div",{className:"text-center p-6 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ¡"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Housewarming Events"}),e.jsx("p",{className:"text-gray-600",children:"Welcoming new homes and families"})]})]})]}),e.jsxs(J,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get In Touch"}),e.jsx("div",{className:"w-24 h-1 bg-blue-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"âœ‰ï¸"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email"}),e.jsx(F,{onClick:s,variant:"outline",className:"mb-2",children:"lakeshoreculturalcommittee@gmail.com"}),e.jsx("p",{className:"text-sm text-gray-600",children:"For general inquiries and information"})]}),e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“ž"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Phone"}),e.jsx(F,{onClick:t,variant:"outline",className:"mb-2",children:"+1 647 973 5359"}),e.jsx("p",{className:"text-sm text-gray-600",children:"For urgent communications"})]}),e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ’¬"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"WhatsApp"}),e.jsx(F,{onClick:a,variant:"outline",className:"mb-2",children:"Message Us"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Quick messaging for event coordination"})]})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ“"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Location"}),e.jsx("p",{className:"text-gray-700",children:"Bathurstâ€“Lakeshore area, Toronto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Serving the multicultural community of Toronto's west end"})]})]}),e.jsx(J,{className:"p-8 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Join Us?"}),e.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Complete your profile and become part of our vibrant community. Start attending events, organizing activities, and building lasting friendships!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(We,{to:"/register",children:e.jsx(F,{className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-3 text-lg font-semibold",children:"Join the Community"})}),e.jsx(We,{to:"/login",children:e.jsx(F,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-orange-600 px-8 py-3 text-lg font-semibold",children:"Sign In"})})]}),e.jsxs("p",{className:"text-sm mt-6 opacity-80",children:["Already have an account? ",e.jsx(We,{to:"/login",className:"underline hover:no-underline",children:"Sign in here"})]})]})}),e.jsxs(J,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Community"}),e.jsx("div",{className:"w-24 h-1 bg-orange-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"5+"}),e.jsx("div",{className:"text-gray-600",children:"Years of Community"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"100+"}),e.jsx("div",{className:"text-gray-600",children:"Active Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"50+"}),e.jsx("div",{className:"text-gray-600",children:"Events Organized"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"âˆž"}),e.jsx("div",{className:"text-gray-600",children:"Memories Created"})]})]})]})]})]})},nt=({children:s,adminOnly:t=!1})=>{const{user:a,loading:r}=_e();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a?t&&a.role!=="admin"?e.jsx(Xt,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:s}):e.jsx(Xt,{to:"/login",replace:!0})},Da=({children:s})=>{const{user:t,loading:a}=_e();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?e.jsx(Xt,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:s})},Pl=({children:s})=>{const{user:t,logout:a}=_e(),r=async()=>{try{await a()}catch(i){console.error("Logout error:",i)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(We,{to:"/info",className:"text-xl font-bold text-gray-900 hover:text-orange-600 transition-colors",children:"LCC Assemble"})}),e.jsx("div",{className:"flex items-center space-x-4",children:t&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",t.displayName]}),e.jsx(F,{variant:"outline",size:"sm",onClick:r,children:"Logout"})]})})]})})}),t&&e.jsx("nav",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("a",{href:"/info",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"About"}),e.jsx("a",{href:"/dashboard",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Dashboard"}),e.jsx("a",{href:"/events",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Events"}),e.jsx("a",{href:"/members",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Members"}),e.jsx("a",{href:"/profile",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Profile"}),t.role==="admin"&&e.jsx("a",{href:"/admin",className:"border-transparent text-red-500 hover:border-red-300 hover:text-red-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Admin"})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s}),e.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:e.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:e.jsx("p",{className:"text-center text-sm text-gray-500",children:"Â© 2025 LCC Assemble. Building community connections."})})}),e.jsx(Wi,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})};function Tl(){return e.jsx(ri,{children:e.jsx(Ar,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Pl,{children:e.jsxs(Pr,{children:[e.jsx(Ce,{path:"/test",element:e.jsx(al,{})}),e.jsx(Ce,{path:"/info",element:e.jsx(Al,{})}),e.jsx(Ce,{path:"/login",element:e.jsx(Da,{children:e.jsx(Yi,{})})}),e.jsx(Ce,{path:"/register",element:e.jsx(Da,{children:e.jsx(tl,{})})}),e.jsx(Ce,{path:"/email-verification",element:e.jsx(sl,{})}),e.jsx(Ce,{path:"/dashboard",element:e.jsx(nt,{children:e.jsx(hl,{})})}),e.jsx(Ce,{path:"/events",element:e.jsx(nt,{children:e.jsx(xl,{})})}),e.jsx(Ce,{path:"/events/create",element:e.jsx(nt,{children:e.jsx(bl,{})})}),e.jsx(Ce,{path:"/events/:eventId",element:e.jsx(nt,{children:e.jsx(yl,{})})}),e.jsx(Ce,{path:"/events/:eventId/edit",element:e.jsx(nt,{children:e.jsx(jl,{})})}),e.jsx(Ce,{path:"/members",element:e.jsx(nt,{children:e.jsx(_l,{})})}),e.jsx(Ce,{path:"/profile",element:e.jsx(nt,{children:e.jsx(El,{})})}),e.jsx(Ce,{path:"/admin",element:e.jsx(nt,{adminOnly:!0,children:e.jsx(Sl,{})})}),e.jsx(Ce,{path:"/",element:e.jsx(Xt,{to:"/info",replace:!0})}),e.jsx(Ce,{path:"*",element:e.jsxs(J,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist."}),e.jsx(F,{onClick:()=>window.history.back(),children:"Go Back"})]})})]})})})})}const jr=document.getElementById("root");if(!jr)throw new Error("Failed to find the root element");_s.createRoot(jr).render(e.jsx(se.StrictMode,{children:e.jsx(Tl,{})}));
//# sourceMappingURL=index-DhJz7ktw.js.map
