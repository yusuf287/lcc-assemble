import{r as N,a as Cr,b as X}from"./vendor-Gm9i_4Ku.js";import{u as st,L as qe,a as Da,B as Er,R as Sr,b as Se,N as Kt}from"./router-DUy0gjCK.js";import{g as Ar,i as Tr,a as Pr,b as Ir,c as Lr,o as Vr,d as Ne,u as We,s as Fr,e as bs,f as Xt,h as Rr,j as Or,k as Dr,l as ws,m as Mr,q as me,n as Ie,p as Be,r as ot,w as ct,t as cs,x as Lt,T as $r,y as zr,z as Ur,A as Br}from"./firebase-SubOWaHa.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();var Ma={exports:{}},ds={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=N,qr=Symbol.for("react.element"),Wr=Symbol.for("react.fragment"),Yr=Object.prototype.hasOwnProperty,Gr=Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hr={key:!0,ref:!0,__self:!0,__source:!0};function $a(s,t,a){var r,i={},n=null,l=null;a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Yr.call(t,r)&&!Hr.hasOwnProperty(r)&&(i[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qr,type:s,key:n,ref:l,props:i,_owner:Gr.current}}ds.Fragment=Wr;ds.jsx=$a;ds.jsxs=$a;Ma.exports=ds;var e=Ma.exports,_s={},ea=Cr;_s.createRoot=ea.createRoot,_s.hydrateRoot=ea.hydrateRoot;const Qr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_ENV:"development",VITE_APP_TITLE:"LCC Assemble",VITE_APP_VERSION:"1.0.0",VITE_FIREBASE_API_KEY:"AIzaSyCg1TwctyoWuTijSYrZAhXJ3IAj47HGPPM",VITE_FIREBASE_APP_ID:"1:203524932489:web:0db75b2a40c9ba86061758",VITE_FIREBASE_AUTH_DOMAIN:"lcc-assemble-49d97.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-BYZGHSG9RP",VITE_FIREBASE_MESSAGING_SENDER_ID:"203524932489",VITE_FIREBASE_PROJECT_ID:"lcc-assemble-49d97",VITE_FIREBASE_STORAGE_BUCKET:"lcc-assemble-49d97.firebasestorage.app",VITE_SKIP_EMAIL_VERIFICATION:"true"},Jr={apiKey:"AIzaSyCg1TwctyoWuTijSYrZAhXJ3IAj47HGPPM",authDomain:"lcc-assemble-49d97.firebaseapp.com",projectId:"lcc-assemble-49d97",storageBucket:"lcc-assemble-49d97.firebasestorage.app",messagingSenderId:"203524932489",appId:"1:203524932489:web:0db75b2a40c9ba86061758"},Kr=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],vs=Kr.filter(s=>!Qr[s]);if(vs.length>0)throw console.error("Missing Firebase environment variables:",vs),new Error(`Missing Firebase configuration: ${vs.join(", ")}`);let Dt;const ta=Ar();ta.length>0?(Dt=ta[0],console.log("🔥 Using existing Firebase app instance")):(Dt=Tr(Jr),console.log("🔥 Created new Firebase app instance"));const xt=Pr(Dt),de=Ir(Dt),Xr=Lr(Dt),za=N.createContext(void 0),ke=()=>{const s=N.useContext(za);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},ei=({children:s})=>{const[t,a]=N.useState(null),[r,i]=N.useState(!0),[n,l]=N.useState(null),o=async C=>{var f;const p=Ne(de,"users",C.uid),k=await Xt(p);if(k.exists()){const j=k.data();return{uid:C.uid,...j}}else{const j={uid:C.uid,email:C.email||"",displayName:C.displayName||((f=C.email)==null?void 0:f.split("@")[0])||"User",interests:[],dietaryPreferences:[],privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1},role:"member",status:"pending",defaultAvailability:{weekdays:!1,evenings:!1,weekends:!1},createdAt:new Date,updatedAt:new Date};return await ws(p,j),j}};N.useEffect(()=>{const C=Vr(xt,async p=>{try{if(p){const k=await o(p);a(k)}else a(null)}catch(k){console.error("Error in auth state change:",k),a(null)}finally{i(!1)}});return()=>C()},[]);const c=async(C,p)=>{try{l(null);const k=await Fr(xt,C,p);if(!k.user.emailVerified)throw await bs(xt),new Error("Please verify your email before logging in. Check your inbox for the verification link.");const f=await Xt(Ne(de,"users",k.user.uid));if(f.exists()&&f.data().status==="suspended")throw await bs(xt),new Error("Your account has been suspended. Please contact an administrator.")}catch(k){console.error("Login error:",k);const f=k.code==="auth/user-not-found"?"No account found with this email address.":k.code==="auth/wrong-password"?"Incorrect password. Please try again.":k.code==="auth/invalid-email"?"Please enter a valid email address.":k.code==="auth/user-disabled"?"This account has been disabled.":k.code==="auth/too-many-requests"?"Too many failed login attempts. Please try again later.":k.message||"Login failed";throw l(f),new Error(f)}},d=async(C,p,k,f)=>{try{l(null),console.log("🔥 Starting registration process..."),console.log("📧 Email:",C),console.log("👤 Display Name:",k),console.log("🔥 Creating Firebase Auth user...");const j=await Or(xt,C,p);console.log("✅ Firebase Auth user created:",j.user.uid),console.log("🔥 Updating Firebase Auth profile..."),await Dr(j.user,{displayName:k}),console.log("✅ Firebase Auth profile updated"),console.log("🔥 Creating Firestore user document...");const ie=Ne(de,"users",j.user.uid),ee={uid:j.user.uid,email:C,displayName:k,phoneNumber:(f==null?void 0:f.phoneNumber)||"",whatsappNumber:(f==null?void 0:f.whatsappNumber)||"",bio:(f==null?void 0:f.bio)||"",interests:(f==null?void 0:f.interests)||[],dietaryPreferences:(f==null?void 0:f.dietaryPreferences)||[],address:(f==null?void 0:f.address)||{street:"",city:"",postalCode:""},privacy:(f==null?void 0:f.privacy)||{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1},role:"member",status:"pending",defaultAvailability:{weekdays:!1,evenings:!1,weekends:!1},createdAt:new Date,updatedAt:new Date};console.log("🔥 User data to save:",ee),await ws(ie,ee),console.log("✅ Firestore user document created"),console.log("🔥 Sending email verification..."),await Mr(j.user),console.log("✅ Email verification sent"),console.log("🎉 Registration completed successfully!")}catch(j){console.error("❌ Registration error:",j),console.error("❌ Error code:",j.code),console.error("❌ Error message:",j.message);const ie=j.code==="auth/email-already-in-use"?"This email is already registered. Please try logging in instead.":j.code==="auth/weak-password"?"Password is too weak. Please choose a stronger password.":j.code==="auth/invalid-email"?"Please enter a valid email address.":j.code==="permission-denied"?"Permission denied. Please check Firestore security rules.":j.code==="unavailable"?"Service temporarily unavailable. Please try again later.":j.message||"Registration failed. Please try again.";throw l(ie),new Error(ie)}},u=async()=>{try{await bs(xt)}catch(C){throw console.error("Logout error:",C),new Error(C.message||"Logout failed")}},x=async C=>{try{await Rr(xt,C)}catch(p){throw console.error("Password reset error:",p),new Error(p.message||"Password reset failed")}},h=async C=>{if(!t)throw new Error("No user logged in");try{const p=Ne(de,"users",t.uid),k={...C,updatedAt:new Date};await We(p,k),a(f=>f?{...f,...C}:null)}catch(p){throw console.error("Profile update error:",p),new Error(p.message||"Profile update failed")}},T={user:t,loading:r,login:c,register:d,logout:u,resetPassword:x,updateProfile:h,signIn:c,isLoading:r,error:n,clearError:()=>l(null),userProfile:t,updateUserProfile:h};return e.jsx(za.Provider,{value:T,children:s})};let ti={data:""},si=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||ti,ai=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ri=/\/\*[^]*?\*\/|  +/g,sa=/\n+/g,nt=(s,t)=>{let a="",r="",i="";for(let n in s){let l=s[n];n[0]=="@"?n[1]=="i"?a=n+" "+l+";":r+=n[1]=="f"?nt(l,n):n+"{"+nt(l,n[1]=="k"?"":t)+"}":typeof l=="object"?r+=nt(l,t?t.replace(/([^,])+/g,o=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):n):l!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=nt.p?nt.p(n,l):n+":"+l+";")}return a+(t&&i?t+"{"+i+"}":i)+r},Qe={},Ua=s=>{if(typeof s=="object"){let t="";for(let a in s)t+=a+Ua(s[a]);return t}return s},ii=(s,t,a,r,i)=>{let n=Ua(s),l=Qe[n]||(Qe[n]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(n));if(!Qe[l]){let c=n!==s?s:(d=>{let u,x,h=[{}];for(;u=ai.exec(d.replace(ri,""));)u[4]?h.shift():u[3]?(x=u[3].replace(sa," ").trim(),h.unshift(h[0][x]=h[0][x]||{})):h[0][u[1]]=u[2].replace(sa," ").trim();return h[0]})(s);Qe[l]=nt(i?{["@keyframes "+l]:c}:c,a?"":"."+l)}let o=a&&Qe.g?Qe.g:null;return a&&(Qe.g=Qe[l]),((c,d,u,x)=>{x?d.data=d.data.replace(x,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Qe[l],t,r,o),l},ni=(s,t,a)=>s.reduce((r,i,n)=>{let l=t[n];if(l&&l.call){let o=l(a),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":nt(o,""):o===!1?"":o}return r+i+(l??"")},"");function us(s){let t=this||{},a=s.call?s(t.p):s;return ii(a.unshift?a.raw?ni(a,[].slice.call(arguments,1),t.p):a.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):a,si(t.target),t.g,t.o,t.k)}let Ba,ks,Cs;us.bind({g:1});let et=us.bind({k:1});function li(s,t,a,r){nt.p=t,Ba=s,ks=a,Cs=r}function ht(s,t){let a=this||{};return function(){let r=arguments;function i(n,l){let o=Object.assign({},n),c=o.className||i.className;a.p=Object.assign({theme:ks&&ks()},o),a.o=/ *go\d+/.test(c),o.className=us.apply(a,r)+(c?" "+c:"");let d=s;return s[0]&&(d=o.as||s,delete o.as),Cs&&d[0]&&Cs(o),Ba(d,o)}return i}}var oi=s=>typeof s=="function",es=(s,t)=>oi(s)?s(t):s,ci=(()=>{let s=0;return()=>(++s).toString()})(),Za=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),di=20,Os="default",qa=(s,t)=>{let{toastLimit:a}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,a)};case 1:return{...s,toasts:s.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:r}=t;return qa(s,{type:s.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...s,toasts:s.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let n=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+n}))}}},Jt=[],Wa={toasts:[],pausedAt:void 0,settings:{toastLimit:di}},Ze={},Ya=(s,t=Os)=>{Ze[t]=qa(Ze[t]||Wa,s),Jt.forEach(([a,r])=>{a===t&&r(Ze[t])})},Ga=s=>Object.keys(Ze).forEach(t=>Ya(s,t)),ui=s=>Object.keys(Ze).find(t=>Ze[t].toasts.some(a=>a.id===s)),ms=(s=Os)=>t=>{Ya(t,s)},mi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hi=(s={},t=Os)=>{let[a,r]=N.useState(Ze[t]||Wa),i=N.useRef(Ze[t]);N.useEffect(()=>(i.current!==Ze[t]&&r(Ze[t]),Jt.push([t,r]),()=>{let l=Jt.findIndex(([o])=>o===t);l>-1&&Jt.splice(l,1)}),[t]);let n=a.toasts.map(l=>{var o,c,d;return{...s,...s[l.type],...l,removeDelay:l.removeDelay||((o=s[l.type])==null?void 0:o.removeDelay)||(s==null?void 0:s.removeDelay),duration:l.duration||((c=s[l.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||mi[l.type],style:{...s.style,...(d=s[l.type])==null?void 0:d.style,...l.style}}});return{...a,toasts:n}},xi=(s,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...a,id:(a==null?void 0:a.id)||ci()}),Bt=s=>(t,a)=>{let r=xi(t,s,a);return ms(r.toasterId||ui(r.id))({type:2,toast:r}),r.id},je=(s,t)=>Bt("blank")(s,t);je.error=Bt("error");je.success=Bt("success");je.loading=Bt("loading");je.custom=Bt("custom");je.dismiss=(s,t)=>{let a={type:3,toastId:s};t?ms(t)(a):Ga(a)};je.dismissAll=s=>je.dismiss(void 0,s);je.remove=(s,t)=>{let a={type:4,toastId:s};t?ms(t)(a):Ga(a)};je.removeAll=s=>je.remove(void 0,s);je.promise=(s,t,a)=>{let r=je.loading(t.loading,{...a,...a==null?void 0:a.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let n=t.success?es(t.success,i):void 0;return n?je.success(n,{id:r,...a,...a==null?void 0:a.success}):je.dismiss(r),i}).catch(i=>{let n=t.error?es(t.error,i):void 0;n?je.error(n,{id:r,...a,...a==null?void 0:a.error}):je.dismiss(r)}),s};var fi=1e3,gi=(s,t="default")=>{let{toasts:a,pausedAt:r}=hi(s,t),i=N.useRef(new Map).current,n=N.useCallback((x,h=fi)=>{if(i.has(x))return;let y=setTimeout(()=>{i.delete(x),l({type:4,toastId:x})},h);i.set(x,y)},[]);N.useEffect(()=>{if(r)return;let x=Date.now(),h=a.map(y=>{if(y.duration===1/0)return;let w=(y.duration||0)+y.pauseDuration-(x-y.createdAt);if(w<0){y.visible&&je.dismiss(y.id);return}return setTimeout(()=>je.dismiss(y.id,t),w)});return()=>{h.forEach(y=>y&&clearTimeout(y))}},[a,r,t]);let l=N.useCallback(ms(t),[t]),o=N.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=N.useCallback((x,h)=>{l({type:1,toast:{id:x,height:h}})},[l]),d=N.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),u=N.useCallback((x,h)=>{let{reverseOrder:y=!1,gutter:w=8,defaultPosition:L}=h||{},v=a.filter(C=>(C.position||L)===(x.position||L)&&C.height),z=v.findIndex(C=>C.id===x.id),T=v.filter((C,p)=>p<z&&C.visible).length;return v.filter(C=>C.visible).slice(...y?[T+1]:[0,T]).reduce((C,p)=>C+(p.height||0)+w,0)},[a]);return N.useEffect(()=>{a.forEach(x=>{if(x.dismissed)n(x.id,x.removeDelay);else{let h=i.get(x.id);h&&(clearTimeout(h),i.delete(x.id))}})},[a,n]),{toasts:a,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},pi=et`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yi=et`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bi=et`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vi=ht("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yi} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ji=et`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ni=ht("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${ji} 1s linear infinite;
`,wi=et`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_i=et`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ki=ht("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_i} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ci=ht("div")`
  position: absolute;
`,Ei=ht("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Si=et`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ai=ht("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Si} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ti=({toast:s})=>{let{icon:t,type:a,iconTheme:r}=s;return t!==void 0?typeof t=="string"?N.createElement(Ai,null,t):t:a==="blank"?null:N.createElement(Ei,null,N.createElement(Ni,{...r}),a!=="loading"&&N.createElement(Ci,null,a==="error"?N.createElement(vi,{...r}):N.createElement(ki,{...r})))},Pi=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ii=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Li="0%{opacity:0;} 100%{opacity:1;}",Vi="0%{opacity:1;} 100%{opacity:0;}",Fi=ht("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ri=ht("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Oi=(s,t)=>{let a=s.includes("top")?1:-1,[r,i]=Za()?[Li,Vi]:[Pi(a),Ii(a)];return{animation:t?`${et(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${et(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Di=N.memo(({toast:s,position:t,style:a,children:r})=>{let i=s.height?Oi(s.position||t||"top-center",s.visible):{opacity:0},n=N.createElement(Ti,{toast:s}),l=N.createElement(Ri,{...s.ariaProps},es(s.message,s));return N.createElement(Fi,{className:s.className,style:{...i,...a,...s.style}},typeof r=="function"?r({icon:n,message:l}):N.createElement(N.Fragment,null,n,l))});li(N.createElement);var Mi=({id:s,className:t,style:a,onHeightUpdate:r,children:i})=>{let n=N.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;r(s,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return N.createElement("div",{ref:n,className:t,style:a},i)},$i=(s,t)=>{let a=s.includes("top"),r=a?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Za()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...r,...i}},zi=us`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ht=16,Ui=({reverseOrder:s,position:t="top-center",toastOptions:a,gutter:r,children:i,toasterId:n,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:d}=gi(a,n);return N.createElement("div",{"data-rht-toaster":n||"",style:{position:"fixed",zIndex:9999,top:Ht,left:Ht,right:Ht,bottom:Ht,pointerEvents:"none",...l},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let x=u.position||t,h=d.calculateOffset(u,{reverseOrder:s,gutter:r,defaultPosition:t}),y=$i(x,h);return N.createElement(Mi,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?zi:"",style:y},u.type==="custom"?es(u.message,u):i?i(u):N.createElement(Di,{toast:u,position:x}))}))},H=je;const $=({variant:s="primary",size:t="md",isLoading:a=!1,disabled:r,className:i,children:n,...l})=>{const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},u=[o,c[s],d[t],a&&"cursor-wait",i].filter(Boolean).join(" ");return e.jsxs("button",{className:u,disabled:r||a,...l,children:[a&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})},se=({type:s="text",name:t,value:a,onChange:r,placeholder:i,required:n=!1,disabled:l=!1,error:o,label:c,helperText:d,className:u=""})=>{const w=`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${o?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${l?"bg-gray-100 cursor-not-allowed":""} ${u}`.trim();return e.jsxs("div",{className:"space-y-1",children:[c&&e.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:c}),e.jsx("input",{type:s,name:t,id:t,value:a,onChange:r,placeholder:i,required:n,disabled:l,className:w}),o&&e.jsx("p",{className:"text-sm text-red-600",children:o}),d&&!o&&e.jsx("p",{className:"text-sm text-gray-500",children:d})]})},G=({children:s,className:t="",padding:a="md",shadow:r="md"})=>{const i="bg-white rounded-lg border border-gray-200",n={none:"",sm:"p-4",md:"p-6",lg:"p-8"},l={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},o=[i,n[a],l[r],t].filter(Boolean).join(" ");return e.jsx("div",{className:o,children:s})},Mt=({variant:s="info",type:t,message:a,children:r,className:i=""})=>{const c=`p-4 rounded-md ${{success:"bg-green-50 border border-green-200 text-green-800",error:"bg-red-50 border border-red-200 text-red-800",warning:"bg-yellow-50 border border-yellow-200 text-yellow-800",info:"bg-blue-50 border border-blue-200 text-blue-800"}[t||s]} ${i}`.trim();return e.jsx("div",{className:c,role:"alert",children:a||r})},Bi=()=>{const[s,t]=N.useState(""),[a,r]=N.useState(""),[i,n]=N.useState(!1),[l,o]=N.useState(""),{login:c}=ke(),d=st(),u=async x=>{x.preventDefault(),o(""),n(!0);try{await c(s,a),H.success("Login successful!"),d("/dashboard")}catch(h){console.error("Login error:",h);const y=h.message||"Login failed. Please try again.";o(y),H.error(y)}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to LCC Assemble"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Connect with your community"})]}),e.jsx(G,{className:"p-8",children:e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[l&&e.jsx(Mt,{variant:"error",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx(se,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:x=>t(x.target.value),placeholder:"Enter your email"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx(se,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>r(x.target.value),placeholder:"Enter your password"})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"text-sm",children:e.jsx(qe,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Don't have an account? Sign up"})})}),e.jsx("div",{children:e.jsx($,{type:"submit",className:"w-full",disabled:i,isLoading:i,children:i?"Signing in...":"Sign in"})})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["By signing in, you agree to our"," ",e.jsx(qe,{to:"/terms",className:"font-medium text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",e.jsx(qe,{to:"/privacy",className:"font-medium text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})})]})})};var Zt=s=>s.type==="checkbox",ft=s=>s instanceof Date,Ce=s=>s==null;const Ha=s=>typeof s=="object";var ye=s=>!Ce(s)&&!Array.isArray(s)&&Ha(s)&&!ft(s),Qa=s=>ye(s)&&s.target?Zt(s.target)?s.target.checked:s.target.value:s,Zi=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,Ja=(s,t)=>s.has(Zi(t)),qi=s=>{const t=s.constructor&&s.constructor.prototype;return ye(t)&&t.hasOwnProperty("isPrototypeOf")},Ds=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function be(s){let t;const a=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!(Ds&&(s instanceof Blob||r))&&(a||ye(s)))if(t=a?[]:Object.create(Object.getPrototypeOf(s)),!a&&!qi(s))t=s;else for(const i in s)s.hasOwnProperty(i)&&(t[i]=be(s[i]));else return s;return t}var hs=s=>/^\w*$/.test(s),fe=s=>s===void 0,Ms=s=>Array.isArray(s)?s.filter(Boolean):[],$s=s=>Ms(s.replace(/["|']|\]/g,"").split(/\.|\[/)),I=(s,t,a)=>{if(!t||!ye(s))return a;const r=(hs(t)?[t]:$s(t)).reduce((i,n)=>Ce(i)?i:i[n],s);return fe(r)||r===s?fe(s[t])?a:s[t]:r},Te=s=>typeof s=="boolean",ce=(s,t,a)=>{let r=-1;const i=hs(t)?[t]:$s(t),n=i.length,l=n-1;for(;++r<n;){const o=i[r];let c=a;if(r!==l){const d=s[o];c=ye(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;s[o]=c,s=s[o]}};const ts={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$e={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Je={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ka=X.createContext(null);Ka.displayName="HookFormContext";const zs=()=>X.useContext(Ka);var Xa=(s,t,a,r=!0)=>{const i={defaultValues:t._defaultValues};for(const n in s)Object.defineProperty(i,n,{get:()=>{const l=n;return t._proxyFormState[l]!==$e.all&&(t._proxyFormState[l]=!r||$e.all),a&&(a[l]=!0),s[l]}});return i};const Us=typeof window<"u"?X.useLayoutEffect:X.useEffect;function Wi(s){const t=zs(),{control:a=t.control,disabled:r,name:i,exact:n}=s||{},[l,o]=X.useState(a._formState),c=X.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Us(()=>a._subscribe({name:i,formState:c.current,exact:n,callback:d=>{!r&&o({...a._formState,...d})}}),[i,r,n]),X.useEffect(()=>{c.current.isValid&&a._setValid(!0)},[a]),X.useMemo(()=>Xa(l,a,c.current,!1),[l,a])}var Pe=s=>typeof s=="string",er=(s,t,a,r,i)=>Pe(s)?(r&&t.watch.add(s),I(a,s,i)):Array.isArray(s)?s.map(n=>(r&&t.watch.add(n),I(a,n))):(r&&(t.watchAll=!0),a),Es=s=>Ce(s)||!Ha(s);function Ke(s,t,a=new WeakSet){if(Es(s)||Es(t))return s===t;if(ft(s)&&ft(t))return s.getTime()===t.getTime();const r=Object.keys(s),i=Object.keys(t);if(r.length!==i.length)return!1;if(a.has(s)||a.has(t))return!0;a.add(s),a.add(t);for(const n of r){const l=s[n];if(!i.includes(n))return!1;if(n!=="ref"){const o=t[n];if(ft(l)&&ft(o)||ye(l)&&ye(o)||Array.isArray(l)&&Array.isArray(o)?!Ke(l,o,a):l!==o)return!1}}return!0}function Yi(s){const t=zs(),{control:a=t.control,name:r,defaultValue:i,disabled:n,exact:l,compute:o}=s||{},c=X.useRef(i),d=X.useRef(o),u=X.useRef(void 0);d.current=o;const x=X.useMemo(()=>a._getWatch(r,c.current),[a,r]),[h,y]=X.useState(d.current?d.current(x):x);return Us(()=>a._subscribe({name:r,formState:{values:!0},exact:l,callback:w=>{if(!n){const L=er(r,a._names,w.values||a._formValues,!1,c.current);if(d.current){const v=d.current(L);Ke(v,u.current)||(y(v),u.current=v)}else y(L)}}}),[a,n,r,l]),X.useEffect(()=>a._removeUnmounted()),h}function Gi(s){const t=zs(),{name:a,disabled:r,control:i=t.control,shouldUnregister:n,defaultValue:l}=s,o=Ja(i._names.array,a),c=X.useMemo(()=>I(i._formValues,a,I(i._defaultValues,a,l)),[i,a,l]),d=Yi({control:i,name:a,defaultValue:c,exact:!0}),u=Wi({control:i,name:a,exact:!0}),x=X.useRef(s),h=X.useRef(void 0),y=X.useRef(i.register(a,{...s.rules,value:d,...Te(s.disabled)?{disabled:s.disabled}:{}}));x.current=s;const w=X.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!I(u.errors,a)},isDirty:{enumerable:!0,get:()=>!!I(u.dirtyFields,a)},isTouched:{enumerable:!0,get:()=>!!I(u.touchedFields,a)},isValidating:{enumerable:!0,get:()=>!!I(u.validatingFields,a)},error:{enumerable:!0,get:()=>I(u.errors,a)}}),[u,a]),L=X.useCallback(C=>y.current.onChange({target:{value:Qa(C),name:a},type:ts.CHANGE}),[a]),v=X.useCallback(()=>y.current.onBlur({target:{value:I(i._formValues,a),name:a},type:ts.BLUR}),[a,i._formValues]),z=X.useCallback(C=>{const p=I(i._fields,a);p&&C&&(p._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:k=>C.setCustomValidity(k),reportValidity:()=>C.reportValidity()})},[i._fields,a]),T=X.useMemo(()=>({name:a,value:d,...Te(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:L,onBlur:v,ref:z}),[a,r,u.disabled,L,v,z,d]);return X.useEffect(()=>{const C=i._options.shouldUnregister||n,p=h.current;p&&p!==a&&!o&&i.unregister(p),i.register(a,{...x.current.rules,...Te(x.current.disabled)?{disabled:x.current.disabled}:{}});const k=(f,j)=>{const ie=I(i._fields,f);ie&&ie._f&&(ie._f.mount=j)};if(k(a,!0),C){const f=be(I(i._options.defaultValues,a));ce(i._defaultValues,a,f),fe(I(i._formValues,a))&&ce(i._formValues,a,f)}return!o&&i.register(a),h.current=a,()=>{(o?C&&!i._state.action:C)?i.unregister(a):k(a,!1)}},[a,i,o,n]),X.useEffect(()=>{i._setDisabledField({disabled:r,name:a})},[r,a,i]),X.useMemo(()=>({field:T,formState:u,fieldState:w}),[T,u,w])}const Me=s=>s.render(Gi(s));var Bs=(s,t,a,r,i)=>t?{...a[s],types:{...a[s]&&a[s].types?a[s].types:{},[r]:i||!0}}:{},Ft=s=>Array.isArray(s)?s:[s],aa=()=>{let s=[];return{get observers(){return s},next:i=>{for(const n of s)n.next&&n.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(n=>n!==i)}}),unsubscribe:()=>{s=[]}}};function tr(s,t){const a={};for(const r in s)if(s.hasOwnProperty(r)){const i=s[r],n=t[r];if(i&&ye(i)&&n){const l=tr(i,n);ye(l)&&(a[r]=l)}else s[r]&&(a[r]=n)}return a}var Ae=s=>ye(s)&&!Object.keys(s).length,Zs=s=>s.type==="file",ze=s=>typeof s=="function",ss=s=>{if(!Ds)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},sr=s=>s.type==="select-multiple",qs=s=>s.type==="radio",Hi=s=>qs(s)||Zt(s),js=s=>ss(s)&&s.isConnected;function Qi(s,t){const a=t.slice(0,-1).length;let r=0;for(;r<a;)s=fe(s)?r++:s[t[r++]];return s}function Ji(s){for(const t in s)if(s.hasOwnProperty(t)&&!fe(s[t]))return!1;return!0}function ge(s,t){const a=Array.isArray(t)?t:hs(t)?[t]:$s(t),r=a.length===1?s:Qi(s,a),i=a.length-1,n=a[i];return r&&delete r[n],i!==0&&(ye(r)&&Ae(r)||Array.isArray(r)&&Ji(r))&&ge(s,a.slice(0,-1)),s}var Ki=s=>{for(const t in s)if(ze(s[t]))return!0;return!1};function ar(s){return Array.isArray(s)||ye(s)&&!Ki(s)}function Ss(s,t={}){for(const a in s)ar(s[a])?(t[a]=Array.isArray(s[a])?[]:{},Ss(s[a],t[a])):Ce(s[a])||(t[a]=!0);return t}function Nt(s,t,a){a||(a=Ss(t));for(const r in s)ar(s[r])?fe(t)||Es(a[r])?a[r]=Ss(s[r],Array.isArray(s[r])?[]:{}):Nt(s[r],Ce(t)?{}:t[r],a[r]):a[r]=!Ke(s[r],t[r]);return a}const ra={value:!1,isValid:!1},ia={value:!0,isValid:!0};var rr=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!fe(s[0].attributes.value)?fe(s[0].value)||s[0].value===""?ia:{value:s[0].value,isValid:!0}:ia:ra}return ra},ir=(s,{valueAsNumber:t,valueAsDate:a,setValueAs:r})=>fe(s)?s:t?s===""?NaN:s&&+s:a&&Pe(s)?new Date(s):r?r(s):s;const na={isValid:!1,value:null};var nr=s=>Array.isArray(s)?s.reduce((t,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:t,na):na;function la(s){const t=s.ref;return Zs(t)?t.files:qs(t)?nr(s.refs).value:sr(t)?[...t.selectedOptions].map(({value:a})=>a):Zt(t)?rr(s.refs).value:ir(fe(t.value)?s.ref.value:t.value,s)}var Xi=(s,t,a,r)=>{const i={};for(const n of s){const l=I(t,n);l&&ce(i,n,l._f)}return{criteriaMode:a,names:[...s],fields:i,shouldUseNativeValidation:r}},as=s=>s instanceof RegExp,It=s=>fe(s)?s:as(s)?s.source:ye(s)?as(s.value)?s.value.source:s.value:s,oa=s=>({isOnSubmit:!s||s===$e.onSubmit,isOnBlur:s===$e.onBlur,isOnChange:s===$e.onChange,isOnAll:s===$e.all,isOnTouch:s===$e.onTouched});const ca="AsyncFunction";var en=s=>!!s&&!!s.validate&&!!(ze(s.validate)&&s.validate.constructor.name===ca||ye(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===ca)),tn=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),da=(s,t,a)=>!a&&(t.watchAll||t.watch.has(s)||[...t.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const Rt=(s,t,a,r)=>{for(const i of a||Object.keys(s)){const n=I(s,i);if(n){const{_f:l,...o}=n;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(Rt(o,t))break}else if(ye(o)&&Rt(o,t))break}}};function ua(s,t,a){const r=I(s,a);if(r||hs(a))return{error:r,name:a};const i=a.split(".");for(;i.length;){const n=i.join("."),l=I(t,n),o=I(s,n);if(l&&!Array.isArray(l)&&a!==n)return{name:a};if(o&&o.type)return{name:n,error:o};if(o&&o.root&&o.root.type)return{name:`${n}.root`,error:o.root};i.pop()}return{name:a}}var sn=(s,t,a,r)=>{a(s);const{name:i,...n}=s;return Ae(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(l=>t[l]===(!r||$e.all))},an=(s,t,a)=>!s||!t||s===t||Ft(s).some(r=>r&&(a?r===t:r.startsWith(t)||t.startsWith(r))),rn=(s,t,a,r,i)=>i.isOnAll?!1:!a&&i.isOnTouch?!(t||s):(a?r.isOnBlur:i.isOnBlur)?!s:(a?r.isOnChange:i.isOnChange)?s:!0,nn=(s,t)=>!Ms(I(s,t)).length&&ge(s,t),ln=(s,t,a)=>{const r=Ft(I(s,a));return ce(r,"root",t[a]),ce(s,a,r),s};function ma(s,t,a="validate"){if(Pe(s)||Array.isArray(s)&&s.every(Pe)||Te(s)&&!s)return{type:a,message:Pe(s)?s:"",ref:t}}var bt=s=>ye(s)&&!as(s)?s:{value:s,message:""},ha=async(s,t,a,r,i,n)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:x,max:h,pattern:y,validate:w,name:L,valueAsNumber:v,mount:z}=s._f,T=I(a,L);if(!z||t.has(L))return{};const C=o?o[0]:l,p=E=>{i&&C.reportValidity&&(C.setCustomValidity(Te(E)?"":E||""),C.reportValidity())},k={},f=qs(l),j=Zt(l),ie=f||j,ee=(v||Zs(l))&&fe(l.value)&&fe(T)||ss(l)&&l.value===""||T===""||Array.isArray(T)&&!T.length,D=Bs.bind(null,L,r,k),_=(E,V,B,U=Je.maxLength,F=Je.minLength)=>{const ae=E?V:B;k[L]={type:E?U:F,message:ae,ref:l,...D(E?U:F,ae)}};if(n?!Array.isArray(T)||!T.length:c&&(!ie&&(ee||Ce(T))||Te(T)&&!T||j&&!rr(o).isValid||f&&!nr(o).isValid)){const{value:E,message:V}=Pe(c)?{value:!!c,message:c}:bt(c);if(E&&(k[L]={type:Je.required,message:V,ref:C,...D(Je.required,V)},!r))return p(V),k}if(!ee&&(!Ce(x)||!Ce(h))){let E,V;const B=bt(h),U=bt(x);if(!Ce(T)&&!isNaN(T)){const F=l.valueAsNumber||T&&+T;Ce(B.value)||(E=F>B.value),Ce(U.value)||(V=F<U.value)}else{const F=l.valueAsDate||new Date(T),ae=pt=>new Date(new Date().toDateString()+" "+pt),we=l.type=="time",Ee=l.type=="week";Pe(B.value)&&T&&(E=we?ae(T)>ae(B.value):Ee?T>B.value:F>new Date(B.value)),Pe(U.value)&&T&&(V=we?ae(T)<ae(U.value):Ee?T<U.value:F<new Date(U.value))}if((E||V)&&(_(!!E,B.message,U.message,Je.max,Je.min),!r))return p(k[L].message),k}if((d||u)&&!ee&&(Pe(T)||n&&Array.isArray(T))){const E=bt(d),V=bt(u),B=!Ce(E.value)&&T.length>+E.value,U=!Ce(V.value)&&T.length<+V.value;if((B||U)&&(_(B,E.message,V.message),!r))return p(k[L].message),k}if(y&&!ee&&Pe(T)){const{value:E,message:V}=bt(y);if(as(E)&&!T.match(E)&&(k[L]={type:Je.pattern,message:V,ref:l,...D(Je.pattern,V)},!r))return p(V),k}if(w){if(ze(w)){const E=await w(T,a),V=ma(E,C);if(V&&(k[L]={...V,...D(Je.validate,V.message)},!r))return p(V.message),k}else if(ye(w)){let E={};for(const V in w){if(!Ae(E)&&!r)break;const B=ma(await w[V](T,a),C,V);B&&(E={...B,...D(V,B.message)},p(B.message),r&&(k[L]=E))}if(!Ae(E)&&(k[L]={ref:C,...E},!r))return k}}return p(!0),k};const on={mode:$e.onSubmit,reValidateMode:$e.onChange,shouldFocusError:!0};function cn(s={}){let t={...on,...s},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:ze(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=ye(t.defaultValues)||ye(t.values)?be(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:be(i),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...u};const h={array:aa(),state:aa()},y=t.criteriaMode===$e.all,w=m=>g=>{clearTimeout(d),d=setTimeout(m,g)},L=async m=>{if(!t.disabled&&(u.isValid||x.isValid||m)){const g=t.resolver?Ae((await j()).errors):await ee(r,!0);g!==a.isValid&&h.state.next({isValid:g})}},v=(m,g)=>{!t.disabled&&(u.isValidating||u.validatingFields||x.isValidating||x.validatingFields)&&((m||Array.from(o.mount)).forEach(b=>{b&&(g?ce(a.validatingFields,b,g):ge(a.validatingFields,b))}),h.state.next({validatingFields:a.validatingFields,isValidating:!Ae(a.validatingFields)}))},z=(m,g=[],b,M,P=!0,A=!0)=>{if(M&&b&&!t.disabled){if(l.action=!0,A&&Array.isArray(I(r,m))){const Y=b(I(r,m),M.argA,M.argB);P&&ce(r,m,Y)}if(A&&Array.isArray(I(a.errors,m))){const Y=b(I(a.errors,m),M.argA,M.argB);P&&ce(a.errors,m,Y),nn(a.errors,m)}if((u.touchedFields||x.touchedFields)&&A&&Array.isArray(I(a.touchedFields,m))){const Y=b(I(a.touchedFields,m),M.argA,M.argB);P&&ce(a.touchedFields,m,Y)}(u.dirtyFields||x.dirtyFields)&&(a.dirtyFields=Nt(i,n)),h.state.next({name:m,isDirty:_(m,g),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ce(n,m,g)},T=(m,g)=>{ce(a.errors,m,g),h.state.next({errors:a.errors})},C=m=>{a.errors=m,h.state.next({errors:a.errors,isValid:!1})},p=(m,g,b,M)=>{const P=I(r,m);if(P){const A=I(n,m,fe(b)?I(i,m):b);fe(A)||M&&M.defaultChecked||g?ce(n,m,g?A:la(P._f)):B(m,A),l.mount&&L()}},k=(m,g,b,M,P)=>{let A=!1,Y=!1;const oe={name:m};if(!t.disabled){if(!b||M){(u.isDirty||x.isDirty)&&(Y=a.isDirty,a.isDirty=oe.isDirty=_(),A=Y!==oe.isDirty);const ue=Ke(I(i,m),g);Y=!!I(a.dirtyFields,m),ue?ge(a.dirtyFields,m):ce(a.dirtyFields,m,!0),oe.dirtyFields=a.dirtyFields,A=A||(u.dirtyFields||x.dirtyFields)&&Y!==!ue}if(b){const ue=I(a.touchedFields,m);ue||(ce(a.touchedFields,m,b),oe.touchedFields=a.touchedFields,A=A||(u.touchedFields||x.touchedFields)&&ue!==b)}A&&P&&h.state.next(oe)}return A?oe:{}},f=(m,g,b,M)=>{const P=I(a.errors,m),A=(u.isValid||x.isValid)&&Te(g)&&a.isValid!==g;if(t.delayError&&b?(c=w(()=>T(m,b)),c(t.delayError)):(clearTimeout(d),c=null,b?ce(a.errors,m,b):ge(a.errors,m)),(b?!Ke(P,b):P)||!Ae(M)||A){const Y={...M,...A&&Te(g)?{isValid:g}:{},errors:a.errors,name:m};a={...a,...Y},h.state.next(Y)}},j=async m=>{v(m,!0);const g=await t.resolver(n,t.context,Xi(m||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return v(m),g},ie=async m=>{const{errors:g}=await j(m);if(m)for(const b of m){const M=I(g,b);M?ce(a.errors,b,M):ge(a.errors,b)}else a.errors=g;return g},ee=async(m,g,b={valid:!0})=>{for(const M in m){const P=m[M];if(P){const{_f:A,...Y}=P;if(A){const oe=o.array.has(A.name),ue=P._f&&en(P._f);ue&&u.validatingFields&&v([A.name],!0);const Re=await ha(P,o.disabled,n,y,t.shouldUseNativeValidation&&!g,oe);if(ue&&u.validatingFields&&v([A.name]),Re[A.name]&&(b.valid=!1,g))break;!g&&(I(Re,A.name)?oe?ln(a.errors,Re,A.name):ce(a.errors,A.name,Re[A.name]):ge(a.errors,A.name))}!Ae(Y)&&await ee(Y,g,b)}}return b.valid},D=()=>{for(const m of o.unMount){const g=I(r,m);g&&(g._f.refs?g._f.refs.every(b=>!js(b)):!js(g._f.ref))&&Pt(m)}o.unMount=new Set},_=(m,g)=>!t.disabled&&(m&&g&&ce(n,m,g),!Ke(pt(),i)),E=(m,g,b)=>er(m,o,{...l.mount?n:fe(g)?i:Pe(m)?{[m]:g}:g},b,g),V=m=>Ms(I(l.mount?n:i,m,t.shouldUnregister?I(i,m,[]):[])),B=(m,g,b={})=>{const M=I(r,m);let P=g;if(M){const A=M._f;A&&(!A.disabled&&ce(n,m,ir(g,A)),P=ss(A.ref)&&Ce(g)?"":g,sr(A.ref)?[...A.ref.options].forEach(Y=>Y.selected=P.includes(Y.value)):A.refs?Zt(A.ref)?A.refs.forEach(Y=>{(!Y.defaultChecked||!Y.disabled)&&(Array.isArray(P)?Y.checked=!!P.find(oe=>oe===Y.value):Y.checked=P===Y.value||!!P)}):A.refs.forEach(Y=>Y.checked=Y.value===P):Zs(A.ref)?A.ref.value="":(A.ref.value=P,A.ref.type||h.state.next({name:m,values:be(n)})))}(b.shouldDirty||b.shouldTouch)&&k(m,P,b.shouldTouch,b.shouldDirty,!0),b.shouldValidate&&Ee(m)},U=(m,g,b)=>{for(const M in g){if(!g.hasOwnProperty(M))return;const P=g[M],A=m+"."+M,Y=I(r,A);(o.array.has(m)||ye(P)||Y&&!Y._f)&&!ft(P)?U(A,P,b):B(A,P,b)}},F=(m,g,b={})=>{const M=I(r,m),P=o.array.has(m),A=be(g);ce(n,m,A),P?(h.array.next({name:m,values:be(n)}),(u.isDirty||u.dirtyFields||x.isDirty||x.dirtyFields)&&b.shouldDirty&&h.state.next({name:m,dirtyFields:Nt(i,n),isDirty:_(m,A)})):M&&!M._f&&!Ce(A)?U(m,A,b):B(m,A,b),da(m,o)&&h.state.next({...a,name:m}),h.state.next({name:l.mount?m:void 0,values:be(n)})},ae=async m=>{l.mount=!0;const g=m.target;let b=g.name,M=!0;const P=I(r,b),A=ue=>{M=Number.isNaN(ue)||ft(ue)&&isNaN(ue.getTime())||Ke(ue,I(n,b,ue))},Y=oa(t.mode),oe=oa(t.reValidateMode);if(P){let ue,Re;const Gt=g.type?la(P._f):Qa(m),at=m.type===ts.BLUR||m.type===ts.FOCUS_OUT,wr=!tn(P._f)&&!t.resolver&&!I(a.errors,b)&&!P._f.deps||rn(at,I(a.touchedFields,b),a.isSubmitted,oe,Y),ps=da(b,o,at);ce(n,b,Gt),at?(!g||!g.readOnly)&&(P._f.onBlur&&P._f.onBlur(m),c&&c(0)):P._f.onChange&&P._f.onChange(m);const ys=k(b,Gt,at),_r=!Ae(ys)||ps;if(!at&&h.state.next({name:b,type:m.type,values:be(n)}),wr)return(u.isValid||x.isValid)&&(t.mode==="onBlur"?at&&L():at||L()),_r&&h.state.next({name:b,...ps?{}:ys});if(!at&&ps&&h.state.next({...a}),t.resolver){const{errors:Ks}=await j([b]);if(A(Gt),M){const kr=ua(a.errors,r,b),Xs=ua(Ks,r,kr.name||b);ue=Xs.error,b=Xs.name,Re=Ae(Ks)}}else v([b],!0),ue=(await ha(P,o.disabled,n,y,t.shouldUseNativeValidation))[b],v([b]),A(Gt),M&&(ue?Re=!1:(u.isValid||x.isValid)&&(Re=await ee(r,!0)));M&&(P._f.deps&&(!Array.isArray(P._f.deps)||P._f.deps.length>0)&&Ee(P._f.deps),f(b,Re,ue,ys))}},we=(m,g)=>{if(I(a.errors,g)&&m.focus)return m.focus(),1},Ee=async(m,g={})=>{let b,M;const P=Ft(m);if(t.resolver){const A=await ie(fe(m)?m:P);b=Ae(A),M=m?!P.some(Y=>I(A,Y)):b}else m?(M=(await Promise.all(P.map(async A=>{const Y=I(r,A);return await ee(Y&&Y._f?{[A]:Y}:Y)}))).every(Boolean),!(!M&&!a.isValid)&&L()):M=b=await ee(r);return h.state.next({...!Pe(m)||(u.isValid||x.isValid)&&b!==a.isValid?{}:{name:m},...t.resolver||!m?{isValid:b}:{},errors:a.errors}),g.shouldFocus&&!M&&Rt(r,we,m?P:o.mount),M},pt=(m,g)=>{let b={...l.mount?n:i};return g&&(b=tr(g.dirtyFields?a.dirtyFields:a.touchedFields,b)),fe(m)?b:Pe(m)?I(b,m):m.map(M=>I(b,M))},qt=(m,g)=>({invalid:!!I((g||a).errors,m),isDirty:!!I((g||a).dirtyFields,m),error:I((g||a).errors,m),isValidating:!!I(a.validatingFields,m),isTouched:!!I((g||a).touchedFields,m)}),xs=m=>{m&&Ft(m).forEach(g=>ge(a.errors,g)),h.state.next({errors:m?a.errors:{}})},Wt=(m,g,b)=>{const M=(I(r,m,{_f:{}})._f||{}).ref,P=I(a.errors,m)||{},{ref:A,message:Y,type:oe,...ue}=P;ce(a.errors,m,{...ue,...g,ref:M}),h.state.next({name:m,errors:a.errors,isValid:!1}),b&&b.shouldFocus&&M&&M.focus&&M.focus()},fs=(m,g)=>ze(m)?h.state.subscribe({next:b=>"values"in b&&m(E(void 0,g),b)}):E(m,g,!0),Yt=m=>h.state.subscribe({next:g=>{an(m.name,g.name,m.exact)&&sn(g,m.formState||u,Nr,m.reRenderRoot)&&m.callback({values:{...n},...a,...g,defaultValues:i})}}).unsubscribe,gs=m=>(l.mount=!0,x={...x,...m.formState},Yt({...m,formState:x})),Pt=(m,g={})=>{for(const b of m?Ft(m):o.mount)o.mount.delete(b),o.array.delete(b),g.keepValue||(ge(r,b),ge(n,b)),!g.keepError&&ge(a.errors,b),!g.keepDirty&&ge(a.dirtyFields,b),!g.keepTouched&&ge(a.touchedFields,b),!g.keepIsValidating&&ge(a.validatingFields,b),!t.shouldUnregister&&!g.keepDefaultValue&&ge(i,b);h.state.next({values:be(n)}),h.state.next({...a,...g.keepDirty?{isDirty:_()}:{}}),!g.keepIsValid&&L()},R=({disabled:m,name:g})=>{(Te(m)&&l.mount||m||o.disabled.has(g))&&(m?o.disabled.add(g):o.disabled.delete(g))},Q=(m,g={})=>{let b=I(r,m);const M=Te(g.disabled)||Te(t.disabled);return ce(r,m,{...b||{},_f:{...b&&b._f?b._f:{ref:{name:m}},name:m,mount:!0,...g}}),o.mount.add(m),b?R({disabled:Te(g.disabled)?g.disabled:t.disabled,name:m}):p(m,!0,g.value),{...M?{disabled:g.disabled||t.disabled}:{},...t.progressive?{required:!!g.required,min:It(g.min),max:It(g.max),minLength:It(g.minLength),maxLength:It(g.maxLength),pattern:It(g.pattern)}:{},name:m,onChange:ae,onBlur:ae,ref:P=>{if(P){Q(m,g),b=I(r,m);const A=fe(P.value)&&P.querySelectorAll&&P.querySelectorAll("input,select,textarea")[0]||P,Y=Hi(A),oe=b._f.refs||[];if(Y?oe.find(ue=>ue===A):A===b._f.ref)return;ce(r,m,{_f:{...b._f,...Y?{refs:[...oe.filter(js),A,...Array.isArray(I(i,m))?[{}]:[]],ref:{type:A.type,name:m}}:{ref:A}}}),p(m,!1,void 0,A)}else b=I(r,m,{}),b._f&&(b._f.mount=!1),(t.shouldUnregister||g.shouldUnregister)&&!(Ja(o.array,m)&&l.action)&&o.unMount.add(m)}}},W=()=>t.shouldFocusError&&Rt(r,we,o.mount),he=m=>{Te(m)&&(h.state.next({disabled:m}),Rt(r,(g,b)=>{const M=I(r,b);M&&(g.disabled=M._f.disabled||m,Array.isArray(M._f.refs)&&M._f.refs.forEach(P=>{P.disabled=M._f.disabled||m}))},0,!1))},De=(m,g)=>async b=>{let M;b&&(b.preventDefault&&b.preventDefault(),b.persist&&b.persist());let P=be(n);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:A,values:Y}=await j();a.errors=A,P=be(Y)}else await ee(r);if(o.disabled.size)for(const A of o.disabled)ge(P,A);if(ge(a.errors,"root"),Ae(a.errors)){h.state.next({errors:{}});try{await m(P,b)}catch(A){M=A}}else g&&await g({...a.errors},b),W(),setTimeout(W);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ae(a.errors)&&!M,submitCount:a.submitCount+1,errors:a.errors}),M)throw M},yt=(m,g={})=>{I(r,m)&&(fe(g.defaultValue)?F(m,be(I(i,m))):(F(m,g.defaultValue),ce(i,m,be(g.defaultValue))),g.keepTouched||ge(a.touchedFields,m),g.keepDirty||(ge(a.dirtyFields,m),a.isDirty=g.defaultValue?_(m,be(I(i,m))):_()),g.keepError||(ge(a.errors,m),u.isValid&&L()),h.state.next({...a}))},Hs=(m,g={})=>{const b=m?be(m):i,M=be(b),P=Ae(m),A=P?i:M;if(g.keepDefaultValues||(i=b),!g.keepValues){if(g.keepDirtyValues){const Y=new Set([...o.mount,...Object.keys(Nt(i,n))]);for(const oe of Array.from(Y))I(a.dirtyFields,oe)?ce(A,oe,I(n,oe)):F(oe,I(A,oe))}else{if(Ds&&fe(m))for(const Y of o.mount){const oe=I(r,Y);if(oe&&oe._f){const ue=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(ss(ue)){const Re=ue.closest("form");if(Re){Re.reset();break}}}}if(g.keepFieldsRef)for(const Y of o.mount)F(Y,I(A,Y));else r={}}n=t.shouldUnregister?g.keepDefaultValues?be(i):{}:be(A),h.array.next({values:{...A}}),h.state.next({values:{...A}})}o={mount:g.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!g.keepIsValid||!!g.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:g.keepSubmitCount?a.submitCount:0,isDirty:P?!1:g.keepDirty?a.isDirty:!!(g.keepDefaultValues&&!Ke(m,i)),isSubmitted:g.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:P?{}:g.keepDirtyValues?g.keepDefaultValues&&n?Nt(i,n):a.dirtyFields:g.keepDefaultValues&&m?Nt(i,m):g.keepDirty?a.dirtyFields:{},touchedFields:g.keepTouched?a.touchedFields:{},errors:g.keepErrors?a.errors:{},isSubmitSuccessful:g.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Qs=(m,g)=>Hs(ze(m)?m(n):m,g),jr=(m,g={})=>{const b=I(r,m),M=b&&b._f;if(M){const P=M.refs?M.refs[0]:M.ref;P.focus&&(P.focus(),g.shouldSelect&&ze(P.select)&&P.select())}},Nr=m=>{a={...a,...m}},Js={control:{register:Q,unregister:Pt,getFieldState:qt,handleSubmit:De,setError:Wt,_subscribe:Yt,_runSchema:j,_focusError:W,_getWatch:E,_getDirty:_,_setValid:L,_setFieldArray:z,_setDisabledField:R,_setErrors:C,_getFieldArray:V,_reset:Hs,_resetDefaultValues:()=>ze(t.defaultValues)&&t.defaultValues().then(m=>{Qs(m,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:he,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return n},get _state(){return l},set _state(m){l=m},get _defaultValues(){return i},get _names(){return o},set _names(m){o=m},get _formState(){return a},get _options(){return t},set _options(m){t={...t,...m}}},subscribe:gs,trigger:Ee,register:Q,handleSubmit:De,watch:fs,setValue:F,getValues:pt,reset:Qs,resetField:yt,clearErrors:xs,unregister:Pt,setError:Wt,setFocus:jr,getFieldState:qt};return{...Js,formControl:Js}}function dn(s={}){const t=X.useRef(void 0),a=X.useRef(void 0),[r,i]=X.useState({isDirty:!1,isValidating:!1,isLoading:ze(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:ze(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:r},s.defaultValues&&!ze(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:l,...o}=cn(s);t.current={...o,formState:r}}const n=t.current.control;return n._options=s,Us(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),n._formState.isReady=!0,l},[n]),X.useEffect(()=>n._disableForm(s.disabled),[n,s.disabled]),X.useEffect(()=>{s.mode&&(n._options.mode=s.mode),s.reValidateMode&&(n._options.reValidateMode=s.reValidateMode)},[n,s.mode,s.reValidateMode]),X.useEffect(()=>{s.errors&&(n._setErrors(s.errors),n._focusError())},[n,s.errors]),X.useEffect(()=>{s.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,s.shouldUnregister]),X.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==r.isDirty&&n._subjects.state.next({isDirty:l})}},[n,r.isDirty]),X.useEffect(()=>{s.values&&!Ke(s.values,a.current)?(n._reset(s.values,{keepFieldsRef:!0,...n._options.resetOptions}),a.current=s.values,i(l=>({...l}))):n._resetDefaultValues()},[n,s.values]),X.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),t.current.formState=Xa(r,n),t.current}const xa=(s,t,a)=>{if(s&&"reportValidity"in s){const r=I(a,t);s.setCustomValidity(r&&r.message||""),s.reportValidity()}},As=(s,t)=>{for(const a in t.fields){const r=t.fields[a];r&&r.ref&&"reportValidity"in r.ref?xa(r.ref,a,s):r&&r.refs&&r.refs.forEach(i=>xa(i,a,s))}},fa=(s,t)=>{t.shouldUseNativeValidation&&As(s,t);const a={};for(const r in s){const i=I(t.fields,r),n=Object.assign(s[r]||{},{ref:i&&i.ref});if(un(t.names||Object.keys(s),r)){const l=Object.assign({},I(a,r));ce(l,"root",n),ce(a,r,l)}else ce(a,r,n)}return a},un=(s,t)=>{const a=ga(t);return s.some(r=>ga(r).match(`^${a}\\.\\d+`))};function ga(s){return s.replace(/\]|\[/g,"")}function lr(s,t,a){function r(o,c){var d;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(d=o._zod).traits??(d.traits=new Set),o._zod.traits.add(s),t(o,c);for(const u in l.prototype)u in o||Object.defineProperty(o,u,{value:l.prototype[u].bind(o)});o._zod.constr=l,o._zod.def=c}const i=(a==null?void 0:a.Parent)??Object;class n extends i{}Object.defineProperty(n,"name",{value:s});function l(o){var c;const d=a!=null&&a.Parent?new n:this;r(d,o),(c=d._zod).deferred??(c.deferred=[]);for(const u of d._zod.deferred)u();return d}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,d;return a!=null&&a.Parent&&o instanceof a.Parent?!0:(d=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:d.has(s)}}),Object.defineProperty(l,"name",{value:s}),l}class mn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const hn={};function or(s){return hn}function xn(s,t){return typeof t=="bigint"?t.toString():t}const cr=Error.captureStackTrace?Error.captureStackTrace:(...s)=>{};function Qt(s){return typeof s=="string"?s:s==null?void 0:s.message}function dr(s,t,a){var i,n,l,o,c,d;const r={...s,path:s.path??[]};if(!s.message){const u=Qt((l=(n=(i=s.inst)==null?void 0:i._zod.def)==null?void 0:n.error)==null?void 0:l.call(n,s))??Qt((o=t==null?void 0:t.error)==null?void 0:o.call(t,s))??Qt((c=a.customError)==null?void 0:c.call(a,s))??Qt((d=a.localeError)==null?void 0:d.call(a,s))??"Invalid input";r.message=u}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}const ur=(s,t)=>{s.name="$ZodError",Object.defineProperty(s,"_zod",{value:s._zod,enumerable:!1}),Object.defineProperty(s,"issues",{value:t,enumerable:!1}),Object.defineProperty(s,"message",{get(){return JSON.stringify(t,xn,2)},enumerable:!0}),Object.defineProperty(s,"toString",{value:()=>s.message,enumerable:!1})},fn=lr("$ZodError",ur),mr=lr("$ZodError",ur,{Parent:Error}),gn=s=>(t,a,r,i)=>{const n=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:a,issues:[]},n);if(l instanceof Promise)throw new mn;if(l.issues.length){const o=new((i==null?void 0:i.Err)??s)(l.issues.map(c=>dr(c,n,or())));throw cr(o,i==null?void 0:i.callee),o}return l.value},pn=gn(mr),yn=s=>async(t,a,r,i)=>{const n=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:a,issues:[]},n);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((i==null?void 0:i.Err)??s)(l.issues.map(c=>dr(c,n,or())));throw cr(o,i==null?void 0:i.callee),o}return l.value},bn=yn(mr);function pa(s,t){try{var a=s()}catch(r){return t(r)}return a&&a.then?a.then(void 0,t):a}function vn(s,t){for(var a={};s.length;){var r=s[0],i=r.code,n=r.message,l=r.path.join(".");if(!a[l])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];a[l]={message:o.message,type:o.code}}else a[l]={message:n,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(x){return s.push(x)})}),t){var c=a[l].types,d=c&&c[r.code];a[l]=Bs(l,t,a,i,d?[].concat(d,r.message):r.message)}s.shift()}return a}function jn(s,t){for(var a={};s.length;){var r=s[0],i=r.code,n=r.message,l=r.path.join(".");if(!a[l])if(r.code==="invalid_union"&&r.errors.length>0){var o=r.errors[0][0];a[l]={message:o.message,type:o.code}}else a[l]={message:n,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(u){return u.forEach(function(x){return s.push(x)})}),t){var c=a[l].types,d=c&&c[r.code];a[l]=Bs(l,t,a,i,d?[].concat(d,r.message):r.message)}s.shift()}return a}function Nn(s,t,a){if(a===void 0&&(a={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(s))return function(r,i,n){try{return Promise.resolve(pa(function(){return Promise.resolve(s[a.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return n.shouldUseNativeValidation&&As({},n),{errors:{},values:a.raw?Object.assign({},r):l}})},function(l){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(l))return{values:{},errors:fa(vn(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(s))return function(r,i,n){try{return Promise.resolve(pa(function(){return Promise.resolve((a.mode==="sync"?pn:bn)(s,r,t)).then(function(l){return n.shouldUseNativeValidation&&As({},n),{errors:{},values:a.raw?Object.assign({},r):l}})},function(l){if(function(o){return o instanceof fn}(l))return{values:{},errors:fa(jn(l.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}var le;(function(s){s.assertEqual=i=>{};function t(i){}s.assertIs=t;function a(i){throw new Error}s.assertNever=a,s.arrayToEnum=i=>{const n={};for(const l of i)n[l]=l;return n},s.getValidEnumValues=i=>{const n=s.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),l={};for(const o of n)l[o]=i[o];return s.objectValues(l)},s.objectValues=i=>s.objectKeys(i).map(function(n){return i[n]}),s.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const n=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.push(l);return n},s.find=(i,n)=>{for(const l of i)if(n(l))return l},s.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,n=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(n)}s.joinValues=r,s.jsonStringifyReplacer=(i,n)=>typeof n=="bigint"?n.toString():n})(le||(le={}));var ya;(function(s){s.mergeShapes=(t,a)=>({...t,...a})})(ya||(ya={}));const Z=le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),it=s=>{switch(typeof s){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return Number.isNaN(s)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(s)?Z.array:s===null?Z.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?Z.promise:typeof Map<"u"&&s instanceof Map?Z.map:typeof Set<"u"&&s instanceof Set?Z.set:typeof Date<"u"&&s instanceof Date?Z.date:Z.object;default:return Z.unknown}},S=le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class tt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}format(t){const a=t||function(n){return n.message},r={_errors:[]},i=n=>{for(const l of n.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(a(l));else{let o=r,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(a(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof tt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},r=[];for(const i of this.issues)if(i.path.length>0){const n=i.path[0];a[n]=a[n]||[],a[n].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:a}}get formErrors(){return this.flatten()}}tt.create=s=>new tt(s);const Ts=(s,t)=>{let a;switch(s.code){case S.invalid_type:s.received===Z.undefined?a="Required":a=`Expected ${s.expected}, received ${s.received}`;break;case S.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(s.expected,le.jsonStringifyReplacer)}`;break;case S.unrecognized_keys:a=`Unrecognized key(s) in object: ${le.joinValues(s.keys,", ")}`;break;case S.invalid_union:a="Invalid input";break;case S.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${le.joinValues(s.options)}`;break;case S.invalid_enum_value:a=`Invalid enum value. Expected ${le.joinValues(s.options)}, received '${s.received}'`;break;case S.invalid_arguments:a="Invalid function arguments";break;case S.invalid_return_type:a="Invalid function return type";break;case S.invalid_date:a="Invalid date";break;case S.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(a=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?a=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?a=`Invalid input: must end with "${s.validation.endsWith}"`:le.assertNever(s.validation):s.validation!=="regex"?a=`Invalid ${s.validation}`:a="Invalid";break;case S.too_small:s.type==="array"?a=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?a=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?a=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="bigint"?a=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?a=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:a="Invalid input";break;case S.too_big:s.type==="array"?a=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?a=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?a=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?a=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?a=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:a="Invalid input";break;case S.custom:a="Invalid input";break;case S.invalid_intersection_types:a="Intersection results could not be merged";break;case S.not_multiple_of:a=`Number must be a multiple of ${s.multipleOf}`;break;case S.not_finite:a="Number must be finite";break;default:a=t.defaultError,le.assertNever(s)}return{message:a}};let wn=Ts;function _n(){return wn}const kn=s=>{const{data:t,path:a,errorMaps:r,issueData:i}=s,n=[...a,...i.path||[]],l={...i,path:n};if(i.message!==void 0)return{...i,path:n,message:i.message};let o="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:t,defaultError:o}).message;return{...i,path:n,message:o}};function O(s,t){const a=_n(),r=kn({issueData:t,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,a,a===Ts?void 0:Ts].filter(i=>!!i)});s.common.issues.push(r)}class Fe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,a){const r=[];for(const i of a){if(i.status==="aborted")return J;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,a){const r=[];for(const i of a){const n=await i.key,l=await i.value;r.push({key:n,value:l})}return Fe.mergeObjectSync(t,r)}static mergeObjectSync(t,a){const r={};for(const i of a){const{key:n,value:l}=i;if(n.status==="aborted"||l.status==="aborted")return J;n.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),n.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[n.value]=l.value)}return{status:t.value,value:r}}}const J=Object.freeze({status:"aborted"}),Vt=s=>({status:"dirty",value:s}),Oe=s=>({status:"valid",value:s}),ba=s=>s.status==="aborted",va=s=>s.status==="dirty",kt=s=>s.status==="valid",rs=s=>typeof Promise<"u"&&s instanceof Promise;var q;(function(s){s.errToObj=t=>typeof t=="string"?{message:t}:t||{},s.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(q||(q={}));class ut{constructor(t,a,r,i){this._cachedPath=[],this.parent=t,this.data=a,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ja=(s,t)=>{if(kt(t))return{success:!0,data:t.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new tt(s.common.issues);return this._error=a,this._error}}};function te(s){if(!s)return{};const{errorMap:t,invalid_type_error:a,required_error:r,description:i}=s;if(t&&(a||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(l,o)=>{const{message:c}=s;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??a??o.defaultError}},description:i}}class ne{get description(){return this._def.description}_getType(t){return it(t.data)}_getOrReturnCtx(t,a){return a||{common:t.parent.common,data:t.data,parsedType:it(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Fe,ctx:{common:t.parent.common,data:t.data,parsedType:it(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const a=this._parse(t);if(rs(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(t){const a=this._parse(t);return Promise.resolve(a)}parse(t,a){const r=this.safeParse(t,a);if(r.success)return r.data;throw r.error}safeParse(t,a){const r={common:{issues:[],async:(a==null?void 0:a.async)??!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:it(t)},i=this._parseSync({data:t,path:r.path,parent:r});return ja(r,i)}"~validate"(t){var r,i;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:it(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:a});return kt(n)?{value:n.value}:{issues:a.common.issues}}catch(n){(i=(r=n==null?void 0:n.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(n=>kt(n)?{value:n.value}:{issues:a.common.issues})}async parseAsync(t,a){const r=await this.safeParseAsync(t,a);if(r.success)return r.data;throw r.error}async safeParseAsync(t,a){const r={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:it(t)},i=this._parse({data:t,path:r.path,parent:r}),n=await(rs(i)?i:Promise.resolve(i));return ja(r,n)}refine(t,a){const r=i=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(i):a;return this._refinement((i,n)=>{const l=t(i),o=()=>n.addIssue({code:S.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(t,a){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof a=="function"?a(r,i):a),!1))}_refinement(t){return new St({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return dt.create(this,this._def)}nullable(){return At.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ye.create(this)}promise(){return ls.create(this,this._def)}or(t){return is.create([this,t],this._def)}and(t){return ns.create(this,t,this._def)}transform(t){return new St({...te(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const a=typeof t=="function"?t:()=>t;return new Ls({...te(this._def),innerType:this,defaultValue:a,typeName:K.ZodDefault})}brand(){return new Gn({typeName:K.ZodBranded,type:this,...te(this._def)})}catch(t){const a=typeof t=="function"?t:()=>t;return new Vs({...te(this._def),innerType:this,catchValue:a,typeName:K.ZodCatch})}describe(t){const a=this.constructor;return new a({...this._def,description:t})}pipe(t){return Ws.create(this,t)}readonly(){return Fs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Cn=/^c[^\s-]{8,}$/i,En=/^[0-9a-z]+$/,Sn=/^[0-9A-HJKMNP-TV-Z]{26}$/i,An=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Tn=/^[a-z0-9_-]{21}$/i,Pn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,In=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ln=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ns;const Fn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Rn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,On=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Dn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Mn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$n=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zn=new RegExp(`^${hr}$`);function xr(s){let t="[0-5]\\d";s.precision?t=`${t}\\.\\d{${s.precision}}`:s.precision==null&&(t=`${t}(\\.\\d+)?`);const a=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}function Un(s){return new RegExp(`^${xr(s)}$`)}function Bn(s){let t=`${hr}T${xr(s)}`;const a=[];return a.push(s.local?"Z?":"Z"),s.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}function Zn(s,t){return!!((t==="v4"||!t)&&Fn.test(s)||(t==="v6"||!t)&&On.test(s))}function qn(s,t){if(!Pn.test(s))return!1;try{const[a]=s.split(".");if(!a)return!1;const r=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function Wn(s,t){return!!((t==="v4"||!t)&&Rn.test(s)||(t==="v6"||!t)&&Dn.test(s))}class lt extends ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Z.string){const n=this._getOrReturnCtx(t);return O(n,{code:S.invalid_type,expected:Z.string,received:n.parsedType}),J}const r=new Fe;let i;for(const n of this._def.checks)if(n.kind==="min")t.data.length<n.value&&(i=this._getOrReturnCtx(t,i),O(i,{code:S.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")t.data.length>n.value&&(i=this._getOrReturnCtx(t,i),O(i,{code:S.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const l=t.data.length>n.value,o=t.data.length<n.value;(l||o)&&(i=this._getOrReturnCtx(t,i),l?O(i,{code:S.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&O(i,{code:S.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")Ln.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"email",code:S.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")Ns||(Ns=new RegExp(Vn,"u")),Ns.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"emoji",code:S.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")An.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"uuid",code:S.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")Tn.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"nanoid",code:S.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")Cn.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"cuid",code:S.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")En.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"cuid2",code:S.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")Sn.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"ulid",code:S.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),O(i,{validation:"url",code:S.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"regex",code:S.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?t.data=t.data.trim():n.kind==="includes"?t.data.includes(n.value,n.position)||(i=this._getOrReturnCtx(t,i),O(i,{code:S.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?t.data=t.data.toLowerCase():n.kind==="toUpperCase"?t.data=t.data.toUpperCase():n.kind==="startsWith"?t.data.startsWith(n.value)||(i=this._getOrReturnCtx(t,i),O(i,{code:S.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?t.data.endsWith(n.value)||(i=this._getOrReturnCtx(t,i),O(i,{code:S.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?Bn(n).test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{code:S.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?zn.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{code:S.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?Un(n).test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{code:S.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?In.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"duration",code:S.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?Zn(t.data,n.version)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"ip",code:S.invalid_string,message:n.message}),r.dirty()):n.kind==="jwt"?qn(t.data,n.alg)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"jwt",code:S.invalid_string,message:n.message}),r.dirty()):n.kind==="cidr"?Wn(t.data,n.version)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"cidr",code:S.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?Mn.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"base64",code:S.invalid_string,message:n.message}),r.dirty()):n.kind==="base64url"?$n.test(t.data)||(i=this._getOrReturnCtx(t,i),O(i,{validation:"base64url",code:S.invalid_string,message:n.message}),r.dirty()):le.assertNever(n);return{status:r.value,value:t.data}}_regex(t,a,r){return this.refinement(i=>t.test(i),{validation:a,code:S.invalid_string,...q.errToObj(r)})}_addCheck(t){return new lt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...q.errToObj(t)})}url(t){return this._addCheck({kind:"url",...q.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...q.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...q.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...q.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...q.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...q.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...q.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...q.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...q.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...q.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...q.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...q.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...q.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...q.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...q.errToObj(t)})}regex(t,a){return this._addCheck({kind:"regex",regex:t,...q.errToObj(a)})}includes(t,a){return this._addCheck({kind:"includes",value:t,position:a==null?void 0:a.position,...q.errToObj(a==null?void 0:a.message)})}startsWith(t,a){return this._addCheck({kind:"startsWith",value:t,...q.errToObj(a)})}endsWith(t,a){return this._addCheck({kind:"endsWith",value:t,...q.errToObj(a)})}min(t,a){return this._addCheck({kind:"min",value:t,...q.errToObj(a)})}max(t,a){return this._addCheck({kind:"max",value:t,...q.errToObj(a)})}length(t,a){return this._addCheck({kind:"length",value:t,...q.errToObj(a)})}nonempty(t){return this.min(1,q.errToObj(t))}trim(){return new lt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new lt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new lt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxLength(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}lt.create=s=>new lt({checks:[],typeName:K.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...te(s)});function Yn(s,t){const a=(s.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=a>r?a:r,n=Number.parseInt(s.toFixed(i).replace(".","")),l=Number.parseInt(t.toFixed(i).replace(".",""));return n%l/10**i}class Ct extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Z.number){const n=this._getOrReturnCtx(t);return O(n,{code:S.invalid_type,expected:Z.number,received:n.parsedType}),J}let r;const i=new Fe;for(const n of this._def.checks)n.kind==="int"?le.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),O(r,{code:S.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty()):n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(r=this._getOrReturnCtx(t,r),O(r,{code:S.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(r=this._getOrReturnCtx(t,r),O(r,{code:S.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),i.dirty()):n.kind==="multipleOf"?Yn(t.data,n.value)!==0&&(r=this._getOrReturnCtx(t,r),O(r,{code:S.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):n.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),O(r,{code:S.not_finite,message:n.message}),i.dirty()):le.assertNever(n);return{status:i.value,value:t.data}}gte(t,a){return this.setLimit("min",t,!0,q.toString(a))}gt(t,a){return this.setLimit("min",t,!1,q.toString(a))}lte(t,a){return this.setLimit("max",t,!0,q.toString(a))}lt(t,a){return this.setLimit("max",t,!1,q.toString(a))}setLimit(t,a,r,i){return new Ct({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:r,message:q.toString(i)}]})}_addCheck(t){return new Ct({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:q.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(a)})}finite(t){return this._addCheck({kind:"finite",message:q.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(t)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&le.isInteger(t.value))}get isFinite(){let t=null,a=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(a===null||r.value>a)&&(a=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(a)&&Number.isFinite(t)}}Ct.create=s=>new Ct({checks:[],typeName:K.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...te(s)});class $t extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Z.bigint)return this._getInvalidInput(t);let r;const i=new Fe;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(r=this._getOrReturnCtx(t,r),O(r,{code:S.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(r=this._getOrReturnCtx(t,r),O(r,{code:S.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),i.dirty()):n.kind==="multipleOf"?t.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),O(r,{code:S.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):le.assertNever(n);return{status:i.value,value:t.data}}_getInvalidInput(t){const a=this._getOrReturnCtx(t);return O(a,{code:S.invalid_type,expected:Z.bigint,received:a.parsedType}),J}gte(t,a){return this.setLimit("min",t,!0,q.toString(a))}gt(t,a){return this.setLimit("min",t,!1,q.toString(a))}lte(t,a){return this.setLimit("max",t,!0,q.toString(a))}lt(t,a){return this.setLimit("max",t,!1,q.toString(a))}setLimit(t,a,r,i){return new $t({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:r,message:q.toString(i)}]})}_addCheck(t){return new $t({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(a)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}$t.create=s=>new $t({checks:[],typeName:K.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...te(s)});class Ps extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Z.boolean){const r=this._getOrReturnCtx(t);return O(r,{code:S.invalid_type,expected:Z.boolean,received:r.parsedType}),J}return Oe(t.data)}}Ps.create=s=>new Ps({typeName:K.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...te(s)});class zt extends ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Z.date){const n=this._getOrReturnCtx(t);return O(n,{code:S.invalid_type,expected:Z.date,received:n.parsedType}),J}if(Number.isNaN(t.data.getTime())){const n=this._getOrReturnCtx(t);return O(n,{code:S.invalid_date}),J}const r=new Fe;let i;for(const n of this._def.checks)n.kind==="min"?t.data.getTime()<n.value&&(i=this._getOrReturnCtx(t,i),O(i,{code:S.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?t.data.getTime()>n.value&&(i=this._getOrReturnCtx(t,i),O(i,{code:S.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):le.assertNever(n);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new zt({...this._def,checks:[...this._def.checks,t]})}min(t,a){return this._addCheck({kind:"min",value:t.getTime(),message:q.toString(a)})}max(t,a){return this._addCheck({kind:"max",value:t.getTime(),message:q.toString(a)})}get minDate(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t!=null?new Date(t):null}}zt.create=s=>new zt({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:K.ZodDate,...te(s)});class Na extends ne{_parse(t){if(this._getType(t)!==Z.symbol){const r=this._getOrReturnCtx(t);return O(r,{code:S.invalid_type,expected:Z.symbol,received:r.parsedType}),J}return Oe(t.data)}}Na.create=s=>new Na({typeName:K.ZodSymbol,...te(s)});class wa extends ne{_parse(t){if(this._getType(t)!==Z.undefined){const r=this._getOrReturnCtx(t);return O(r,{code:S.invalid_type,expected:Z.undefined,received:r.parsedType}),J}return Oe(t.data)}}wa.create=s=>new wa({typeName:K.ZodUndefined,...te(s)});class _a extends ne{_parse(t){if(this._getType(t)!==Z.null){const r=this._getOrReturnCtx(t);return O(r,{code:S.invalid_type,expected:Z.null,received:r.parsedType}),J}return Oe(t.data)}}_a.create=s=>new _a({typeName:K.ZodNull,...te(s)});class ka extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return Oe(t.data)}}ka.create=s=>new ka({typeName:K.ZodAny,...te(s)});class Ca extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Oe(t.data)}}Ca.create=s=>new Ca({typeName:K.ZodUnknown,...te(s)});class mt extends ne{_parse(t){const a=this._getOrReturnCtx(t);return O(a,{code:S.invalid_type,expected:Z.never,received:a.parsedType}),J}}mt.create=s=>new mt({typeName:K.ZodNever,...te(s)});class Ea extends ne{_parse(t){if(this._getType(t)!==Z.undefined){const r=this._getOrReturnCtx(t);return O(r,{code:S.invalid_type,expected:Z.void,received:r.parsedType}),J}return Oe(t.data)}}Ea.create=s=>new Ea({typeName:K.ZodVoid,...te(s)});class Ye extends ne{_parse(t){const{ctx:a,status:r}=this._processInputParams(t),i=this._def;if(a.parsedType!==Z.array)return O(a,{code:S.invalid_type,expected:Z.array,received:a.parsedType}),J;if(i.exactLength!==null){const l=a.data.length>i.exactLength.value,o=a.data.length<i.exactLength.value;(l||o)&&(O(a,{code:l?S.too_big:S.too_small,minimum:o?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&a.data.length<i.minLength.value&&(O(a,{code:S.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&a.data.length>i.maxLength.value&&(O(a,{code:S.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),a.common.async)return Promise.all([...a.data].map((l,o)=>i.type._parseAsync(new ut(a,l,a.path,o)))).then(l=>Fe.mergeArray(r,l));const n=[...a.data].map((l,o)=>i.type._parseSync(new ut(a,l,a.path,o)));return Fe.mergeArray(r,n)}get element(){return this._def.type}min(t,a){return new Ye({...this._def,minLength:{value:t,message:q.toString(a)}})}max(t,a){return new Ye({...this._def,maxLength:{value:t,message:q.toString(a)}})}length(t,a){return new Ye({...this._def,exactLength:{value:t,message:q.toString(a)}})}nonempty(t){return this.min(1,t)}}Ye.create=(s,t)=>new Ye({type:s,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...te(t)});function wt(s){if(s instanceof pe){const t={};for(const a in s.shape){const r=s.shape[a];t[a]=dt.create(wt(r))}return new pe({...s._def,shape:()=>t})}else return s instanceof Ye?new Ye({...s._def,type:wt(s.element)}):s instanceof dt?dt.create(wt(s.unwrap())):s instanceof At?At.create(wt(s.unwrap())):s instanceof gt?gt.create(s.items.map(t=>wt(t))):s}class pe extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),a=le.objectKeys(t);return this._cached={shape:t,keys:a},this._cached}_parse(t){if(this._getType(t)!==Z.object){const d=this._getOrReturnCtx(t);return O(d,{code:S.invalid_type,expected:Z.object,received:d.parsedType}),J}const{status:r,ctx:i}=this._processInputParams(t),{shape:n,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof mt&&this._def.unknownKeys==="strip"))for(const d in i.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=n[d],x=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ut(i,x,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof mt){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")o.length>0&&(O(i,{code:S.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const x=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ut(i,x,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const x=await u.key,h=await u.value;d.push({key:x,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>Fe.mergeObjectSync(r,d)):Fe.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return q.errToObj,new pe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(a,r)=>{var n,l;const i=((l=(n=this._def).errorMap)==null?void 0:l.call(n,a,r).message)??r.defaultError;return a.code==="unrecognized_keys"?{message:q.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(t){return new pe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new pe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:K.ZodObject})}setKey(t,a){return this.augment({[t]:a})}catchall(t){return new pe({...this._def,catchall:t})}pick(t){const a={};for(const r of le.objectKeys(t))t[r]&&this.shape[r]&&(a[r]=this.shape[r]);return new pe({...this._def,shape:()=>a})}omit(t){const a={};for(const r of le.objectKeys(this.shape))t[r]||(a[r]=this.shape[r]);return new pe({...this._def,shape:()=>a})}deepPartial(){return wt(this)}partial(t){const a={};for(const r of le.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?a[r]=i:a[r]=i.optional()}return new pe({...this._def,shape:()=>a})}required(t){const a={};for(const r of le.objectKeys(this.shape))if(t&&!t[r])a[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof dt;)n=n._def.innerType;a[r]=n}return new pe({...this._def,shape:()=>a})}keyof(){return fr(le.objectKeys(this.shape))}}pe.create=(s,t)=>new pe({shape:()=>s,unknownKeys:"strip",catchall:mt.create(),typeName:K.ZodObject,...te(t)});pe.strictCreate=(s,t)=>new pe({shape:()=>s,unknownKeys:"strict",catchall:mt.create(),typeName:K.ZodObject,...te(t)});pe.lazycreate=(s,t)=>new pe({shape:s,unknownKeys:"strip",catchall:mt.create(),typeName:K.ZodObject,...te(t)});class is extends ne{_parse(t){const{ctx:a}=this._processInputParams(t),r=this._def.options;function i(n){for(const o of n)if(o.result.status==="valid")return o.result;for(const o of n)if(o.result.status==="dirty")return a.common.issues.push(...o.ctx.common.issues),o.result;const l=n.map(o=>new tt(o.ctx.common.issues));return O(a,{code:S.invalid_union,unionErrors:l}),J}if(a.common.async)return Promise.all(r.map(async n=>{const l={...a,common:{...a.common,issues:[]},parent:null};return{result:await n._parseAsync({data:a.data,path:a.path,parent:l}),ctx:l}})).then(i);{let n;const l=[];for(const c of r){const d={...a,common:{...a.common,issues:[]},parent:null},u=c._parseSync({data:a.data,path:a.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!n&&(n={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(n)return a.common.issues.push(...n.ctx.common.issues),n.result;const o=l.map(c=>new tt(c));return O(a,{code:S.invalid_union,unionErrors:o}),J}}get options(){return this._def.options}}is.create=(s,t)=>new is({options:s,typeName:K.ZodUnion,...te(t)});function Is(s,t){const a=it(s),r=it(t);if(s===t)return{valid:!0,data:s};if(a===Z.object&&r===Z.object){const i=le.objectKeys(t),n=le.objectKeys(s).filter(o=>i.indexOf(o)!==-1),l={...s,...t};for(const o of n){const c=Is(s[o],t[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(a===Z.array&&r===Z.array){if(s.length!==t.length)return{valid:!1};const i=[];for(let n=0;n<s.length;n++){const l=s[n],o=t[n],c=Is(l,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return a===Z.date&&r===Z.date&&+s==+t?{valid:!0,data:s}:{valid:!1}}class ns extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t),i=(n,l)=>{if(ba(n)||ba(l))return J;const o=Is(n.value,l.value);return o.valid?((va(n)||va(l))&&a.dirty(),{status:a.value,value:o.data}):(O(r,{code:S.invalid_intersection_types}),J)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,l])=>i(n,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ns.create=(s,t,a)=>new ns({left:s,right:t,typeName:K.ZodIntersection,...te(a)});class gt extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.array)return O(r,{code:S.invalid_type,expected:Z.array,received:r.parsedType}),J;if(r.data.length<this._def.items.length)return O(r,{code:S.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),J;!this._def.rest&&r.data.length>this._def.items.length&&(O(r,{code:S.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const n=[...r.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ut(r,l,r.path,o)):null}).filter(l=>!!l);return r.common.async?Promise.all(n).then(l=>Fe.mergeArray(a,l)):Fe.mergeArray(a,n)}get items(){return this._def.items}rest(t){return new gt({...this._def,rest:t})}}gt.create=(s,t)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gt({items:s,typeName:K.ZodTuple,rest:null,...te(t)})};class Sa extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.map)return O(r,{code:S.invalid_type,expected:Z.map,received:r.parsedType}),J;const i=this._def.keyType,n=this._def.valueType,l=[...r.data.entries()].map(([o,c],d)=>({key:i._parse(new ut(r,o,r.path,[d,"key"])),value:n._parse(new ut(r,c,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return J;(d.status==="dirty"||u.status==="dirty")&&a.dirty(),o.set(d.value,u.value)}return{status:a.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return J;(d.status==="dirty"||u.status==="dirty")&&a.dirty(),o.set(d.value,u.value)}return{status:a.value,value:o}}}}Sa.create=(s,t,a)=>new Sa({valueType:t,keyType:s,typeName:K.ZodMap,...te(a)});class Ut extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.set)return O(r,{code:S.invalid_type,expected:Z.set,received:r.parsedType}),J;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(O(r,{code:S.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),a.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(O(r,{code:S.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),a.dirty());const n=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return J;u.status==="dirty"&&a.dirty(),d.add(u.value)}return{status:a.value,value:d}}const o=[...r.data.values()].map((c,d)=>n._parse(new ut(r,c,r.path,d)));return r.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(t,a){return new Ut({...this._def,minSize:{value:t,message:q.toString(a)}})}max(t,a){return new Ut({...this._def,maxSize:{value:t,message:q.toString(a)}})}size(t,a){return this.min(t,a).max(t,a)}nonempty(t){return this.min(1,t)}}Ut.create=(s,t)=>new Ut({valueType:s,minSize:null,maxSize:null,typeName:K.ZodSet,...te(t)});class Aa extends ne{get schema(){return this._def.getter()}_parse(t){const{ctx:a}=this._processInputParams(t);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Aa.create=(s,t)=>new Aa({getter:s,typeName:K.ZodLazy,...te(t)});class Ta extends ne{_parse(t){if(t.data!==this._def.value){const a=this._getOrReturnCtx(t);return O(a,{received:a.data,code:S.invalid_literal,expected:this._def.value}),J}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ta.create=(s,t)=>new Ta({value:s,typeName:K.ZodLiteral,...te(t)});function fr(s,t){return new Et({values:s,typeName:K.ZodEnum,...te(t)})}class Et extends ne{_parse(t){if(typeof t.data!="string"){const a=this._getOrReturnCtx(t),r=this._def.values;return O(a,{expected:le.joinValues(r),received:a.parsedType,code:S.invalid_type}),J}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const a=this._getOrReturnCtx(t),r=this._def.values;return O(a,{received:a.data,code:S.invalid_enum_value,options:r}),J}return Oe(t.data)}get options(){return this._def.values}get enum(){const t={};for(const a of this._def.values)t[a]=a;return t}get Values(){const t={};for(const a of this._def.values)t[a]=a;return t}get Enum(){const t={};for(const a of this._def.values)t[a]=a;return t}extract(t,a=this._def){return Et.create(t,{...this._def,...a})}exclude(t,a=this._def){return Et.create(this.options.filter(r=>!t.includes(r)),{...this._def,...a})}}Et.create=fr;class Pa extends ne{_parse(t){const a=le.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Z.string&&r.parsedType!==Z.number){const i=le.objectValues(a);return O(r,{expected:le.joinValues(i),received:r.parsedType,code:S.invalid_type}),J}if(this._cache||(this._cache=new Set(le.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=le.objectValues(a);return O(r,{received:r.data,code:S.invalid_enum_value,options:i}),J}return Oe(t.data)}get enum(){return this._def.values}}Pa.create=(s,t)=>new Pa({values:s,typeName:K.ZodNativeEnum,...te(t)});class ls extends ne{unwrap(){return this._def.type}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==Z.promise&&a.common.async===!1)return O(a,{code:S.invalid_type,expected:Z.promise,received:a.parsedType}),J;const r=a.parsedType===Z.promise?a.data:Promise.resolve(a.data);return Oe(r.then(i=>this._def.type.parseAsync(i,{path:a.path,errorMap:a.common.contextualErrorMap})))}}ls.create=(s,t)=>new ls({type:s,typeName:K.ZodPromise,...te(t)});class St extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:a,ctx:r}=this._processInputParams(t),i=this._def.effect||null,n={addIssue:l=>{O(r,l),l.fatal?a.abort():a.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),i.type==="preprocess"){const l=i.transform(r.data,n);if(r.common.async)return Promise.resolve(l).then(async o=>{if(a.value==="aborted")return J;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?J:c.status==="dirty"||a.value==="dirty"?Vt(c.value):c});{if(a.value==="aborted")return J;const o=this._def.schema._parseSync({data:l,path:r.path,parent:r});return o.status==="aborted"?J:o.status==="dirty"||a.value==="dirty"?Vt(o.value):o}}if(i.type==="refinement"){const l=o=>{const c=i.refinement(o,n);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?J:(o.status==="dirty"&&a.dirty(),l(o.value),{status:a.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?J:(o.status==="dirty"&&a.dirty(),l(o.value).then(()=>({status:a.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kt(l))return J;const o=i.transform(l.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>kt(l)?Promise.resolve(i.transform(l.value,n)).then(o=>({status:a.value,value:o})):J);le.assertNever(i)}}St.create=(s,t,a)=>new St({schema:s,typeName:K.ZodEffects,effect:t,...te(a)});St.createWithPreprocess=(s,t,a)=>new St({schema:t,effect:{type:"preprocess",transform:s},typeName:K.ZodEffects,...te(a)});class dt extends ne{_parse(t){return this._getType(t)===Z.undefined?Oe(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}dt.create=(s,t)=>new dt({innerType:s,typeName:K.ZodOptional,...te(t)});class At extends ne{_parse(t){return this._getType(t)===Z.null?Oe(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}At.create=(s,t)=>new At({innerType:s,typeName:K.ZodNullable,...te(t)});class Ls extends ne{_parse(t){const{ctx:a}=this._processInputParams(t);let r=a.data;return a.parsedType===Z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Ls.create=(s,t)=>new Ls({innerType:s,typeName:K.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...te(t)});class Vs extends ne{_parse(t){const{ctx:a}=this._processInputParams(t),r={...a,common:{...a.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rs(i)?i.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new tt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new tt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vs.create=(s,t)=>new Vs({innerType:s,typeName:K.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...te(t)});class Ia extends ne{_parse(t){if(this._getType(t)!==Z.nan){const r=this._getOrReturnCtx(t);return O(r,{code:S.invalid_type,expected:Z.nan,received:r.parsedType}),J}return{status:"valid",value:t.data}}}Ia.create=s=>new Ia({typeName:K.ZodNaN,...te(s)});class Gn extends ne{_parse(t){const{ctx:a}=this._processInputParams(t),r=a.data;return this._def.type._parse({data:r,path:a.path,parent:a})}unwrap(){return this._def.type}}class Ws extends ne{_parse(t){const{status:a,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?J:n.status==="dirty"?(a.dirty(),Vt(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?J:i.status==="dirty"?(a.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,a){return new Ws({in:t,out:a,typeName:K.ZodPipeline})}}class Fs extends ne{_parse(t){const a=this._def.innerType._parse(t),r=i=>(kt(i)&&(i.value=Object.freeze(i.value)),i);return rs(a)?a.then(i=>r(i)):r(a)}unwrap(){return this._def.innerType}}Fs.create=(s,t)=>new Fs({innerType:s,typeName:K.ZodReadonly,...te(t)});var K;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(K||(K={}));const re=lt.create,_t=Ct.create,ve=Ps.create,Rs=zt.create;mt.create;const Ue=Ye.create,xe=pe.create;is.create;ns.create;gt.create;const Ge=Et.create;ls.create;dt.create;At.create;const Hn=xe({email:re().min(1,"Email is required").email("Please enter a valid email address"),displayName:re().min(2,"Display name must be at least 2 characters").max(50,"Display name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_]+$/,"Display name can only contain letters, numbers, spaces, hyphens, and underscores"),phoneNumber:re().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid phone number"),whatsappNumber:re().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid WhatsApp number"),bio:re().max(500,"Bio must be less than 500 characters").optional(),interests:Ue(re()).max(10,"You can select up to 10 interests"),dietaryPreferences:Ue(re()).max(10,"You can select up to 10 dietary preferences"),address:xe({street:re().min(1,"Street address is required"),city:re().min(1,"City is required"),postalCode:re().min(1,"Postal code is required")}).optional(),privacy:xe({phoneVisible:ve(),whatsappVisible:ve(),addressVisible:ve()})});xe({email:re().min(1,"Email is required").email("Please enter a valid email address"),password:re().min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters")});xe({email:re().min(1,"Email is required").email("Please enter a valid email address")});const Qn=xe({title:re().min(3,"Event title must be at least 3 characters").max(100,"Event title must be less than 100 characters"),description:re().min(10,"Event description must be at least 10 characters").max(2e3,"Event description must be less than 2000 characters"),type:Ge(["birthday","potluck","farewell","celebration","other"]),visibility:Ge(["public","private"]),dateTime:Rs().min(new Date,"Event date and time must be in the future"),duration:_t().min(15,"Event duration must be at least 15 minutes").max(480,"Event duration cannot exceed 8 hours"),location:xe({name:re().min(1,"Location name is required").max(100,"Location name must be less than 100 characters"),address:re().min(1,"Address is required").max(200,"Address must be less than 200 characters"),coordinates:xe({lat:_t().min(-90).max(90),lng:_t().min(-180).max(180)}).optional()}),capacity:_t().min(1,"Capacity must be at least 1").max(1e3,"Capacity cannot exceed 1000").optional(),bringList:xe({enabled:ve(),items:Ue(xe({item:re().min(1,"Item name is required").max(50,"Item name must be less than 50 characters"),quantity:_t().min(1,"Quantity must be at least 1").max(100,"Quantity cannot exceed 100")})).max(20,"Cannot have more than 20 items on bring list")})});Qn.partial().extend({status:Ge(["draft","published","cancelled","completed"]).optional()});xe({status:Ge(["going","maybe","not_going"]),guestCount:_t().min(0,"Guest count cannot be negative").max(10,"Cannot bring more than 10 guests").default(0),bringItems:Ue(re()).max(10,"Cannot claim more than 10 items").optional()});xe({displayName:re().min(2,"Display name must be at least 2 characters").max(50,"Display name must be less than 50 characters").regex(/^[a-zA-Z0-9\s\-_]+$/,"Display name can only contain letters, numbers, spaces, hyphens, and underscores").optional(),phoneNumber:re().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid phone number"),whatsappNumber:re().optional().refine(s=>!s||/^\+?[\d\s\-\(\)]{10,}$/.test(s),"Please enter a valid WhatsApp number"),bio:re().max(500,"Bio must be less than 500 characters").optional(),interests:Ue(re()).max(10,"You can select up to 10 interests").optional(),dietaryPreferences:Ue(re()).max(10,"You can select up to 10 dietary preferences").optional(),address:xe({street:re().min(1,"Street address is required"),city:re().min(1,"City is required"),postalCode:re().min(1,"Postal code is required")}).optional(),privacy:xe({phoneVisible:ve(),whatsappVisible:ve(),addressVisible:ve()}).optional()});xe({query:re().max(100,"Search query must be less than 100 characters").optional(),interests:Ue(re()).max(10,"Cannot filter by more than 10 interests").optional(),availability:Ue(Ge(["weekdays","evenings","weekends"])).max(3).optional()});xe({query:re().max(100,"Search query must be less than 100 characters").optional(),type:Ue(Ge(["birthday","potluck","farewell","celebration","other"])).max(5).optional(),dateRange:xe({start:Rs(),end:Rs()}).optional(),location:re().max(100,"Location must be less than 100 characters").optional(),status:Ue(Ge(["draft","published","cancelled","completed"])).max(4).optional(),visibility:Ue(Ge(["public","private"])).max(2).optional()});xe({userId:re().min(1,"User ID is required"),action:Ge(["approve","suspend","activate"]),reason:re().max(500,"Reason must be less than 500 characters").optional()});xe({eventId:re().min(1,"Event ID is required"),action:Ge(["publish","cancel","feature"]),reason:re().max(500,"Reason must be less than 500 characters").optional()});xe({email:xe({eventInvites:ve(),eventUpdates:ve(),eventReminders:ve(),systemMessages:ve()}),inApp:xe({eventInvites:ve(),eventUpdates:ve(),eventReminders:ve(),systemMessages:ve()}),push:xe({eventInvites:ve(),eventUpdates:ve(),eventReminders:ve(),systemMessages:ve()})});const Jn=()=>{const[s,t]=N.useState(!1),[a,r]=N.useState(1),[i,n]=N.useState(!1),l=st(),{register:o,error:c,clearError:d}=ke(),{control:u,handleSubmit:x,formState:{errors:h,isValid:y},watch:w,setValue:L,trigger:v}=dn({resolver:Nn(Hn),mode:"onBlur",defaultValues:{email:"",displayName:"",phoneNumber:"",whatsappNumber:"",bio:"",interests:[],dietaryPreferences:[],address:{street:"",city:"",postalCode:""},privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1}}}),z=w("interests"),T=w("dietaryPreferences"),C=()=>{c&&d&&d()},p=["Cooking","Baking","Gardening","Photography","Music","Sports","Reading","Travel","Art","Technology","Volunteering","Fitness"],k=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Nut-Free","Kosher","Halal","Low-Carb","Paleo","Mediterranean"],f=async _=>{try{t(!0),console.log("🚀 Starting registration submission..."),console.log("📝 Form data:",_),d&&(d(),console.log("🧹 Cleared previous errors")),console.log("🔍 Running final validation...");const E=await v();if(console.log("✅ Form validation result:",E),!E){console.log("❌ Form validation failed"),H.error("Please fill in all required fields correctly."),t(!1);return}const V=Math.random().toString(36).slice(-12)+"A1!";console.log("🔑 Generated temporary password"),console.log("📤 Calling register function..."),await o(_.email,V,_.displayName,{phoneNumber:_.phoneNumber,whatsappNumber:_.whatsappNumber,bio:_.bio,interests:_.interests,dietaryPreferences:_.dietaryPreferences,address:_.address,privacy:_.privacy}),console.log("🎉 Registration successful!"),console.log("🔑 Temporary password:",V),H.success("🎉 Registration successful!",{duration:5e3,style:{background:"#10B981",color:"#fff",fontSize:"16px",fontWeight:"bold"}}),setTimeout(()=>{H.success(`🔑 Your temporary password: ${V}`,{duration:1e4,style:{background:"#F59E0B",color:"#000",fontSize:"16px",fontWeight:"bold",border:"2px solid #000"}})},1e3),setTimeout(()=>{l("/login")},3e3)}catch(E){console.error("❌ Registration submission error:",E),console.error("❌ Error details:",{message:E.message,code:E.code,stack:E.stack}),E.message?H.error(E.message):H.error("Registration failed. Please try again.")}finally{t(!1),console.log("🏁 Registration submission completed")}},j=async()=>{let _=[];switch(a){case 1:_=["email","displayName"];break;case 2:_=["phoneNumber","whatsappNumber","bio"];const V=w("address");(V!=null&&V.street||V!=null&&V.city||V!=null&&V.postalCode)&&(_.push("address.street"),_.push("address.city"),_.push("address.postalCode"));break;case 3:_=[];break;case 4:_=["privacy.phoneVisible","privacy.whatsappVisible","privacy.addressVisible"];break}await v(_)&&r(a+1)},ie=()=>{r(a-1)},ee=_=>{const E=z||[];E.includes(_)?L("interests",E.filter(V=>V!==_)):E.length<10&&L("interests",[...E,_])},D=_=>{const E=T||[];E.includes(_)?L("dietaryPreferences",E.filter(V=>V!==_)):E.length<10&&L("dietaryPreferences",[...E,_])};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join LCC Assemble"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Connect with your community through shared events and experiences"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-center space-x-4",children:[1,2,3,4].map(_=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${_<=a?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:_}),_<4&&e.jsx("div",{className:`w-12 h-1 mx-2 ${_<a?"bg-orange-500":"bg-gray-200"}`})]},_))}),e.jsxs("div",{className:"flex justify-center mt-2 space-x-8 text-sm text-gray-600",children:[e.jsx("span",{className:a>=1?"text-orange-600 font-medium":"",children:"Account"}),e.jsx("span",{className:a>=2?"text-orange-600 font-medium":"",children:"Profile"}),e.jsx("span",{className:a>=3?"text-orange-600 font-medium":"",children:"Preferences"}),e.jsx("span",{className:a>=4?"text-orange-600 font-medium":"",children:"Privacy"})]})]}),e.jsxs(G,{className:"p-8",children:[c&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),e.jsxs("form",{onSubmit:x(f),className:"space-y-6",children:[a===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create Your Account"}),e.jsx("p",{className:"text-sm text-gray-600",children:"* Required fields"}),e.jsx(Me,{name:"email",control:u,render:({field:_})=>{var E;return e.jsx(se,{..._,onChange:V=>{_.onChange(V),C()},type:"email",label:"Email Address *",placeholder:"your.email@example.com",error:(E=h.email)==null?void 0:E.message,required:!0})}}),e.jsx(Me,{name:"displayName",control:u,render:({field:_})=>{var E;return e.jsx(se,{..._,onChange:V=>{_.onChange(V),C()},label:"Display Name *",placeholder:"How you want to be known in the community",error:(E=h.displayName)==null?void 0:E.message,required:!0})}}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," You'll receive a secure temporary password after registration. You can change it later in your profile settings."]})})]}),a===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Tell Us About Yourself"}),e.jsx("p",{className:"text-sm text-gray-600",children:"All fields are optional but help us personalize your experience"}),e.jsx(Me,{name:"phoneNumber",control:u,render:({field:_})=>{var E;return e.jsx(se,{..._,value:_.value||"",type:"tel",label:"Phone Number (Optional)",placeholder:"+1 (555) 123-4567",error:(E=h.phoneNumber)==null?void 0:E.message})}}),e.jsx(Me,{name:"whatsappNumber",control:u,render:({field:_})=>{var E;return e.jsx(se,{..._,value:_.value||"",type:"tel",label:"WhatsApp Number (Optional)",placeholder:"+1 (555) 123-4567",error:(E=h.whatsappNumber)==null?void 0:E.message})}}),e.jsx(Me,{name:"bio",control:u,render:({field:_})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio (Optional)"}),e.jsx("textarea",{..._,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Tell us a bit about yourself..."}),h.bio&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.bio.message})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Address (Optional)"}),e.jsx(Me,{name:"address.street",control:u,render:({field:_})=>{var E,V;return e.jsx(se,{..._,label:"Street Address",placeholder:"123 Main Street",error:(V=(E=h.address)==null?void 0:E.street)==null?void 0:V.message})}}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Me,{name:"address.city",control:u,render:({field:_})=>{var E,V;return e.jsx(se,{..._,label:"City",placeholder:"Your City",error:(V=(E=h.address)==null?void 0:E.city)==null?void 0:V.message})}}),e.jsx(Me,{name:"address.postalCode",control:u,render:({field:_})=>{var E,V;return e.jsx(se,{..._,label:"Postal Code",placeholder:"A1A 1A1",error:(V=(E=h.address)==null?void 0:E.postalCode)==null?void 0:V.message})}})]})]})]}),a===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Your Interests & Preferences"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Optional selections to help us connect you with like-minded community members"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",e.jsx("strong",{children:"Tip:"}),' Select any interests or dietary preferences that match your lifestyle, or click "Next" to skip this step.']})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Interests (Select up to 10)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:p.map(_=>e.jsx("button",{type:"button",onClick:()=>ee(_),className:`px-3 py-2 text-sm rounded-full border transition-colors ${z!=null&&z.includes(_)?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:border-orange-300"}`,children:_},_))}),h.interests&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.interests.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Dietary Preferences (Select up to 10)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:k.map(_=>e.jsx("button",{type:"button",onClick:()=>D(_),className:`px-3 py-2 text-sm rounded-full border transition-colors ${T!=null&&T.includes(_)?"bg-green-500 text-white border-green-500":"bg-white text-gray-700 border-gray-300 hover:border-green-300"}`,children:_},_))}),h.dietaryPreferences&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.dietaryPreferences.message})]})]}),a===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Privacy Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Control what information is visible to other community members. These settings are required."}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["🔒 ",e.jsx("strong",{children:"Final Step:"}),' Set your privacy preferences and click "Join the Community" to complete your registration.']})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Me,{name:"privacy.phoneVisible",control:u,render:({field:_})=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:_.value,onChange:E=>{_.onChange(E),n(!0)},onBlur:_.onBlur,name:_.name,ref:_.ref,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Make phone number visible to other members"})]})}),e.jsx(Me,{name:"privacy.whatsappVisible",control:u,render:({field:_})=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:_.value,onChange:E=>{_.onChange(E),n(!0)},onBlur:_.onBlur,name:_.name,ref:_.ref,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Make WhatsApp number visible to other members"})]})}),e.jsx(Me,{name:"privacy.addressVisible",control:u,render:({field:_})=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:_.value,onChange:E=>{_.onChange(E),n(!0)},onBlur:_.onBlur,name:_.name,ref:_.ref,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Make address visible to other members"})]})})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Privacy Promise"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your privacy is important to us. You can change these settings anytime in your profile. We never share your information with third parties without your explicit consent."})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[a>1&&e.jsx($,{type:"button",variant:"outline",onClick:ie,disabled:s,children:"Previous"}),e.jsx("div",{className:"flex-1"}),a<4?e.jsx($,{type:"button",onClick:j,disabled:s,className:"px-6 py-2",children:"Next"}):e.jsx($,{type:"submit",disabled:s||!y||!i,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:_=>{if(!y||s||!i){_.preventDefault();return}},children:s?"Creating Account...":"Join the Community"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(qe,{to:"/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in here"})]})})]})]})})},Kn=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(G,{className:"p-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"LCC Assemble - Test Page"}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"If you can see this, React is working correctly!"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($,{onClick:()=>window.location.href="/login",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg",children:"Go to Login"}),e.jsx($,{onClick:()=>window.location.href="/register",variant:"outline",className:"ml-4",children:"Go to Registration"})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Debug Info:"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["URL: ",window.location.href,e.jsx("br",{}),"Time: ",new Date().toLocaleString(),e.jsx("br",{}),"User Agent: ",navigator.userAgent.substring(0,50),"..."]})]})]})})}),He=({size:s="md",className:t=""})=>{const i=`animate-spin rounded-full border-2 border-gray-300 border-t-blue-600 ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[s]} ${t}`.trim();return e.jsx("div",{className:i,role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})},_e="events",Le=s=>s.toDate(),Ve=s=>$r.fromDate(s),Tt=async s=>{try{const t=Ne(de,_e,s),a=await Xt(t);if(a.exists()){const r=a.data();return{...r,id:a.id,dateTime:Le(r.dateTime),createdAt:Le(r.createdAt),updatedAt:Le(r.updatedAt),attendees:Object.fromEntries(Object.entries(r.attendees||{}).map(([i,n])=>[i,{status:n.status,guestCount:n.guestCount,rsvpAt:Le(n.rsvpAt),bringItems:n.bringItems||[]}]))}}return null}catch(t){throw console.error("Error getting event:",t),new Error("Failed to get event")}},Xn=async(s,t)=>{try{const a=Ne(Ie(de,_e)),r=new Date,i={title:t.title,description:t.description,type:t.type,visibility:t.visibility,organizer:s,dateTime:t.dateTime,duration:t.duration,location:{name:t.location.name,address:t.location.address,...t.location.coordinates&&{coordinates:t.location.coordinates}},...t.capacity&&{capacity:t.capacity},images:[],bringList:{enabled:t.bringList.enabled,items:t.bringList.items.map((n,l)=>({id:`item_${l}`,item:n.item,quantity:n.quantity,fulfilled:!1}))},attendees:{},waitlist:[],status:"published",createdAt:r,updatedAt:r};return await ws(a,{...i,dateTime:Ve(i.dateTime),createdAt:Ve(i.createdAt),updatedAt:Ve(i.updatedAt)}),a.id}catch(a){throw console.error("Error creating event:",a),new Error("Failed to create event")}},el=async(s,t)=>{try{const a={...t,updatedAt:new Date};t.dateTime&&(a.dateTime=Ve(t.dateTime)),a.updatedAt=Ve(a.updatedAt),await We(Ne(de,_e,s),a)}catch(a){throw console.error("Error updating event:",a),new Error("Failed to update event")}},Ys=async(s={},t=20,a)=>{var r,i;try{console.log("🔍 Searching events with filters:",s);const n=s.status&&s.status.length>0||s.visibility&&s.visibility.length>0||s.type&&s.type.length>0;if(console.log("🔍 hasComplexFilters:",n,"filters:",s),!n){console.log("🔍 No complex filters, using simple query");const l=me(Ie(de,_e),Be(t*2)),o=await ot(l);let c=[];o.forEach(x=>{const h=x.data();c.push({id:x.id,title:h.title,type:h.type,visibility:h.visibility,organizer:h.organizer,dateTime:Le(h.dateTime).toISOString(),location:h.location,capacity:h.capacity,attendeeCount:Object.keys(h.attendees||{}).length,coverImage:h.coverImage,status:h.status})}),s.location&&s.location.trim()&&(console.log("🔍 Filtering by location:",s.location),c=c.filter(x=>{var h,y,w,L;return((y=(h=x.location)==null?void 0:h.name)==null?void 0:y.toLowerCase().includes(s.location.toLowerCase()))||((L=(w=x.location)==null?void 0:w.address)==null?void 0:L.toLowerCase().includes(s.location.toLowerCase()))})),c.sort((x,h)=>new Date(h.dateTime).getTime()-new Date(x.dateTime).getTime());const d=a?c.findIndex(x=>x.id===a.id)+1:0,u=c.slice(d,d+t);return console.log(`✅ Found ${u.length} events (simple query)`),{events:u,totalCount:c.length,hasMore:d+t<c.length}}try{let l=me(Ie(de,_e));s.status&&s.status.length>0&&(l=me(l,ct("status","in",s.status))),s.visibility&&s.visibility.length>0&&(l=me(l,ct("visibility","in",s.visibility))),s.type&&s.type.length>0&&(l=me(l,ct("type","in",s.type))),l=me(l,cs("dateTime","asc")),l=me(l,Be(t));const o=await ot(l),c=[];return o.forEach(d=>{const u=d.data();c.push({id:d.id,title:u.title,type:u.type,visibility:u.visibility,organizer:u.organizer,dateTime:Le(u.dateTime).toISOString(),location:u.location,capacity:u.capacity,attendeeCount:Object.keys(u.attendees||{}).length,coverImage:u.coverImage,status:u.status})}),console.log(`✅ Found ${c.length} events (optimized query)`),{events:c,totalCount:c.length,hasMore:o.size===t}}catch(l){if((r=l.message)!=null&&r.includes("index")){console.warn("⚠️ Firestore index not ready, using client-side filtering");const o=me(Ie(de,_e),Be(100)),c=await ot(o);let d=[];c.forEach(h=>{const y=h.data();console.log("📄 Raw event data:",{id:h.id,status:y.status,title:y.title}),d.push({id:h.id,title:y.title,type:y.type,visibility:y.visibility,organizer:y.organizer,dateTime:Le(y.dateTime).toISOString(),location:y.location,capacity:y.capacity,attendeeCount:Object.keys(y.attendees||{}).length,coverImage:y.coverImage,status:y.status})}),console.log("🎯 Applying client-side filters:",s),console.log("📊 Events before filtering:",d.length,d.map(h=>({id:h.id,status:h.status,visibility:h.visibility,type:h.type}))),s.status&&s.status.length>0&&(console.log("🔍 Filtering by status:",s.status),d=d.filter(h=>{const y=s.status.includes(h.status);return console.log(`Event ${h.id}: status=${h.status}, matches=${y}`),y})),s.visibility&&s.visibility.length>0&&(console.log("🔍 Filtering by visibility:",s.visibility),d=d.filter(h=>s.visibility.includes(h.visibility))),s.type&&s.type.length>0&&(console.log("🔍 Filtering by type:",s.type),d=d.filter(h=>s.type.includes(h.type))),console.log("📊 Events after filtering:",d.length),d.sort((h,y)=>new Date(h.dateTime).getTime()-new Date(y.dateTime).getTime());const u=a?d.findIndex(h=>h.id===a.id)+1:0,x=d.slice(u,u+t);return console.log(`✅ Found ${x.length} events (client-side filtered)`),{events:x,totalCount:d.length,hasMore:u+t<d.length}}else throw l}}catch(n){throw console.error("❌ Error searching events:",n),(i=n.message)!=null&&i.includes("index")?(console.warn("⚠️ Database index being created. Please wait a few minutes and try again."),new Error("Database is being optimized. Please wait a few minutes and try again.")):new Error("Failed to search events. Please try again.")}},tl=async(s,t,a)=>{try{const r=await Tt(s);if(!r)throw new Error("Event not found");const i=Object.keys(r.attendees).length,n=r.attendees[t];if(a.status==="going"&&!n&&r.capacity&&i>=r.capacity){const c=[...r.waitlist];return c.includes(t)||c.push(t),await We(Ne(de,_e,s),{waitlist:c,updatedAt:Ve(new Date)}),{success:!1,message:"Event is at capacity. You have been added to the waitlist.",waitlistPosition:c.length}}const l={status:a.status,guestCount:a.guestCount||0,rsvpAt:new Date,bringItems:a.bringItems||[]},o={...r.attendees};if(a.status==="not_going"){delete o[t];const c=r.waitlist.filter(d=>d!==t);await We(Ne(de,_e,s),{attendees:o,waitlist:c,updatedAt:Ve(new Date)})}else o[t]=l,await We(Ne(de,_e,s),{attendees:{...o,[t]:{...l,rsvpAt:Ve(l.rsvpAt)}},updatedAt:Ve(new Date)});return{success:!0,message:`RSVP ${a.status} recorded successfully.`,attendeeInfo:l}}catch(r){throw console.error("Error RSVPing to event:",r),new Error("Failed to RSVP to event")}},sl=async(s,t,a)=>{try{const r=await Tt(s);if(!r||!r.bringList.enabled)throw new Error("Event or bring list not found");const i=r.bringList.items.find(l=>l.id===t);if(!i)throw new Error("Item not found");if(i.assignedTo&&i.assignedTo!==a)throw new Error("Item already claimed by another user");const n=r.bringList.items.map(l=>l.id===t?{...l,assignedTo:a}:l);await We(Ne(de,_e,s),{"bringList.items":n,updatedAt:Ve(new Date)})}catch(r){throw console.error("Error claiming bring list item:",r),new Error("Failed to claim item")}},gr=async(s,t,a=!1)=>{try{console.log("📤 Starting image upload for event:",s,"isCoverImage:",a);const r=zr(Xr,`events/${s}/${t.name}`),i=await Ur(r,t),n=await Br(i.ref);if(console.log("✅ Image uploaded to storage, URL:",n),a)console.log("🖼️ Updating event document with cover image"),await We(Ne(de,_e,s),{coverImage:n,updatedAt:Ve(new Date)}),console.log("✅ Cover image updated in event document");else{const l=await Tt(s);if(l){const o=[...l.images,n];await We(Ne(de,_e,s),{images:o,updatedAt:Ve(new Date)}),console.log("✅ Additional image added to event document")}}return n}catch(r){throw console.error("❌ Error uploading event image:",r),new Error("Failed to upload image")}},al=async s=>{var t;try{try{const a=me(Ie(de,_e),ct("organizer","==",s),cs("dateTime","desc")),r=await ot(a),i=[];return r.forEach(n=>{const l=n.data();i.push({id:n.id,title:l.title,type:l.type,visibility:l.visibility,organizer:l.organizer,dateTime:Le(l.dateTime).toISOString(),location:l.location,capacity:l.capacity,attendeeCount:Object.keys(l.attendees||{}).length,coverImage:l.coverImage,status:l.status})}),console.log(`✅ Found ${i.length} user events (optimized query)`),i}catch(a){if((t=a.message)!=null&&t.includes("index")){console.warn("⚠️ Firestore index not ready for user events, using client-side filtering");const r=me(Ie(de,_e),Be(100)),i=await ot(r);let n=[];return i.forEach(l=>{const o=l.data();o.organizer===s&&n.push({id:l.id,title:o.title,type:o.type,visibility:o.visibility,organizer:o.organizer,dateTime:Le(o.dateTime).toISOString(),location:o.location,capacity:o.capacity,attendeeCount:Object.keys(o.attendees||{}).length,coverImage:o.coverImage,status:o.status})}),n.sort((l,o)=>new Date(o.dateTime).getTime()-new Date(l.dateTime).getTime()),console.log(`✅ Found ${n.length} user events (client-side filtered)`),n}else throw a}}catch(a){throw console.error("Error getting user events:",a),new Error("Failed to get user events")}},rl=(s,t)=>{const a=Ne(de,_e,s);return Lt(a,r=>{if(r.exists()){const i=r.data(),n={...i,id:r.id,dateTime:Le(i.dateTime),createdAt:Le(i.createdAt),updatedAt:Le(i.updatedAt),attendees:Object.fromEntries(Object.entries(i.attendees||{}).map(([l,o])=>[l,{...o,rsvpAt:Le(o.rsvpAt)}]))};t(n)}else t(null)},r=>{console.error("Event listener error:",r),t(null)})},il=async s=>{try{await We(Ne(de,_e,s),{status:"cancelled",updatedAt:Ve(new Date)})}catch(t){throw console.error("Error cancelling event:",t),new Error("Failed to cancel event")}},Xe="users",La=s=>s!=null&&s.toDate?s.toDate().toISOString():s instanceof Date?s.toISOString():typeof s=="string"?s:new Date().toISOString(),Ot=async s=>{try{const t=Ne(de,Xe,s),a=await Xt(t);if(a.exists()){const r=a.data();return{...r,createdAt:La(r.createdAt),updatedAt:La(r.updatedAt)}}return null}catch(t){throw console.error("Error getting user profile:",t),new Error("Failed to get user profile")}},pr=async(s,t)=>{try{const a=Ne(de,Xe,s),r={...t,updatedAt:new Date};await We(a,r)}catch(a){throw console.error("Error updating user profile:",a),new Error("Failed to update user profile")}},os=async(s={},t=20,a)=>{var r,i;try{console.log("🔍 Searching users with filters:",s);try{let n=me(Ie(de,Xe));s.status&&(n=me(n,ct("status","==",s.status))),s.role&&(n=me(n,ct("role","==",s.role))),n=me(n,cs("displayName","asc")),n=me(n,Be(t));const l=await ot(n),o=[];return l.forEach(c=>{const d=c.data();o.push({uid:d.uid,displayName:d.displayName,profileImage:d.profileImage,interests:d.interests,defaultAvailability:d.defaultAvailability})}),console.log(`✅ Found ${o.length} users (optimized query)`),{users:o,hasMore:l.size===t,lastDoc:l.docs[l.docs.length-1]||void 0}}catch(n){if((r=n.message)!=null&&r.includes("index")){console.warn("⚠️ Firestore index not ready, using client-side filtering for users");const l=me(Ie(de,Xe),Be(100)),o=await ot(l);let c=[];o.forEach(x=>{const h=x.data();c.push({uid:h.uid,displayName:h.displayName,profileImage:h.profileImage,interests:h.interests,defaultAvailability:h.defaultAvailability})}),s.status&&(c=c.filter(x=>!0)),s.role&&(c=c.filter(x=>!0)),c.sort((x,h)=>x.displayName.localeCompare(h.displayName));const d=a?c.findIndex(x=>x.uid===a.id)+1:0,u=c.slice(d,d+t);return console.log(`✅ Found ${u.length} users (client-side filtered)`),{users:u,hasMore:d+t<c.length,lastDoc:u.length>0?{id:u[u.length-1].uid}:void 0}}else throw n}}catch(n){throw console.error("❌ Error searching users:",n),(i=n.message)!=null&&i.includes("index")?(console.warn("⚠️ Database index being created. Using simplified user search."),new Error("Database is being optimized. Some features may be limited temporarily.")):new Error("Failed to search users. Please try again.")}},Va=async s=>{try{await pr(s,{status:"approved"})}catch(t){throw console.error("Error approving user:",t),new Error("Failed to approve user")}},nl=async s=>{try{await pr(s,{status:"suspended"})}catch(t){throw console.error("Error suspending user:",t),new Error("Failed to suspend user")}},yr=async()=>{try{const s=me(Ie(de,Xe)),t=await ot(s),a={pending:0,approved:0,suspended:0};return t.forEach(r=>{const i=r.data();a[i.status]=(a[i.status]||0)+1}),a}catch(s){throw console.error("Error getting user count by status:",s),new Error("Failed to get user statistics")}},ll=(s={},t)=>{if(s.status||s.role)try{let r=me(Ie(de,Xe));return s.status&&(r=me(r,ct("status","==",s.status))),s.role&&(r=me(r,ct("role","==",s.role))),r=me(r,cs("displayName","asc"),Be(100)),Lt(r,i=>{const n=[];i.forEach(l=>{const o=l.data();n.push({uid:o.uid,displayName:o.displayName,profileImage:o.profileImage,interests:o.interests,defaultAvailability:o.defaultAvailability})}),t(n)},i=>{var n;if(console.error("Users list listener error:",i),(n=i.message)!=null&&n.includes("index")){console.warn("⚠️ Falling back to simple user listener (no real-time updates)");const l=me(Ie(de,Xe),Be(100));return Lt(l,c=>{const d=[];c.forEach(u=>{const x=u.data();(!s.status||x.status===s.status)&&(!s.role||x.role===s.role)&&d.push({uid:x.uid,displayName:x.displayName,profileImage:x.profileImage,interests:x.interests,defaultAvailability:x.defaultAvailability})}),d.sort((u,x)=>u.displayName.localeCompare(x.displayName)),t(d)},c=>{console.error("Fallback users listener error:",c),t([])})}else return t([]),()=>{}})}catch(r){console.error("Error setting up complex user listener:",r);const i=me(Ie(de,Xe),Be(100));return Lt(i,n=>{const l=[];n.forEach(o=>{const c=o.data();(!s.status||c.status===s.status)&&(!s.role||c.role===s.role)&&l.push({uid:c.uid,displayName:c.displayName,profileImage:c.profileImage,interests:c.interests,defaultAvailability:c.defaultAvailability})}),l.sort((o,c)=>o.displayName.localeCompare(c.displayName)),t(l)},n=>{console.error("Fallback users listener error:",n),t([])})}else{const r=me(Ie(de,Xe),Be(100));return Lt(r,i=>{const n=[];i.forEach(l=>{const o=l.data();n.push({uid:o.uid,displayName:o.displayName,profileImage:o.profileImage,interests:o.interests,defaultAvailability:o.defaultAvailability})}),n.sort((l,o)=>l.displayName.localeCompare(o.displayName)),t(n)},i=>{console.error("Simple users listener error:",i),t([])})}},ol=()=>{const{user:s,userProfile:t}=ke(),a=st(),[r,i]=N.useState([]),[n,l]=N.useState([]),[o,c]=N.useState(!0),[d,u]=N.useState(!0),[x,h]=N.useState({totalEvents:0,totalMembers:0,myEvents:0});N.useEffect(()=>{y()},[]);const y=async()=>{try{c(!0);const v=await Ys({status:["published"]},3);i(v.events),u(!0);const z=await os({status:"approved"},5);l(z.users);const[T,C]=await Promise.all([al((s==null?void 0:s.uid)||""),yr()]);h({totalEvents:v.totalCount,totalMembers:C.approved+C.pending+C.suspended,myEvents:T.length}),h({totalEvents:v.totalCount,totalMembers:C.approved+C.pending+C.suspended,myEvents:T.length})}catch(v){console.error("Error loading dashboard data:",v),H.error("Failed to load dashboard data")}finally{c(!1),u(!1)}},w=v=>v?(v.toDate?v.toDate():new Date(v)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"TBD",L=()=>{const v=new Date().getHours();return v<12?"Good morning":v<17?"Good afternoon":"Good evening"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[L(),", ",(t==null?void 0:t.displayName)||(s==null?void 0:s.displayName)||"Member","! 👋"]}),e.jsx("p",{className:"text-gray-600",children:"Welcome to your LCC Assemble dashboard"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx($,{onClick:()=>a("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"📅 Create Event"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"📊"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.totalEvents}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]})]})}),e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"👥"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.totalMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Community Members"})]})]})}),e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"📅"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.myEvents}),e.jsx("p",{className:"text-sm text-gray-600",children:"My Events"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(G,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx($,{onClick:()=>a("/events/create"),className:"w-full justify-start bg-orange-500 hover:bg-orange-600",children:"📅 Create New Event"}),e.jsx($,{variant:"outline",onClick:()=>a("/events"),className:"w-full justify-start",children:"📋 Browse All Events"}),e.jsx($,{variant:"outline",onClick:()=>a("/members"),className:"w-full justify-start",children:"👥 Find Members"}),e.jsx($,{variant:"outline",onClick:()=>a("/profile"),className:"w-full justify-start",children:"⚙️ Update Profile"})]})]}),e.jsxs(G,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Events"}),e.jsx(qe,{to:"/events",className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all →"})]}),o?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(He,{})}):r.length>0?e.jsx("div",{className:"space-y-3",children:r.slice(0,3).map(v=>{var z;return e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>a(`/events/${v.id}`),children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:v.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:w(v.dateTime)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:((z=v.location)==null?void 0:z.name)||"Location TBD"})]},v.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:"No upcoming events"}),e.jsx($,{size:"sm",onClick:()=>a("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"Create First Event"})]})]}),e.jsxs(G,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Members"}),e.jsx(qe,{to:"/members",className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all →"})]}),d?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(He,{})}):n.length>0?e.jsx("div",{className:"space-y-3",children:n.slice(0,4).map(v=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors",onClick:()=>a(`/members/${v.uid}`),children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:v.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.displayName}),e.jsx("p",{className:"text-xs text-gray-500",children:v.interests.length>0?v.interests[0]:"New member"})]})]},v.uid))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No recent members"})})]})]}),e.jsxs(G,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Community Overview"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:x.totalEvents}),e.jsx("div",{className:"text-sm text-gray-600",children:"Events Created"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.totalMembers}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.myEvents}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your Events"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Events This Month"})]})]})]})]})},cl=()=>{const s=st(),{user:t}=ke(),[a,r]=N.useState([]),[i,n]=N.useState(!0),[l,o]=N.useState(""),[c,d]=N.useState("all"),[u,x]=N.useState("all"),[h,y]=N.useState("grid"),[w,L]=N.useState(!1);N.useEffect(()=>{x(t?"all":"published")},[t]);const v=[{value:"all",label:"All Types"},{value:"birthday",label:"Birthday"},{value:"potluck",label:"Potluck"},{value:"farewell",label:"Farewell"},{value:"celebration",label:"Celebration"},{value:"other",label:"Other"}];N.useEffect(()=>{z()},[l,c,u,t]);const z=async()=>{try{n(!0),console.log("🔍 Loading events with filters:",{selectedStatus:u,selectedType:c,searchQuery:l});const f={};u!=="all"?(f.status=[u],console.log("📋 Applying status filter:",f.status)):console.log("📋 No status filter applied (showing all events)"),c!=="all"&&(f.type=[c]),l.trim()&&(f.location=l),console.log("🔍 Final filters:",f);const j=await Ys(f,20);console.log("✅ Search result:",{eventsCount:j.events.length,hasMore:j.hasMore,events:j.events}),r(j.events),L(j.hasMore)}catch(f){console.error("❌ Error loading events:",f),H.error("Failed to load events")}finally{n(!1)}},T=f=>{const j=new Date(f),ie=new Date,ee=j.getTime()-ie.getTime(),D=Math.ceil(ee/(1e3*60*60*24));return D===0?"Today":D===1?"Tomorrow":D<7?`In ${D} days`:j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:j.getFullYear()!==ie.getFullYear()?"numeric":void 0})},C=f=>{const j=f.capacity||0,ie=f.attendeeCount;return j===0?null:ie>=j?"Full":ie>=j*.8?"Almost Full":`${ie}/${j} attending`},p=({event:f})=>e.jsx("div",{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>s(`/events/${f.id}`),children:e.jsxs(G,{className:"h-full",children:[f.coverImage&&e.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[e.jsx("img",{src:f.coverImage,alt:f.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.visibility==="public"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:f.visibility})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:f.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ml-2 flex-shrink-0 ${f.type==="birthday"?"bg-pink-100 text-pink-800":f.type==="potluck"?"bg-orange-100 text-orange-800":f.type==="farewell"?"bg-blue-100 text-blue-800":f.type==="celebration"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.type})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📅"}),e.jsx("span",{children:T(f.dateTime)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📍"}),e.jsx("span",{className:"truncate",children:f.location.name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"👥"}),e.jsx("span",{children:C(f)||`${f.attendeeCount} attending`})]}),f.status==="published"&&e.jsx($,{size:"sm",variant:"outline",className:"text-xs",children:"View Details"})]})]})]})]})}),k=({event:f})=>e.jsx("div",{className:"cursor-pointer",onClick:()=>s(`/events/${f.id}`),children:e.jsx(G,{className:"p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[f.coverImage?e.jsx("img",{src:f.coverImage,alt:f.title,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0"}):e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0 flex items-center justify-center",children:"📅"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:f.title}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.type==="birthday"?"bg-pink-100 text-pink-800":f.type==="potluck"?"bg-orange-100 text-orange-800":f.type==="farewell"?"bg-blue-100 text-blue-800":f.type==="celebration"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.type}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.visibility==="public"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:f.visibility})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["📅 ",T(f.dateTime)]}),e.jsxs("span",{children:["📍 ",f.location.name]}),e.jsxs("span",{children:["👥 ",C(f)||`${f.attendeeCount} attending`]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx($,{size:"sm",variant:"outline",children:"View Details"})})]})})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),e.jsx("p",{className:"text-gray-600",children:"Discover and join community events"})]}),e.jsx($,{onClick:()=>s("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"📅 Create Event"})]}),e.jsx(G,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(se,{type:"text",placeholder:"Search events by location...",value:l,onChange:f=>o(f.target.value),className:"w-full"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("select",{value:c,onChange:f=>d(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:v.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))}),e.jsxs("select",{value:u,onChange:f=>x(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"published",children:"Published Events"}),e.jsx("option",{value:"all",children:"All Events"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{size:"sm",variant:h==="grid"?"primary":"outline",onClick:()=>y("grid"),children:"Grid"}),e.jsx($,{size:"sm",variant:h==="list"?"primary":"outline",onClick:()=>y("list"),children:"List"})]})]})]})}),i?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(He,{})}):a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",a.length," event",a.length!==1?"s":"",w&&" (more available)"]})}),e.jsx("div",{className:h==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:a.map(f=>h==="grid"?e.jsx(p,{event:f},f.id):e.jsx(k,{event:f},f.id))}),w&&e.jsx("div",{className:"text-center py-8",children:e.jsx($,{variant:"outline",onClick:z,children:"Load More Events"})})]}):e.jsx(G,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📅"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l||c!=="all"?"Try adjusting your filters or search terms.":"Be the first to create an event for the community!"}),e.jsx($,{onClick:()=>s("/events/create"),className:"bg-orange-500 hover:bg-orange-600",children:"Create First Event"})]})})]})},dl=({event:s,currentUserId:t,onRSVP:a,onCancel:r})=>{const[i,n]=N.useState(!1),[l,o]=N.useState(null),[c,d]=N.useState("going"),[u,x]=N.useState(0),h=s.attendees[t],y=!!h,w=s.capacity&&Object.keys(s.attendees).length>=s.capacity,L=y&&h.status==="going"&&w,v=f=>{d(f),f!=="going"&&x(0)},z=async f=>{f.preventDefault();try{n(!0),o(null),await a(c,u)}catch(j){console.error("RSVP error:",j),o(j instanceof Error?j.message:"Failed to update RSVP")}finally{n(!1)}},T=()=>Object.values(s.attendees).reduce((f,j)=>j.status==="going"?f+1+j.guestCount:f,0),C=f=>{switch(f){case"going":return"text-green-600 bg-green-100";case"maybe":return"text-yellow-600 bg-yellow-100";case"not_going":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},p=T(),k=s.capacity?Math.max(0,s.capacity-p):null;return e.jsx(G,{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"RSVP to Event"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.title})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Attendees:"}),e.jsx("span",{className:"text-sm text-gray-900",children:p})]}),s.capacity&&e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Capacity:"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.capacity})]}),k!==null&&k>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Spots Left:"}),e.jsx("span",{className:"text-sm text-green-600",children:k})]}),k===0&&!L&&e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Event is full"})})]}),y&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Your current response:"}),e.jsxs("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ml-2 ${C(h.status)}`,children:[h.status==="going"&&"Going",h.status==="maybe"&&"Maybe",h.status==="not_going"&&"Not Going",L&&" (Waitlist)"]})]}),h.guestCount>0&&e.jsxs("p",{className:"text-center text-sm text-gray-600 mt-2",children:["+",h.guestCount," guest",h.guestCount!==1?"s":""]})]}),e.jsxs("form",{onSubmit:z,className:"space-y-4",children:[l&&e.jsx(Mt,{type:"error",message:l}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your Response"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp-status",value:"going",checked:c==="going",onChange:()=>v("going"),disabled:i,className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Going"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp-status",value:"maybe",checked:c==="maybe",onChange:()=>v("maybe"),disabled:i,className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Maybe"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"rsvp-status",value:"not_going",checked:c==="not_going",onChange:()=>v("not_going"),disabled:i,className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Not Going"})]})]})]}),c==="going"&&e.jsx(se,{type:"number",label:"Number of Additional Guests",value:u.toString(),onChange:f=>x(Math.max(0,Number(f.target.value))),placeholder:"0",min:"0",max:"10",disabled:i,helperText:"How many guests are you bringing?"}),c==="going"&&w&&!L&&e.jsx(Mt,{type:"warning",message:"This event is currently full. You'll be added to the waitlist."}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[r&&e.jsx($,{type:"button",variant:"outline",onClick:r,disabled:i,className:"flex-1",children:"Cancel"}),e.jsx($,{type:"submit",disabled:i,isLoading:i,className:"flex-1",children:i?"Updating...":y?"Update RSVP":"Send RSVP"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Event Details"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(s.dateTime).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",new Date(s.dateTime).toLocaleTimeString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",s.location.name]}),s.bringList.enabled&&e.jsxs("p",{children:[e.jsx("strong",{children:"Bring List:"})," Available"]})]})]})]})})},ul=({event:s,onRSVPUpdate:t})=>{const{user:a}=ke(),[r,i]=N.useState(!1),[n,l]=N.useState(!1);if(!a)return e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to RSVP to this event."}),e.jsx($,{onClick:()=>window.location.href="/login",children:"Log In"})]})});const o=a.uid,c=s.attendees[o],d=!!c,u=new Date(s.dateTime)<new Date,x=async(T,C)=>{try{l(!0),await tl(s.id,o,{status:T,guestCount:C}),H.success("RSVP updated successfully!"),i(!1),t==null||t()}catch(p){throw console.error("RSVP error:",p),H.error(p.message||"Failed to update RSVP"),p}finally{l(!1)}},h=()=>{if(!d)return"Not responded yet";switch(c.status){case"going":return"Going";case"maybe":return"Maybe";case"not_going":return"Not going";default:return"Unknown"}},y=()=>{if(!d)return"bg-gray-100 text-gray-800";switch(c.status){case"going":return"bg-green-100 text-green-800";case"maybe":return"bg-yellow-100 text-yellow-800";case"not_going":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=Object.values(s.attendees).reduce((T,C)=>C.status==="going"?T+1+C.guestCount:T,0),v=s.capacity&&L>=s.capacity,z=d&&c.status==="going"&&v;return r?e.jsx(dl,{event:s,currentUserId:o,onRSVP:x,onCancel:()=>i(!1)}):e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your RSVP"}),d&&!u&&e.jsx($,{variant:"outline",size:"sm",onClick:()=>i(!0),disabled:n,children:"Change Response"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${y()}`,children:[h(),z&&" (Waitlist)"]})]}),d&&c.guestCount>0&&e.jsxs("span",{className:"text-sm text-gray-600",children:["+",c.guestCount," guest",c.guestCount!==1?"s":""]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Attendees:"}),e.jsx("span",{className:"ml-2 font-medium",children:L})]}),s.capacity&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Capacity:"}),e.jsx("span",{className:"ml-2 font-medium",children:s.capacity})]})]}),s.capacity&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(L/s.capacity*100,100)}%`}})}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.capacity-L>0?`${s.capacity-L} spots left`:"Event is full"})]})]}),!u&&e.jsx("div",{className:"pt-2",children:d?e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["RSVP last updated: ",new Date(c.rsvpAt).toLocaleDateString()]})}):e.jsx($,{onClick:()=>i(!0),className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n,children:"RSVP to Event"})}),u&&e.jsx("div",{className:"text-center py-2",children:e.jsx("p",{className:"text-sm text-gray-500",children:"This event has already occurred"})})]})})},ml=({event:s,onItemClaimed:t})=>{var d;const{user:a}=ke(),[r,i]=N.useState(null);if(!s.bringList.enabled||!s.bringList.items.length)return null;const n=async u=>{if(!a){H.error("Please log in to claim items");return}try{i(u),await sl(s.id,u,a.uid),H.success("Item claimed successfully!"),t==null||t()}catch(x){console.error("Error claiming item:",x),H.error(x.message||"Failed to claim item")}finally{i(null)}},l=u=>u.assignedTo?u.assignedTo===(a==null?void 0:a.uid)?{status:"claimed-by-me",text:"Claimed by you",color:"bg-green-100 text-green-800"}:{status:"claimed",text:"Claimed",color:"bg-blue-100 text-blue-800"}:{status:"available",text:"Available",color:"bg-gray-100 text-gray-800"},o=new Date(s.dateTime)<new Date,c=a?((d=s.attendees[a.uid])==null?void 0:d.status)==="going":!1;return e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"What to Bring"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.bringList.items.length," item",s.bringList.items.length!==1?"s":""]})]}),!c&&!o&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsx("p",{className:"text-sm text-yellow-800",children:'RSVP as "Going" to claim items from the bring list.'})}),e.jsx("div",{className:"space-y-3",children:s.bringList.items.map(u=>{const x=l(u),h=!u.assignedTo&&!o&&c&&x.status==="available";return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:u.item}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.color}`,children:x.text})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Quantity needed: ",u.quantity,u.fulfilled&&e.jsx("span",{className:"ml-2 text-green-600",children:"✓ Fulfilled"})]}),u.assignedTo&&u.assignedTo!==(a==null?void 0:a.uid)&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Someone else has claimed this item"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[h&&e.jsx($,{size:"sm",onClick:()=>n(u.id),disabled:r===u.id,isLoading:r===u.id,className:"bg-orange-500 hover:bg-orange-600",children:r===u.id?"Claiming...":"Claim"}),x.status==="claimed-by-me"&&!o&&e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"✓ Yours"})]})]},u.id)})}),s.bringList.items.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No items on the bring list yet."})}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"How it works:"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[e.jsx("li",{children:'• RSVP as "Going" to access the bring list'}),e.jsx("li",{children:"• Claim items you can bring to the event"}),e.jsx("li",{children:"• Mark items as fulfilled when you bring them"}),e.jsx("li",{children:"• Help make the event successful for everyone!"})]})]})]})})},Gs=({address:s,locationName:t,coordinates:a,height:r="200px",className:i=""})=>{const n=()=>{const l=(a==null?void 0:a.lat)||43.6532,o=(a==null?void 0:a.lng)||-79.3832;window.open(`https://www.openstreetmap.org/?mlat=${l}&mlon=${o}&zoom=15`,"_blank")};return e.jsx("div",{className:`rounded-lg overflow-hidden border border-gray-200 ${i}`,style:{height:r},children:e.jsxs("div",{className:"relative w-full h-full bg-gray-100",children:[e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-100 to-blue-100 flex items-center justify-center cursor-pointer hover:from-green-200 hover:to-blue-200 transition-colors",onClick:n,children:e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📍"}),e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:t||"Event Location"}),e.jsx("div",{className:"text-xs text-gray-600 max-w-xs",children:s}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Click to view on OpenStreetMap"})]})}),a&&e.jsxs("div",{className:"absolute top-2 right-2 bg-white bg-opacity-90 px-2 py-1 rounded text-xs text-gray-600",children:[a.lat.toFixed(4),", ",a.lng.toFixed(4)]})]})})},hl=()=>{const{eventId:s}=Da(),{user:t}=ke(),a=st(),[r,i]=N.useState(null),[n,l]=N.useState(null),[o,c]=N.useState(!0);N.useEffect(()=>{s&&d()},[s]);const d=async()=>{if(s)try{c(!0),console.log("🔍 Loading event details for ID:",s);const y=await Tt(s);if(console.log("✅ Event data loaded:",{id:y==null?void 0:y.id,title:y==null?void 0:y.title,coverImage:y==null?void 0:y.coverImage,hasCoverImage:!!(y!=null&&y.coverImage),status:y==null?void 0:y.status}),!y){console.warn("❌ Event not found for ID:",s),H.error("Event not found"),a("/events");return}i(y);try{const v=await Ot(y.organizer);l(v)}catch(v){console.warn("Could not load organizer profile:",v),l({uid:y.organizer,displayName:"Unknown Organizer",email:"",interests:[],dietaryPreferences:[],privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1},role:"member",status:"approved",defaultAvailability:{weekdays:!1,evenings:!1,weekends:!1},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}const w=rl(s,v=>{v&&i(v)}),L=setTimeout(async()=>{try{console.log("🔄 Fallback check: Re-fetching event data");const v=await Tt(s);v&&v.coverImage!==y.coverImage&&i(v)}catch(v){console.warn("Fallback check failed:",v)}},3e3);return()=>{w(),clearTimeout(L)}}catch(y){console.error("❌ Error loading event details:",y);const w=y;console.error("❌ Error details:",{message:w==null?void 0:w.message,code:w==null?void 0:w.code,stack:w==null?void 0:w.stack}),H.error("Failed to load event details"),a("/events");return}finally{c(!1)}},u=y=>y.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"});if(o)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(He,{})});if(!r)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The event you're looking for doesn't exist or has been removed."}),e.jsx($,{onClick:()=>a("/events"),children:"Back to Events"})]});const x=(t==null?void 0:t.uid)===r.organizer,h=new Date(r.dateTime)<new Date;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative",children:(console.log("🎨 Rendering event header, coverImage:",r.coverImage,"condition:",!!r.coverImage),r.coverImage?e.jsxs("div",{className:"h-64 md:h-80 bg-gray-200 relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:r.coverImage,alt:r.title,className:"w-full h-full object-cover",onLoad:()=>console.log("🖼️ Cover image loaded successfully"),onError:y=>console.log("❌ Cover image failed to load:",y)}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${r.type==="birthday"?"bg-pink-500":r.type==="potluck"?"bg-orange-500":r.type==="farewell"?"bg-blue-500":r.type==="celebration"?"bg-green-500":"bg-gray-500"}`,children:r.type}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${r.visibility==="public"?"bg-green-500":"bg-blue-500"}`,children:r.visibility}),r.status==="published"&&e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-green-500",children:"Published"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.title}),e.jsx("p",{className:"text-lg opacity-90",children:r.description})]})]}):e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-8 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-white bg-opacity-20",children:r.type}),e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-white bg-opacity-20",children:r.visibility})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:r.title}),e.jsx("p",{className:"text-lg opacity-90",children:r.description})]}))}),!h&&e.jsx(ul,{event:r,onRSVPUpdate:()=>{d()}}),x&&e.jsx("div",{className:"flex justify-end",children:e.jsx($,{variant:"outline",onClick:()=>a(`/events/${r.id}/edit`),children:"Edit Event"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(G,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"📅"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u(r.dateTime)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Duration: ",r.duration," minutes"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-2xl mr-3 mt-1",children:"📍"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:r.location.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:r.location.address}),e.jsx(Gs,{address:r.location.address,locationName:r.location.name,coordinates:r.location.coordinates,height:"200px",className:"border border-gray-200 rounded-lg"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"👥"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[Object.keys(r.attendees).length," attending",r.capacity&&` / ${r.capacity} capacity`]}),r.capacity&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(Object.keys(r.attendees).length/r.capacity*100,100)}%`}})})]})]})]})]}),e.jsx(ml,{event:r,onItemClaimed:()=>{d()}}),r.images&&r.images.length>0&&e.jsxs(G,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Photos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.images.map((y,w)=>e.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:y,alt:`Event photo ${w+1}`,className:"w-full h-full object-cover"})},w))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Organizer"}),n&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-orange-600",children:n.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.displayName}),e.jsx("p",{className:"text-sm text-gray-600",children:"Event Organizer"})]})]})]}),e.jsxs(G,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Attendees (",Object.keys(r.attendees).length,")"]}),e.jsxs("div",{className:"space-y-2",children:[Object.entries(r.attendees).slice(0,5).map(([y,w])=>e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"?"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Attendee"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[w.status," ",w.guestCount>0&&`+${w.guestCount}`]})]})]})},y)),Object.keys(r.attendees).length>5&&e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["+",Object.keys(r.attendees).length-5," more attendees"]})]})]}),r.waitlist.length>0&&e.jsxs(G,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Waitlist (",r.waitlist.length,")"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This event is at capacity. Join the waitlist for cancellations."})]})]})]})]})},br=({selectedMembers:s,onMembersChange:t,maxSelections:a=50})=>{const{user:r}=ke(),[i,n]=N.useState(""),[l,o]=N.useState([]),[c,d]=N.useState(!1),[u,x]=N.useState("");N.useEffect(()=>{h()},[i]);const h=async()=>{try{d(!0),x("");let z=(await os({status:"approved"},50)).users.filter(T=>T.uid!==(r==null?void 0:r.uid));if(i.trim()){const T=i.toLowerCase();z=z.filter(C=>C.displayName.toLowerCase().includes(T)||C.interests.some(p=>p.toLowerCase().includes(T)))}z=z.sort((T,C)=>T.displayName.localeCompare(C.displayName)),o(z)}catch(v){console.error("Error loading members:",v),x("Failed to load members")}finally{d(!1)}},y=v=>{if(s.includes(v))t(s.filter(z=>z!==v));else{if(s.length>=a){x(`You can select a maximum of ${a} members`);return}t([...s,v])}},w=v=>{t(s.filter(z=>z!==v))},L=v=>l.find(z=>z.uid===v);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(se,{type:"text",placeholder:"Search members by name...",value:i,onChange:v=>n(v.target.value),className:"w-full"})}),s.length>0&&e.jsxs(G,{className:"p-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:["Selected Members (",s.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(v=>{const z=L(v);return e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800",children:[e.jsx("span",{className:"mr-2",children:(z==null?void 0:z.displayName)||"Unknown Member"}),e.jsx("button",{onClick:()=>w(v),className:"text-orange-600 hover:text-orange-800","aria-label":`Remove ${(z==null?void 0:z.displayName)||"member"}`,children:"×"})]},v)})})]}),e.jsxs(G,{className:"p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Available Members"}),u&&e.jsx("div",{className:"text-sm text-red-600 mb-3 p-2 bg-red-50 rounded",children:u}),c?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(He,{})}):l.length>0?e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map(v=>{const z=s.includes(v.uid);return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${z?"bg-orange-50 border-orange-300":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>y(v.uid),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:v.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.displayName}),v.interests.length>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:[v.interests.slice(0,2).join(", "),v.interests.length>2&&"..."]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[z&&e.jsx("span",{className:"text-orange-600 text-sm font-medium",children:"Selected"}),e.jsx($,{size:"sm",variant:z?"secondary":"outline",onClick:T=>{T.stopPropagation(),y(v.uid)},children:z?"Remove":"Add"})]})]},v.uid)})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:i?"No members found matching your search.":"No members available."})]}),e.jsx("div",{className:"text-sm text-gray-600",children:s.length===0?e.jsx("p",{children:"No members selected. This will be a public event visible to all community members."}):e.jsxs("p",{children:[s.length," member",s.length!==1?"s":""," selected. Only these members will be able to see and RSVP to this private event."]})})]})},vt=[{id:"basic",title:"Basic Info",description:"Event title and description"},{id:"details",title:"Details",description:"Date, time, and location"},{id:"settings",title:"Settings",description:"Privacy, capacity, and invitations"},{id:"review",title:"Review",description:"Review and publish"}],Fa=[{value:"birthday",label:"Birthday",icon:"🎂"},{value:"potluck",label:"Potluck",icon:"🍽️"},{value:"farewell",label:"Farewell",icon:"👋"},{value:"celebration",label:"Celebration",icon:"🎉"},{value:"other",label:"Other",icon:"📅"}],xl=()=>{const{user:s}=ke(),t=st(),[a,r]=N.useState(0),[i,n]=N.useState(!1),[l,o]=N.useState(""),[c,d]=N.useState(null),[u,x]=N.useState(""),[h,y]=N.useState([]),[w,L]=N.useState({title:"",description:"",type:"other",visibility:"public",dateTime:new Date,duration:120,location:{name:"",address:"",coordinates:void 0},capacity:void 0,coverImage:void 0,bringList:{enabled:!1,items:[]},invitedMembers:[]}),[v,z]=N.useState({}),T=B=>{const U={};switch(B){case 0:w.title.trim()||(U.title="Title is required"),w.description.trim()||(U.description="Description is required");break;case 1:w.location.name.trim()||(U.locationName="Location name is required"),w.location.address.trim()||(U.locationAddress="Address is required"),(!w.dateTime||w.dateTime<=new Date)&&(U.dateTime="Event must be in the future"),w.duration<30&&(U.duration="Duration must be at least 30 minutes");break;case 2:w.capacity&&w.capacity<1&&(U.capacity="Capacity must be at least 1"),w.visibility==="private"&&h.length===0&&(U.invites="Private events must have at least one invited member");break}return z(U),Object.keys(U).length===0},C=()=>{T(a)&&r(B=>Math.min(B+1,vt.length-1))},p=()=>{r(B=>Math.max(B-1,0))},k=(B,U)=>{L(F=>({...F,[B]:U})),v[B]&&z(F=>{const ae={...F};return delete ae[B],ae})},f=(B,U)=>{L(F=>({...F,location:{...F.location,[B]:U}})),v[`location${B.charAt(0).toUpperCase()+B.slice(1)}`]&&z(F=>{const ae={...F};return delete ae[`location${B.charAt(0).toUpperCase()+B.slice(1)}`],ae})},j=B=>{L(U=>({...U,bringList:{enabled:B,items:B?U.bringList.items:[]}}))},ie=()=>{L(B=>({...B,bringList:{...B.bringList,items:[...B.bringList.items,{item:"",quantity:1}]}}))},ee=(B,U,F)=>{L(ae=>({...ae,bringList:{...ae.bringList,items:ae.bringList.items.map((we,Ee)=>Ee===B?{...we,[U]:F}:we)}}))},D=B=>{L(U=>({...U,bringList:{...U.bringList,items:U.bringList.items.filter((F,ae)=>ae!==B)}}))},_=B=>{var F;const U=(F=B.target.files)==null?void 0:F[0];if(U){if(!U.type.startsWith("image/")){H.error("Please select an image file");return}if(U.size>5*1024*1024){H.error("Image must be less than 5MB");return}d(U);const ae=new FileReader;ae.onload=we=>{var Ee;x((Ee=we.target)==null?void 0:Ee.result)},ae.readAsDataURL(U)}},E=async()=>{if(!s){H.error("You must be logged in to create an event");return}try{n(!0),o("");const B={...w,invitedMembers:w.visibility==="private"?h:[]};o("Creating event...");const U=await Xn(s.uid,B);if(c)try{o("Uploading cover image...");const F=await gr(U,c,!0);o("Finalizing..."),await new Promise(ae=>setTimeout(ae,500))}catch(F){console.error("Failed to upload cover image:",F)}H.success("Event created successfully!"),t(`/events/${U}`)}catch(B){console.error("Error creating event:",B),H.error(B.message||"Failed to create event. Please try again.")}finally{n(!1),o("")}},V=()=>{var B,U;switch(a){case 0:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),e.jsx(se,{type:"text",placeholder:"e.g., Community Potluck Gathering",value:w.title,onChange:F=>k("title",F.target.value),error:v.title,maxLength:100})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-vertical",placeholder:"Describe your event...",value:w.description,onChange:F=>k("description",F.target.value),rows:4,maxLength:2e3}),v.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Event Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Fa.map(F=>e.jsx("button",{type:"button",onClick:()=>k("type",F.value),className:`p-3 border rounded-lg text-left hover:border-orange-300 transition-colors ${w.type===F.value?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:F.icon}),e.jsx("span",{className:"text-sm font-medium",children:F.label})]})},F.value))})]})]});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time *"}),e.jsx(se,{type:"datetime-local",min:new Date().toISOString().slice(0,16),value:w.dateTime.toISOString().slice(0,16),onChange:F=>k("dateTime",new Date(F.target.value)),error:v.dateTime}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Event must be scheduled for a future date and time"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),e.jsx(se,{type:"number",min:"30",max:"1440",value:w.duration.toString(),onChange:F=>k("duration",parseInt(F.target.value)||120),error:v.duration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name *"}),e.jsx(se,{type:"text",placeholder:"e.g., Community Center",value:w.location.name,onChange:F=>f("name",F.target.value),error:v.locationName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),e.jsx(se,{type:"text",placeholder:"Full address for directions",value:w.location.address,onChange:F=>f("address",F.target.value),error:v.locationAddress})]}),w.location.address.trim()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Preview"}),e.jsx(Gs,{address:w.location.address,locationName:w.location.name,height:"200px",className:"border border-gray-200 rounded-lg"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is a preview of the event location on the map"})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visibility"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"public",checked:w.visibility==="public",onChange:F=>k("visibility",F.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Public - Anyone can see and join"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"private",checked:w.visibility==="private",onChange:F=>k("visibility",F.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Private - Invite only"})]})]}),w.visibility==="private"&&e.jsx("p",{className:"mt-2 text-sm text-orange-600",children:"Private events require selecting specific members to invite."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity (optional)"}),e.jsx(se,{type:"number",min:"1",placeholder:"Leave empty for unlimited",value:((B=w.capacity)==null?void 0:B.toString())||"",onChange:F=>k("capacity",F.target.value?parseInt(F.target.value):void 0),error:v.capacity}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of attendees (excluding organizer)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image (optional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100"}),u&&e.jsx("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:u,alt:"Cover preview",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recommended: 1200x600px, max 5MB"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:w.bringList.enabled,onChange:F=>j(F.target.checked),className:"text-orange-600 focus:ring-orange-500 rounded"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Enable bring list for attendees"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Allow attendees to sign up for items to bring"})]}),w.bringList.enabled&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bring List Items"}),e.jsxs("div",{className:"space-y-3",children:[w.bringList.items.map((F,ae)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{type:"text",placeholder:"Item name",value:F.item,onChange:we=>ee(ae,"item",we.target.value),className:"flex-1"}),e.jsx(se,{type:"number",min:"1",value:F.quantity.toString(),onChange:we=>ee(ae,"quantity",parseInt(we.target.value)||1),className:"w-20"}),e.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>D(ae),className:"text-red-600 hover:text-red-700",children:"Remove"})]},ae)),e.jsx($,{type:"button",variant:"outline",onClick:ie,className:"w-full",children:"Add Item"})]})]}),w.visibility==="private"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Invite Members *"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the community members you want to invite to this private event. Only invited members will be able to see and RSVP to the event."}),e.jsx(br,{selectedMembers:h,onMembersChange:y,maxSelections:50}),v.invites&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.invites})]})]});case 3:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Basic Information"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Title:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.title})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Type:"})," ",e.jsx("dd",{className:"inline ml-2",children:(U=Fa.find(F=>F.value===w.type))==null?void 0:U.label})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Visibility:"})," ",e.jsx("dd",{className:"inline ml-2 capitalize",children:w.visibility})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Date & Location"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Date:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.dateTime.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Time:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.dateTime.toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Duration:"})," ",e.jsxs("dd",{className:"inline ml-2",children:[w.duration," minutes"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Location:"})," ",e.jsx("dd",{className:"inline ml-2",children:w.location.name})]})]})]})]}),w.capacity&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Capacity"}),e.jsxs("p",{className:"text-sm",children:["Maximum ",w.capacity," attendees"]})]}),w.bringList.enabled&&w.bringList.items.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Bring List"}),e.jsx("ul",{className:"text-sm space-y-1",children:w.bringList.items.map((F,ae)=>e.jsxs("li",{children:["• ",F.item," (x",F.quantity,")"]},ae))})]})]})});default:return null}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Bring your community together for memorable gatherings"})]}),e.jsx("div",{className:"flex items-center justify-center space-x-4",children:vt.map((B,U)=>e.jsxs(X.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${U<=a?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:U+1}),U<vt.length-1&&e.jsx("div",{className:`flex-1 h-1 ${U<a?"bg-orange-500":"bg-gray-200"}`})]},B.id))}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:vt[a].title}),e.jsx("p",{className:"text-gray-600",children:vt[a].description})]}),e.jsx(G,{className:"p-8",children:V()}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx($,{type:"button",variant:"outline",onClick:p,disabled:a===0,children:"Previous"}),e.jsx("div",{className:"flex space-x-3",children:a<vt.length-1?e.jsx($,{type:"button",onClick:C,children:"Next"}):e.jsx($,{type:"button",onClick:E,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),l||"Creating Event..."]}):"Create Event"})})]})]})},fl=({isOpen:s,eventTitle:t,step:a,onConfirm:r,onCancel:i,isLoading:n=!1})=>s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(G,{className:"w-full max-w-md mx-4",children:e.jsx("div",{className:"p-6",children:a==="confirm"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cancel Event"}),e.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Are you sure you want to cancel ",e.jsxs("strong",{children:['"',t,'"']}),"? This will mark the event as cancelled and notify all attendees."]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx($,{variant:"outline",onClick:i,disabled:n,children:"Keep Event"}),e.jsx($,{className:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",onClick:r,disabled:n,children:"Cancel Event"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Final Confirmation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please confirm your decision"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:"Warning:"})," This will notify all attendees that the event has been cancelled. This action cannot be undone."]})})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx($,{variant:"outline",onClick:i,disabled:n,children:"No, Keep Event"}),e.jsx($,{className:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",onClick:r,disabled:n,children:n?"Cancelling...":"Yes, Cancel Event"})]})]})})})}):null,jt=[{id:"basic",title:"Basic Info",description:"Event title and description"},{id:"details",title:"Details",description:"Date, time, and location"},{id:"settings",title:"Settings",description:"Privacy and capacity"},{id:"invites",title:"Invitations",description:"Invite specific members (private events only)"},{id:"review",title:"Review",description:"Review and save changes"}],Ra=[{value:"birthday",label:"Birthday",icon:"🎂"},{value:"potluck",label:"Potluck",icon:"🍽️"},{value:"farewell",label:"Farewell",icon:"👋"},{value:"celebration",label:"Celebration",icon:"🎉"},{value:"other",label:"Other",icon:"📅"}],gl=()=>{const{eventId:s}=Da(),{user:t}=ke(),a=st(),[r,i]=N.useState(0),[n,l]=N.useState(!1),[o,c]=N.useState(!0),[d,u]=N.useState(null),[x,h]=N.useState(""),[y,w]=N.useState([]),[L,v]=N.useState(null),[z,T]=N.useState(!1),[C,p]=N.useState("confirm"),[k,f]=N.useState(!1),[j,ie]=N.useState({title:"",description:"",type:"other",visibility:"public",dateTime:new Date,duration:120,location:{name:"",address:"",coordinates:void 0},capacity:void 0,coverImage:void 0,bringList:{enabled:!1,items:[]},invitedMembers:[]}),[ee,D]=N.useState({});N.useEffect(()=>{s&&_()},[s]);const _=async()=>{if(!(!s||!t))try{c(!0);const R=await Tt(s);if(!R){H.error("Event not found"),a("/events");return}if(R.organizer!==t.uid){H.error("You do not have permission to edit this event"),a(`/events/${s}`);return}if(R.status==="cancelled"||R.status==="completed"){H.error(`Cannot edit a ${R.status} event`),a(`/events/${s}`);return}v(R),ie({title:R.title,description:R.description,type:R.type,visibility:R.visibility,dateTime:R.dateTime,duration:R.duration,location:R.location,capacity:R.capacity,coverImage:void 0,bringList:R.bringList,invitedMembers:R.invitedMembers||[]}),w(R.invitedMembers||[]),h(R.coverImage||"")}catch(R){console.error("Error loading event:",R),H.error("Failed to load event"),a("/events")}finally{c(!1)}},E=R=>{const Q={};switch(R){case 0:j.title.trim()||(Q.title="Title is required"),j.description.trim()||(Q.description="Description is required");break;case 1:j.location.name.trim()||(Q.locationName="Location name is required"),j.location.address.trim()||(Q.locationAddress="Address is required"),(!j.dateTime||j.dateTime<=new Date)&&(Q.dateTime="Event must be in the future"),j.duration<30&&(Q.duration="Duration must be at least 30 minutes");break;case 2:j.capacity&&j.capacity<1&&(Q.capacity="Capacity must be at least 1");break;case 3:j.visibility==="private"&&y.length===0&&(Q.invites="Private events must have at least one invited member");break}return D(Q),Object.keys(Q).length===0},V=()=>{if(E(r)){let R=r+1;r===2&&j.visibility==="public"&&(R=4),i(Math.min(R,jt.length-1))}},B=()=>{i(R=>Math.max(R-1,0))},U=(R,Q)=>{ie(W=>({...W,[R]:Q})),ee[R]&&D(W=>{const he={...W};return delete he[R],he})},F=(R,Q)=>{ie(W=>({...W,location:{...W.location,[R]:Q}})),ee[`location${R.charAt(0).toUpperCase()+R.slice(1)}`]&&D(W=>{const he={...W};return delete he[`location${R.charAt(0).toUpperCase()+R.slice(1)}`],he})},ae=R=>{ie(Q=>({...Q,bringList:{enabled:R,items:R?Q.bringList.items:[]}}))},we=()=>{ie(R=>({...R,bringList:{...R.bringList,items:[...R.bringList.items,{item:"",quantity:1}]}}))},Ee=(R,Q,W)=>{ie(he=>({...he,bringList:{...he.bringList,items:he.bringList.items.map((De,yt)=>yt===R?{...De,[Q]:W}:De)}}))},pt=R=>{ie(Q=>({...Q,bringList:{...Q.bringList,items:Q.bringList.items.filter((W,he)=>he!==R)}}))},qt=R=>{var W;const Q=(W=R.target.files)==null?void 0:W[0];if(Q){if(!Q.type.startsWith("image/")){H.error("Please select an image file");return}if(Q.size>5*1024*1024){H.error("Image must be less than 5MB");return}u(Q);const he=new FileReader;he.onload=De=>{var yt;h((yt=De.target)==null?void 0:yt.result)},he.readAsDataURL(Q)}},xs=async()=>{if(!(!s||!t))try{l(!0);const R={...j,invitedMembers:j.visibility==="private"?y:[]};if(await el(s,R),d)try{await gr(s,d,!0)}catch(Q){console.warn("Failed to upload cover image:",Q)}H.success("Event updated successfully!"),a(`/events/${s}`)}catch(R){console.error("Error updating event:",R),H.error(R.message||"Failed to update event. Please try again.")}finally{l(!1)}},Wt=()=>{T(!0),p("confirm")},fs=()=>{C==="confirm"?p("warning"):gs()},Yt=()=>{T(!1),p("confirm")},gs=async()=>{if(!(!s||!t))try{f(!0),await il(s),H.success("Event cancelled successfully!"),a("/events")}catch(R){console.error("Error cancelling event:",R),H.error(R.message||"Failed to cancel event. Please try again.")}finally{f(!1),T(!1)}},Pt=()=>{var R,Q;switch(r){case 0:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title *"}),e.jsx(se,{type:"text",placeholder:"e.g., Community Potluck Gathering",value:j.title,onChange:W=>U("title",W.target.value),error:ee.title,maxLength:100})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-vertical",placeholder:"Describe your event...",value:j.description,onChange:W=>U("description",W.target.value),rows:4,maxLength:2e3}),ee.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:ee.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Event Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ra.map(W=>e.jsx("button",{type:"button",onClick:()=>U("type",W.value),className:`p-3 border rounded-lg text-left hover:border-orange-300 transition-colors ${j.type===W.value?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:W.icon}),e.jsx("span",{className:"text-sm font-medium",children:W.label})]})},W.value))})]})]});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time *"}),e.jsx(se,{type:"datetime-local",min:new Date().toISOString().slice(0,16),value:j.dateTime.toISOString().slice(0,16),onChange:W=>U("dateTime",new Date(W.target.value)),error:ee.dateTime}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Event must be scheduled for a future date and time"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),e.jsx(se,{type:"number",min:"30",max:"1440",value:j.duration.toString(),onChange:W=>U("duration",parseInt(W.target.value)||120),error:ee.duration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name *"}),e.jsx(se,{type:"text",placeholder:"e.g., Community Center",value:j.location.name,onChange:W=>F("name",W.target.value),error:ee.locationName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),e.jsx(se,{type:"text",placeholder:"Full address for directions",value:j.location.address,onChange:W=>F("address",W.target.value),error:ee.locationAddress})]}),j.location.address.trim()&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Preview"}),e.jsx(Gs,{address:j.location.address,locationName:j.location.name,coordinates:j.location.coordinates,height:"200px",className:"border border-gray-200 rounded-lg"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This is a preview of the event location on the map"})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visibility"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"public",checked:j.visibility==="public",onChange:W=>U("visibility",W.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Public - Anyone can see and join"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"visibility",value:"private",checked:j.visibility==="private",onChange:W=>U("visibility",W.target.value),className:"text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm",children:"Private - Invite only"})]})]}),j.visibility==="private"&&e.jsx("p",{className:"mt-2 text-sm text-orange-600",children:"Private events require selecting specific members to invite."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity (optional)"}),e.jsx(se,{type:"number",min:"1",placeholder:"Leave empty for unlimited",value:((R=j.capacity)==null?void 0:R.toString())||"",onChange:W=>U("capacity",W.target.value?parseInt(W.target.value):void 0),error:ee.capacity}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of attendees (excluding organizer)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image (optional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:qt,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100"}),x&&e.jsx("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:x,alt:"Cover preview",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recommended: 1200x600px, max 5MB"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:j.bringList.enabled,onChange:W=>ae(W.target.checked),className:"text-orange-600 focus:ring-orange-500 rounded"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Enable bring list for attendees"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Allow attendees to sign up for items to bring"})]}),j.bringList.enabled&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bring List Items"}),e.jsxs("div",{className:"space-y-3",children:[j.bringList.items.map((W,he)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{type:"text",placeholder:"Item name",value:W.item,onChange:De=>Ee(he,"item",De.target.value),className:"flex-1"}),e.jsx(se,{type:"number",min:"1",value:W.quantity.toString(),onChange:De=>Ee(he,"quantity",parseInt(De.target.value)||1),className:"w-20"}),e.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>pt(he),className:"text-red-600 hover:text-red-700",children:"Remove"})]},he)),e.jsx($,{type:"button",variant:"outline",onClick:we,className:"w-full",children:"Add Item"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Invite Members"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the community members you want to invite to this private event. Only invited members will be able to see and RSVP to the event."})]}),e.jsx(br,{selectedMembers:y,onMembersChange:w,maxSelections:50}),y.length===0&&e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," You haven't selected any members yet. Private events require at least one invited member."]})})]});case 4:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Basic Information"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Title:"})," ",e.jsx("dd",{className:"inline ml-2",children:j.title})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Type:"})," ",e.jsx("dd",{className:"inline ml-2",children:(Q=Ra.find(W=>W.value===j.type))==null?void 0:Q.label})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Visibility:"})," ",e.jsx("dd",{className:"inline ml-2 capitalize",children:j.visibility})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Date & Location"}),e.jsxs("dl",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Date:"})," ",e.jsx("dd",{className:"inline ml-2",children:j.dateTime.toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Time:"})," ",e.jsx("dd",{className:"inline ml-2",children:j.dateTime.toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Duration:"})," ",e.jsxs("dd",{className:"inline ml-2",children:[j.duration," minutes"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline font-medium",children:"Location:"})," ",e.jsx("dd",{className:"inline ml-2",children:j.location.name})]})]})]})]}),j.capacity&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Capacity"}),e.jsxs("p",{className:"text-sm",children:["Maximum ",j.capacity," attendees"]})]}),j.bringList.enabled&&j.bringList.items.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Bring List"}),e.jsx("ul",{className:"text-sm space-y-1",children:j.bringList.items.map((W,he)=>e.jsxs("li",{children:["• ",W.item," (x",W.quantity,")"]},he))})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Your changes will be saved and the event will be updated for all attendees."]})})]})});default:return null}};return o?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(He,{})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Event"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Update your event details and settings"})]}),e.jsx("div",{className:"flex items-center justify-center space-x-4",children:jt.map((R,Q)=>{if(R.id==="invites"&&j.visibility==="public")return null;const W=R.id==="invites"&&j.visibility==="private"?Q:R.id==="review"&&j.visibility==="public"?Q-1:Q;return e.jsxs(X.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${Q<=r?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:W+1}),Q<jt.length-1&&R.id!=="invites"&&e.jsx("div",{className:`flex-1 h-1 ${Q<r?"bg-orange-500":"bg-gray-200"}`})]},R.id)})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:jt[r].title}),e.jsx("p",{className:"text-gray-600",children:jt[r].description})]}),e.jsx(G,{className:"p-8",children:Pt()}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx($,{type:"button",variant:"outline",onClick:B,disabled:r===0,children:"Previous"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx($,{variant:"outline",onClick:()=>a(`/events/${s}`),children:"Cancel"}),e.jsx($,{type:"button",className:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",onClick:Wt,children:"Cancel Event"}),r<jt.length-1?e.jsx($,{type:"button",onClick:V,children:"Next"}):e.jsx($,{type:"button",onClick:xs,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),"Saving Changes..."]}):"Save Changes"})]})]}),e.jsx(fl,{isOpen:z,eventTitle:j.title,step:C,onConfirm:fs,onCancel:Yt,isLoading:k})]})},pl=({member:s,currentUserId:t,onViewProfile:a,onContact:r,compact:i=!1,showContactButtons:n=!0})=>{const l=t===s.uid,o=d=>d.split(" ").map(u=>u.charAt(0)).join("").toUpperCase().slice(0,2),c=d=>{r==null||r(s,d)};return i?e.jsx(G,{className:"p-3 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:o(s.displayName)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 truncate",children:[s.displayName,l&&e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(You)"})]}),s.interests.length>0&&e.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[s.interests.slice(0,2).join(", "),s.interests.length>2&&` +${s.interests.length-2} more`]})]}),n&&!l&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx($,{size:"sm",variant:"ghost",onClick:()=>c("whatsapp"),className:"p-1 h-8 w-8",title:"WhatsApp",children:"💬"}),e.jsx($,{size:"sm",variant:"ghost",onClick:()=>c("email"),className:"p-1 h-8 w-8",title:"Email",children:"✉️"})]})]})}):e.jsx(G,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xl font-bold text-white",children:o(s.displayName)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:s.displayName}),l&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"You"})]}),s.interests.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Interests:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.interests.slice(0,4).map((d,u)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:d},u)),s.interests.length>4&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.interests.length-4," more"]})]})]}),n&&!l&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs($,{size:"sm",variant:"outline",onClick:()=>c("whatsapp"),className:"flex items-center space-x-1",children:[e.jsx("span",{children:"💬"}),e.jsx("span",{children:"WhatsApp"})]}),e.jsxs($,{size:"sm",variant:"outline",onClick:()=>c("phone"),className:"flex items-center space-x-1",children:[e.jsx("span",{children:"📞"}),e.jsx("span",{children:"Call"})]}),e.jsxs($,{size:"sm",variant:"outline",onClick:()=>c("email"),className:"flex items-center space-x-1",children:[e.jsx("span",{children:"✉️"}),e.jsx("span",{children:"Email"})]})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx($,{onClick:()=>a==null?void 0:a(s),className:"w-full",variant:l?"outline":"primary",children:l?"Edit Profile":"View Profile"})})]})})},yl=({onMemberSelect:s,onContactMember:t,currentUserId:a})=>{const[r,i]=N.useState([]),[n,l]=N.useState([]),[o,c]=N.useState(!0),[d,u]=N.useState(null),[x,h]=N.useState(""),[y,w]=N.useState({}),[L,v]=N.useState(!1);N.useEffect(()=>(c(!0),u(null),ll({},k=>{const f=k.filter(j=>!0);i(f),l(f),c(!1)})),[]),N.useEffect(()=>{let p=r;if(x.trim()){const k=x.toLowerCase();p=p.filter(f=>f.displayName.toLowerCase().includes(k)||f.interests.some(j=>j.toLowerCase().includes(k)))}l(p)},[r,x]);const z=p=>{h(p.target.value)},T=(p,k)=>{w(f=>({...f,[p]:k||void 0}))},C=()=>{w({}),h("")};return o?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading members..."})]}):d?e.jsx(Mt,{type:"error",message:d}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(se,{type:"text",placeholder:"Search by name or interests...",value:x,onChange:z,className:"w-full"})}),e.jsx($,{variant:"outline",onClick:()=>v(!L),children:L?"Hide Filters":"Show Filters"})]}),L&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:y.status||"",onChange:p=>T("status",p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{value:y.role||"",onChange:p=>T("role",p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]})]})]}),(x||Object.keys(y).length>0)&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[n.length," member",n.length!==1?"s":""," found"]}),e.jsx($,{variant:"ghost",size:"sm",onClick:C,children:"Clear Filters"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>e.jsx(pl,{member:p,currentUserId:a,onViewProfile:s,onContact:t,showContactButtons:!0},p.uid))}),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No members found matching your criteria."}),e.jsx($,{variant:"outline",onClick:C,className:"mt-4",children:"Clear Filters"})]})]})},bl=()=>{st();const[s,t]=N.useState(null),a=i=>{t(i),H.success(`Viewing profile for ${i.displayName}`)},r=async(i,n)=>{var l,o;try{const c=await Ot(i.uid);if(!c){H.error("Unable to load member contact information");return}let d="",u="",x=!1;switch(n){case"whatsapp":if(c.whatsappNumber&&((l=c.privacy)!=null&&l.whatsappVisible))d=`https://wa.me/${c.whatsappNumber.replace(/[\s\-\(\)]/g,"")}?text=Hi%20${encodeURIComponent(i.displayName)}!%20I%20found%20you%20through%20LCC%20Assemble.`,u=`Opening WhatsApp to message ${i.displayName}`,x=!0;else{H.error(`${i.displayName} has not made their WhatsApp number visible`);return}break;case"phone":if(c.phoneNumber&&((o=c.privacy)!=null&&o.phoneVisible))d=`tel:${c.phoneNumber}`,u=`Calling ${i.displayName}`,x=!0;else{H.error(`${i.displayName} has not made their phone number visible`);return}break;case"email":d=`mailto:?subject=Hello%20from%20LCC%20Assemble&body=Hi%20${encodeURIComponent(i.displayName)}!%20I%20found%20you%20through%20LCC%20Assemble.`,u=`Opening email to contact ${i.displayName}`,x=!0;break}x&&d&&(window.open(d,"_blank"),H.success(u))}catch(c){console.error("Error contacting member:",c),H.error("Unable to contact member. Please try again.")}};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Members"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Connect with fellow community members and discover shared interests"})]}),e.jsx(yl,{onMemberSelect:a,onContactMember:r}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Join Our Growing Community"}),e.jsx("p",{className:"text-orange-100 mb-4",children:"Connect with neighbors, share interests, and build lasting relationships"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"50+"}),e.jsx("div",{className:"text-orange-200",children:"Active Members"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"25+"}),e.jsx("div",{className:"text-orange-200",children:"Events This Month"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"15+"}),e.jsx("div",{className:"text-orange-200",children:"Shared Interests"})]})]})]})}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Connect"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"📱 WhatsApp"}),e.jsx("p",{children:"Quick messaging for urgent communications and event coordination"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"📞 Phone"}),e.jsx("p",{children:"Direct calls for immediate assistance or detailed discussions"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"✉️ Email"}),e.jsx("p",{children:"Formal communications and sharing detailed information"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"👥 In-Person"}),e.jsx("p",{children:"Meet at community events and build personal connections"})]})]})]})]})},vl=({onSuccess:s,onCancel:t})=>{const{userProfile:a,updateUserProfile:r,isLoading:i,error:n,clearError:l}=ke(),[o,c]=N.useState(!1),[d,u]=N.useState({displayName:"",phoneNumber:"",whatsappNumber:"",bio:"",interests:[],dietaryPreferences:[],address:{street:"",city:"",postalCode:""},privacy:{phoneVisible:!1,whatsappVisible:!1,addressVisible:!1}}),[x,h]=N.useState({}),[y,w]=N.useState(""),[L,v]=N.useState("");N.useEffect(()=>{a&&u({displayName:a.displayName,phoneNumber:a.phoneNumber||"",whatsappNumber:a.whatsappNumber||"",bio:a.bio||"",interests:a.interests||[],dietaryPreferences:a.dietaryPreferences||[],address:a.address||{street:"",city:"",postalCode:""},privacy:a.privacy})},[a]);const z=D=>_=>{const E=_.target.value;u(V=>({...V,[D]:E})),x[D]&&h(V=>({...V,[D]:""})),n&&l&&l()},T=D=>_=>{const E=_.target.value;u(V=>({...V,address:{...V.address,[D]:E}}))},C=D=>_=>{const E=_.target.checked;u(V=>({...V,privacy:{...V.privacy,[D]:E}}))},p=()=>{y.trim()&&!d.interests.includes(y.trim())&&(u(D=>({...D,interests:[...D.interests,y.trim()]})),w(""))},k=D=>{u(_=>({..._,interests:_.interests.filter(E=>E!==D)}))},f=()=>{L.trim()&&!d.dietaryPreferences.includes(L.trim())&&(u(D=>({...D,dietaryPreferences:[...D.dietaryPreferences,L.trim()]})),v(""))},j=D=>{u(_=>({..._,dietaryPreferences:_.dietaryPreferences.filter(E=>E!==D)}))},ie=()=>{const D={};return d.displayName.trim()?d.displayName.length<2?D.displayName="Display name must be at least 2 characters":d.displayName.length>50&&(D.displayName="Display name must be less than 50 characters"):D.displayName="Display name is required",d.bio&&d.bio.length>500&&(D.bio="Bio must be less than 500 characters"),d.phoneNumber&&!/^\+?[\d\s\-\(\)]+$/.test(d.phoneNumber)&&(D.phoneNumber="Please enter a valid phone number"),d.whatsappNumber&&!/^\+?[\d\s\-\(\)]+$/.test(d.whatsappNumber)&&(D.whatsappNumber="Please enter a valid WhatsApp number"),h(D),Object.keys(D).length===0},ee=async D=>{if(D.preventDefault(),!!ie())try{c(!0),r&&(await r(d),s==null||s())}catch{}finally{c(!1)}};return e.jsx(G,{className:"w-full max-w-2xl mx-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Update your personal information and preferences"})]}),e.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[n&&e.jsx(Mt,{type:"error",message:n}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),e.jsx(se,{type:"text",label:"Display Name",value:d.displayName,onChange:z("displayName"),...x.displayName&&{error:x.displayName},placeholder:"Your display name",disabled:i||o,required:!0}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),e.jsx("textarea",{value:d.bio,onChange:z("bio"),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tell us about yourself...",rows:3,disabled:i||o}),x.bio&&e.jsx("p",{className:"text-sm text-red-600",children:x.bio}),e.jsxs("p",{className:"text-sm text-gray-500",children:[d.bio.length,"/500 characters"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact Information"}),e.jsx(se,{type:"tel",label:"Phone Number",value:d.phoneNumber,onChange:z("phoneNumber"),...x.phoneNumber&&{error:x.phoneNumber},placeholder:"+1 (555) 123-4567",disabled:i||o}),e.jsx(se,{type:"tel",label:"WhatsApp Number",value:d.whatsappNumber,onChange:z("whatsappNumber"),...x.whatsappNumber&&{error:x.whatsappNumber},placeholder:"+1 (555) 123-4567",disabled:i||o})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Address"}),e.jsx(se,{type:"text",label:"Street Address",value:d.address.street,onChange:T("street"),placeholder:"123 Main Street",disabled:i||o}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(se,{type:"text",label:"City",value:d.address.city,onChange:T("city"),placeholder:"City",disabled:i||o}),e.jsx(se,{type:"text",label:"Postal Code",value:d.address.postalCode,onChange:T("postalCode"),placeholder:"A1A 1A1",disabled:i||o})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Interests"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{type:"text",value:y,onChange:D=>w(D.target.value),placeholder:"Add an interest...",disabled:i||o,onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),p())}}),e.jsx($,{type:"button",onClick:p,disabled:!y.trim()||i||o,size:"sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.interests.map(D=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[D,e.jsx("button",{type:"button",onClick:()=>k(D),className:"ml-2 text-blue-600 hover:text-blue-800",disabled:i||o,children:"×"})]},D))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dietary Preferences"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{type:"text",value:L,onChange:D=>v(D.target.value),placeholder:"Add a dietary preference...",disabled:i||o,onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),f())}}),e.jsx($,{type:"button",onClick:f,disabled:!L.trim()||i||o,size:"sm",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.dietaryPreferences.map(D=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[D,e.jsx("button",{type:"button",onClick:()=>j(D),className:"ml-2 text-green-600 hover:text-green-800",disabled:i||o,children:"×"})]},D))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.privacy.phoneVisible,onChange:C("phoneVisible"),disabled:i||o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make phone number visible to other members"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.privacy.whatsappVisible,onChange:C("whatsappVisible"),disabled:i||o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make WhatsApp number visible to other members"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.privacy.addressVisible,onChange:C("addressVisible"),disabled:i||o,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make address visible to other members"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[t&&e.jsx($,{type:"button",variant:"outline",onClick:t,disabled:i||o,children:"Cancel"}),e.jsx($,{type:"submit",disabled:i||o,isLoading:o,children:o?"Saving...":"Save Profile"})]})]})]})})},jl=()=>{var l,o,c,d,u;const s=st(),{userProfile:t,logout:a}=ke(),r=()=>{H.success("Profile updated successfully!")},i=async()=>{try{await a(),H.success("Logged out successfully"),s("/login")}catch{H.error("Failed to log out")}};if(!t)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(He,{})});const n=x=>x.split(" ").map(h=>h.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your account information and preferences"})]}),e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:n(t.displayName)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.displayName}),e.jsx("p",{className:"text-gray-600",children:t.email}),t.bio&&e.jsx("p",{className:"text-gray-700 mt-1",children:t.bio}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Role: ",t.role]}),e.jsxs("span",{children:["Status: ",t.status]}),e.jsxs("span",{children:["Member since: ",new Date(t.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx($,{variant:"outline",size:"sm",onClick:()=>s("/events"),children:"View My Events"}),e.jsx($,{variant:"outline",size:"sm",onClick:i,className:"text-red-600 hover:text-red-800",children:"Logout"})]})]})}),e.jsx(vl,{onSuccess:r}),e.jsxs(G,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((l=t.interests)==null?void 0:l.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Interests Listed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:((o=t.dietaryPreferences)==null?void 0:o.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Dietary Preferences"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(c=t.privacy)!=null&&c.phoneVisible||(d=t.privacy)!=null&&d.whatsappVisible||(u=t.privacy)!=null&&u.addressVisible?"Yes":"No"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Contact Info Public"})]})]})]}),e.jsxs(G,{className:"p-6 bg-blue-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Privacy & Security"}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Your privacy is important to us. You control what information is visible to other community members. You can change your privacy settings above."}),e.jsxs("div",{className:"text-xs text-blue-700",children:[e.jsx("p",{children:"• Phone/WhatsApp numbers are only visible if you choose to share them"}),e.jsx("p",{children:"• Your email address is never shared with other members"}),e.jsx("p",{children:"• You can update your privacy settings at any time"})]})]})]})},Nl=()=>{const{user:s}=ke(),[t,a]=N.useState([]),[r,i]=N.useState([]),[n,l]=N.useState({}),[o,c]=N.useState([]),[d,u]=N.useState(!0),[x,h]=N.useState(null),[y,w]=N.useState({totalMembers:0,pendingMembers:0,approvedMembers:0,suspendedMembers:0,totalEvents:0,publishedEvents:0});N.useEffect(()=>{L()},[]);const L=async()=>{try{u(!0);const p=await os({},1e3);i(p.users);const k=await os({status:"pending"},100);a(k.users);const f=await Ys({},100);c(f.events);const j=await yr(),ie=f.events.reduce((ee,D)=>(ee.totalEvents++,D.status==="published"&&ee.publishedEvents++,ee),{totalEvents:0,publishedEvents:0});w({totalMembers:j.pending+j.approved+j.suspended,pendingMembers:j.pending,approvedMembers:j.approved,suspendedMembers:j.suspended,...ie})}catch(p){console.error("Error loading admin data:",p),H.error("Failed to load admin data")}finally{u(!1)}},v=async p=>{try{h(p),await Va(p),H.success("Member approved successfully"),a(f=>f.filter(j=>j.uid!==p)),w(f=>({...f,pendingMembers:f.pendingMembers-1,approvedMembers:f.approvedMembers+1}));const k=await Ot(p);k&&l(f=>({...f,[p]:k}))}catch(k){console.error("Error approving member:",k),H.error("Failed to approve member")}finally{h(null)}},z=async p=>{try{h(p),await nl(p),H.success("Member suspended"),w(f=>({...f,approvedMembers:f.approvedMembers-1,suspendedMembers:f.suspendedMembers+1}));const k=await Ot(p);k&&l(f=>({...f,[p]:k}))}catch(k){console.error("Error suspending member:",k),H.error("Failed to suspend member")}finally{h(null)}},T=async p=>{try{h(p),await Va(p),H.success("Member reactivated"),w(f=>({...f,suspendedMembers:f.suspendedMembers-1,approvedMembers:f.approvedMembers+1}));const k=await Ot(p);k&&l(f=>({...f,[p]:k}))}catch(k){console.error("Error reactivating member:",k),H.error("Failed to reactivate member")}finally{h(null)}},C=p=>{switch(p){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(He,{})}):e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage community members and monitor activity"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"👥"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.totalMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]})]})}),e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"⏳"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.pendingMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]})]})}),e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"✅"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.approvedMembers}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Members"})]})]})}),e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"📅"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.totalEvents}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"})]})]})})]}),t.length>0&&e.jsxs(G,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pending Member Approvals"}),e.jsx("div",{className:"space-y-4",children:t.map(p=>{const k=n[p.uid];return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-orange-600",children:p.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:p.displayName}),k&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:k.email}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",new Date(k.createdAt).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx($,{size:"sm",onClick:()=>v(p.uid),disabled:x===p.uid,isLoading:x===p.uid,className:"bg-green-500 hover:bg-green-600",children:"Approve"})})]},p.uid)})})]}),e.jsxs(G,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Member Overview"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.slice(0,9).map(p=>{const k=n[p.uid];return e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-orange-600",children:p.displayName.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:p.displayName}),k&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs text-gray-600 truncate",children:k.email}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-semibold rounded-full ${C(k.status)}`,children:k.status}),k.status==="approved"&&p.uid!==(s==null?void 0:s.uid)&&e.jsx($,{size:"sm",variant:"outline",onClick:()=>z(p.uid),disabled:x===p.uid,isLoading:x===p.uid,className:"text-red-600 hover:text-red-800",children:"Suspend"}),k.status==="suspended"&&e.jsx($,{size:"sm",variant:"outline",onClick:()=>T(p.uid),disabled:x===p.uid,isLoading:x===p.uid,className:"text-green-600 hover:text-green-800",children:"Reactivate"})]})]})]})]})},p.uid)})}),r.length>9&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing 9 of ",r.length," members"]})})]}),e.jsxs(G,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Events"}),e.jsx("div",{className:"space-y-3",children:o.slice(0,5).map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:p.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.location.name," • ",p.attendeeCount," attendees"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.status==="published"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.status}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(p.dateTime).toLocaleDateString()})]})]},p.id))}),o.length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No events created yet"})]})]})},wl=()=>{const s=()=>{window.open("mailto:lakeshoreculturalcommittee@gmail.com","_blank")},t=()=>{window.open("tel:+16479735359","_blank")},a=()=>{window.open("https://wa.me/16479735359","_blank")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-green-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"Lakeshore Cultural Committee"}),e.jsx("p",{className:"text-xl md:text-2xl mb-2 opacity-90",children:"LCC - Building Community Together"}),e.jsx("p",{className:"text-lg opacity-80 italic",children:'"Creating bonds that go beyond borders, celebrating diversity in unity."'})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-12",children:[e.jsxs(G,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"About LCC"}),e.jsx("div",{className:"w-24 h-1 bg-orange-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"prose prose-lg max-w-none text-center",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"The Lakeshore Cultural Committee (LCC) is a close-knit group of friends and families, primarily residing in the Bathurst–Lakeshore area of Toronto. For the past five years, LCC has been a vibrant platform to celebrate festivals, traditions, and togetherness far away from our roots."}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"From colorful festivities like Holi, Ganesh Utsav, and Navratri, to joyful occasions such as Christmas and New Year, and even spirited sports tournaments, LCC brings people together to create lasting memories. We organize potluck dinners, farewell parties, housewarming celebrations, and much more – fostering a sense of belonging and community spirit in our diverse neighborhood."}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Whether you're new to the area or have been part of the community for years, LCC welcomes everyone to join our events, share experiences, and build meaningful connections. Our committee is dedicated to preserving cultural traditions while embracing the multicultural fabric of Toronto."})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-lg font-semibold text-orange-600 italic",children:"Join us in celebrating life, culture, and community!"})})]}),e.jsxs(G,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"What We Do"}),e.jsx("div",{className:"w-24 h-1 bg-green-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🪔"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cultural Festivals"}),e.jsx("p",{className:"text-gray-600",children:"Holi, Ganesh Utsav, Navratri, and more"})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🎄"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Holiday Celebrations"}),e.jsx("p",{className:"text-gray-600",children:"Christmas, New Year, and seasonal events"})]}),e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🏆"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Sports Tournaments"}),e.jsx("p",{className:"text-gray-600",children:"Volleyball, basketball, and friendly competitions"})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🍽️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Community Gatherings"}),e.jsx("p",{className:"text-gray-600",children:"Potlucks, farewell parties, and social meetups"})]}),e.jsxs("div",{className:"text-center p-6 bg-pink-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🎂"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Birthday Celebrations"}),e.jsx("p",{className:"text-gray-600",children:"Special birthday parties and celebrations"})]}),e.jsxs("div",{className:"text-center p-6 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🏡"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Housewarming Events"}),e.jsx("p",{className:"text-gray-600",children:"Welcoming new homes and families"})]})]})]}),e.jsxs(G,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get In Touch"}),e.jsx("div",{className:"w-24 h-1 bg-blue-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✉️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email"}),e.jsx($,{onClick:s,variant:"outline",className:"mb-2",children:"lakeshoreculturalcommittee@gmail.com"}),e.jsx("p",{className:"text-sm text-gray-600",children:"For general inquiries and information"})]}),e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📞"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Phone"}),e.jsx($,{onClick:t,variant:"outline",className:"mb-2",children:"+1 647 973 5359"}),e.jsx("p",{className:"text-sm text-gray-600",children:"For urgent communications"})]}),e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"💬"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"WhatsApp"}),e.jsx($,{onClick:a,variant:"outline",className:"mb-2",children:"Message Us"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Quick messaging for event coordination"})]})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"📍"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Location"}),e.jsx("p",{className:"text-gray-700",children:"Bathurst–Lakeshore area, Toronto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Serving the multicultural community of Toronto's west end"})]})]}),e.jsx(G,{className:"p-8 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Join Us?"}),e.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Complete your profile and become part of our vibrant community. Start attending events, organizing activities, and building lasting friendships!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(qe,{to:"/register",children:e.jsx($,{className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-3 text-lg font-semibold",children:"Join the Community"})}),e.jsx(qe,{to:"/login",children:e.jsx($,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-orange-600 px-8 py-3 text-lg font-semibold",children:"Sign In"})})]}),e.jsxs("p",{className:"text-sm mt-6 opacity-80",children:["Already have an account? ",e.jsx(qe,{to:"/login",className:"underline hover:no-underline",children:"Sign in here"})]})]})}),e.jsxs(G,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Community"}),e.jsx("div",{className:"w-24 h-1 bg-orange-500 mx-auto mb-6"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"5+"}),e.jsx("div",{className:"text-gray-600",children:"Years of Community"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"100+"}),e.jsx("div",{className:"text-gray-600",children:"Active Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"50+"}),e.jsx("div",{className:"text-gray-600",children:"Events Organized"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"∞"}),e.jsx("div",{className:"text-gray-600",children:"Memories Created"})]})]})]})]})]})},rt=({children:s,adminOnly:t=!1})=>{const{user:a,loading:r}=ke();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a?t&&a.role!=="admin"?e.jsx(Kt,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:s}):e.jsx(Kt,{to:"/login",replace:!0})},Oa=({children:s})=>{const{user:t,loading:a}=ke();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t?e.jsx(Kt,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:s})},_l=({children:s})=>{const{user:t,logout:a}=ke(),r=async()=>{try{await a()}catch(i){console.error("Logout error:",i)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(qe,{to:"/info",className:"text-xl font-bold text-gray-900 hover:text-orange-600 transition-colors",children:"LCC Assemble"})}),e.jsx("div",{className:"flex items-center space-x-4",children:t&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",t.displayName]}),e.jsx($,{variant:"outline",size:"sm",onClick:r,children:"Logout"})]})})]})})}),t&&e.jsx("nav",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("a",{href:"/info",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"About"}),e.jsx("a",{href:"/dashboard",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Dashboard"}),e.jsx("a",{href:"/events",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Events"}),e.jsx("a",{href:"/members",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Members"}),e.jsx("a",{href:"/profile",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Profile"}),t.role==="admin"&&e.jsx("a",{href:"/admin",className:"border-transparent text-red-500 hover:border-red-300 hover:text-red-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Admin"})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s}),e.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:e.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:e.jsx("p",{className:"text-center text-sm text-gray-500",children:"© 2025 LCC Assemble. Building community connections."})})}),e.jsx(Ui,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})};function kl(){return e.jsx(ei,{children:e.jsx(Er,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(_l,{children:e.jsxs(Sr,{children:[e.jsx(Se,{path:"/test",element:e.jsx(Kn,{})}),e.jsx(Se,{path:"/info",element:e.jsx(wl,{})}),e.jsx(Se,{path:"/login",element:e.jsx(Oa,{children:e.jsx(Bi,{})})}),e.jsx(Se,{path:"/register",element:e.jsx(Oa,{children:e.jsx(Jn,{})})}),e.jsx(Se,{path:"/dashboard",element:e.jsx(rt,{children:e.jsx(ol,{})})}),e.jsx(Se,{path:"/events",element:e.jsx(rt,{children:e.jsx(cl,{})})}),e.jsx(Se,{path:"/events/create",element:e.jsx(rt,{children:e.jsx(xl,{})})}),e.jsx(Se,{path:"/events/:eventId",element:e.jsx(rt,{children:e.jsx(hl,{})})}),e.jsx(Se,{path:"/events/:eventId/edit",element:e.jsx(rt,{children:e.jsx(gl,{})})}),e.jsx(Se,{path:"/members",element:e.jsx(rt,{children:e.jsx(bl,{})})}),e.jsx(Se,{path:"/profile",element:e.jsx(rt,{children:e.jsx(jl,{})})}),e.jsx(Se,{path:"/admin",element:e.jsx(rt,{adminOnly:!0,children:e.jsx(Nl,{})})}),e.jsx(Se,{path:"/",element:e.jsx(Kt,{to:"/info",replace:!0})}),e.jsx(Se,{path:"*",element:e.jsxs(G,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist."}),e.jsx($,{onClick:()=>window.history.back(),children:"Go Back"})]})})]})})})})}const vr=document.getElementById("root");if(!vr)throw new Error("Failed to find the root element");_s.createRoot(vr).render(e.jsx(X.StrictMode,{children:e.jsx(kl,{})}));
//# sourceMappingURL=index-CFTCfoYm.js.map
